
<!DOCTYPE html>
<html class="" lang="en">
<head><script type="text/javascript">/* <![CDATA[ */_cf_loadingtexthtml="<img alt=' ' src='/cf_scripts/scripts/ajax/resources/cf/images/loading.gif'/>";
_cf_contextpath="";
_cf_ajaxscriptsrc="/cf_scripts/scripts/ajax";
_cf_jsonprefix='//';
_cf_websocket_port=8575;
_cf_flash_policy_port=1243;
_cf_clientid='90D5FD7FFC344E0AE79E9D8AF458A7DF';/* ]]> */</script><script type="text/javascript" src="/cf_scripts/scripts/ajax/yui/yahoo-dom-event/yahoo-dom-event.js"></script>
<script type="text/javascript" src="/cf_scripts/scripts/ajax/messages/cfmessage.js"></script>
<script type="text/javascript" src="/cf_scripts/scripts/ajax/package/cfajax.js"></script>
<script type="text/javascript" src="/cf_scripts/scripts/ajax/package/cfcalendar.js"></script>
<script type="text/javascript" src="/cf_scripts/scripts/ajax/ext/ext-all.js"></script>
<script type="text/javascript" src="/cf_scripts/scripts/ajax/yui/animation/animation-min.js"></script>
<script type="text/javascript" src="/cf_scripts/scripts/ajax/yui/calendar/calendar-min.js"></script>
<link rel="stylesheet" type="text/css" href="/cf_scripts/scripts/ajax/resources/yui/yui.css" />
<link rel="stylesheet" type="text/css" href="/cf_scripts/scripts/ajax/resources/cf/cf.css" />
<script type="text/javascript" src="/cf_scripts/scripts/cfform.js"></script>
<script type="text/javascript" src="/cf_scripts/scripts/masks.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106665870-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-106665870-1');
</script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="keywords" content="Report banded bird,Color marker report,BBL, CofA, Certificate Of Appreciation, Bird Banding Laboratory">
<meta name="referrer" content="always" />
	
<link href="/BBL/stylesheets/common.css" rel="stylesheet" type="text/css" media="screen" />
<link href="/BBL/stylesheets/custom.css" rel="stylesheet" type="text/css" media="screen" />
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
   <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TKQR8KP');</script>
<!-- End Google Tag Manager -->

<title>Banded Bird Encounter Reporting</title>
<script src="/BBL/SpryAssets/SpryTabbedPanels.js" type="text/javascript"></script>
<link href="/BBL/SpryAssets/SpryTabbedPanels.css" rel="stylesheet" type="text/css" />

<script type='text/javascript' src='/BBL/cfajax/core/engine20130829.js'></script>
<script type='text/javascript' src='/BBL/cfajax/core/util.js'></script>
<script type='text/javascript' src='/BBL/cfajax/core/settings.js'></script>
<script type='text/javascript' src='/BBL/cfajax/core/prototype.js'></script>
<script type='text/javascript' src='/BBL/cfajax/core/suggest20130829.js'></script>


<script type="text/javascript" language="JavaScript">
// The following add rpad (Right Pad) and lpad (Left Pad) methods to the String object.
// Call the method as follows myString.lpad(5,'0') means pad the string myString on the left to length 5 with zeros.
String.prototype.lpad = function (n,c) {var i; var a = this.split(''); for (i = 0; i < n - this.length; i++) {a.unshift (c)}; return a.join('')}
String.prototype.rpad = function (n,c) {var i; var a = this.split(''); for (i = 0; i < n - this.length; i++) {a.push(c)}; return a.join('')}
String.prototype.trim = function() {return this.replace(/^\s+|\s+$/g,"");}
String.prototype.ltrim = function() { return this.replace(/^\s+/,""); }
String.prototype.rtrim = function() { return this.replace(/\s+$/,""); }

</script>

<script language="JavaScript1.2"  type="text/javascript" src="ColorMarker.js"></script>
<script language="javascript1.2"  type="text/javascript" src="contact_object_4wep.js"></script>
<script language="javascript1.2"  type="text/javascript" src="csspopup_m.js"></script>
<script language="javascript" src="Date_format.js"></script>

<script src="history.js/scripts/bundled/html4html5/native.history.js"></script>

<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3&libraries=geometry&sensor=false&language=en&key=AIzaSyBqlBAIwyVr93WVoetRvYuCZBe8VTe3yzs"></script>

<script>

function checkCookie(){
	//alert("In checkCookie");
    var cookieEnabled=(navigator.cookieEnabled)? true : false;
    if (typeof navigator.cookieEnabled=="undefined" && !cookieEnabled){ 
        document.cookie="testcookie";
        cookieEnabled=(document.cookie.indexOf("testcookie")!=-1)? true : false;
    }
	//alert("Cookies enabled: "+cookieEnabled);
    return (cookieEnabled)?true:showCookieFail();
}

function showCookieFail(){
  alert("Warning! Cookies are disabled! Please enable cookies before proceeding.");
}

 function checkPopup() {
  
  //alert("in checkPopup");
  /*var openWin = window.open("","myWinTest","height=100,width=100,menubar=no,resizable=no,scrollbars=no,status=no,titlebar=no,top=0");
  
   if (!openWin) {
    alert("A popup blocker was detected. Please Remove popupblocker for this site");
     } else {
		 //alert("No popup blocker dectected");
         openWin.close();
	
   }*/
  checkCookie(); 
}
//window.onload = checkPopup();
if (window.attachEvent) {window.attachEvent('onload', checkPopup);}
else if (window.addEventListener) {window.addEventListener('load', checkPopup, false);}
else {document.addEventListener('load', checkPopup, false);}

</script>


<script type="text/javascript" language="JavaScript">
      var citylookup = new Suggest();
	  var searchString = "";
	 // var countyselectChk = ""
      var specieslookup = new Suggest();
	  var WMAlookup = new Suggest();
	  WMAlookup.minCharToStartSearch=2;
	  citylookup.minCharToStartSearch=2;
</script>

<script type="text/javascript" language="JavaScript">

_cfscriptBBLZipLocation = "BBL_lookup_functions.cfm" 
    var mylat=39;//39.05245
	var mylon=-100;//76.81426
	var myloc_desc="";
	var myzoom=3;
	var mycountry="";
	var mystate="";
	var mycounty="";
	var mytown="";
	var mycountrycode="";
	var mystatecode="";
	var mycountycode="";
	var mymiles=0;
	var mydir="";
	var mycoord_prec=""; //Coordinates Precision 


var geocoder = new google.maps.Geocoder();
var map;
//var marker2;
var marker1;
var marker;


var latLng;
var latLng1;
var lat_dd;
var lat_mm;
var lat_ss;
var lat_hem;

var lon_dd;
var lon_mm;
var lon_ss;
var lon_hem;
var dms_coord;
var tobemapped=true;
var myBounds
var latS
var latN
var lonE
var lonW



DWREngine.setOrdered(true);

function removeInvalidChars(myinput) {
  var str = myinput.value;
  //alert(str);
 // var utf8 = new RegExp('/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|[\xEE-\xEF][\x80-\xBF]{2}|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/','g');

  str = str.replace(/[\u044F-\uFFFF]|[\u0000-\u001F]|[\u007F-\u00AF]|[\u00B1-\u00BE]/g, ' ');
  myinput.value=str;
  trimTxt(myinput);
}

function getCityAndState()
		 {
			 if (document.enc_rec.p_zip[0])
			 {  
				var ccode = document.enc_rec.p_contact_cntry_code[0].value;
				var zipnew = document.enc_rec.p_zip[0].value;
			 } else {
		 
				var ccode = document.enc_rec.p_contact_cntry_code.value;
				var zipnew = document.enc_rec.p_zip.value;
			 }
				if (ccode == 'US')
				{
					zipnew = zipnew.substring(0,5);
		
					var zipcode = DWRUtil.getValue("p_zip");
			
					DWREngine._execute(_cfscriptBBLZipLocation, null, 'zipdb', zipnew, getCityAndStateResult);
				}
			
		 }

function getCityAndState2(n)
		 {
		//alert ("entered getCityAndState");
			var ccode = document.enc_rec.p_contact_cntry_code[n-1].value;
			var zipnew = document.enc_rec.p_zip[n-1].value;
		//alert ("country_code is " + (document.Recovery.wr_contact_cntry_code.value));
			if (ccode == 'US')
			{
		    	zipnew = zipnew.substring(0,5);
	
				var zipcode = DWRUtil.getValue("p_zip"+(n));
		
				DWREngine._execute(_cfscriptBBLZipLocation, null, 'zipdb', zipnew, function getCityAndStateResult2(addressObject)
				 {
						DWRUtil.setValue("p_city"+(n), addressObject.CITY);
						DWRUtil.setValue("p_c_state"+(n), addressObject.STATE);
				 }
		 		);
			}
		 }
		 
		function getCityAndStateResult(addressObject)
		 {
                DWRUtil.setValue("p_city", addressObject.CITY);
				DWRUtil.setValue("p_c_state", addressObject.STATE);
		 }
		 

function getStates (countryid)
		{
			var mycountry1 = countryid;
			
			if (countryid=="US"){
			  document.getElementById('cnty_td1').style.display="block"	
			  document.getElementById('cnty_td2').style.display="block"	
			} else {
			  document.getElementById('cnty_td1').style.display="none"	
			  document.getElementById('cnty_td2').style.display="none"
			}
		
			DWREngine._execute (_cfscriptBBLZipLocation, null, "getStates", mycountry1, getStatesResult);
			
			
		     
		}
		
		function getStatesResult (result) 
		{
		
			var mySelect = document.getElementById('p_enc_state');
			mySelect.options.length=0; 
		 	for (var j=0; j < mySelect.options.length; j++){
        		mySelect.remove(j);
	    	}
	  
			for (var i=0; i < result.length; i++ )
			 {
        		mySelect.options[i] = new Option(result[i].STATE_NAME,result[i].STATE_CODE);
				if(mystatecode != "")
				{
					if(result[i].STATE_CODE == mystatecode )
					{
						mySelect.selectedIndex = i	
						
					}
				}				
			}
			
			getCounties(mycountrycode,mystatecode);
		}	
	
		function getCounties (countryid,stateid)
		 {
			mystatecode = stateid;
			mycountrycode = countryid; 
	        //alert(mycountycode+" "+mycounty)
			DWREngine._execute (_cfscriptBBLZipLocation, null, "getCounties", mycountrycode, mystatecode, getCountiesResult);
		
		}	
		
		function getCountiesResult (result)
		 {
		
			var mySelect = document.getElementById('p_enc_cnty');
			mySelect.options.length=0;   
		
			for (var j=0; j < mySelect.options.length; j++)
			{
		 		mySelect.remove(j);
		    }
	  	
      		for (var i=0; i < result.length; i++ ) 
			{
        		mySelect.options[i] = new Option(result[i].COUNTY_NAME,result[i].COUNTY_CODE);
				if(mycountycode != "")
				{
					if(result[i].COUNTY_CODE == mycountycode )
					{
						mySelect.selectedIndex = i	
					}
				}				

			}
		 }	
				
	
		function getData(qry)
		 {
		    if ( selectedSuggestObject.name=='citylookup')
			{
			mycountrycode = document.enc_rec.p_enc_cntry.value;
			mystatecode = document.enc_rec.p_enc_state.value;
			mycountycode = document.enc_rec.p_enc_cnty.value;
			searchString = qry.replace(/#/gi,"##").replace(/&/gi,"").replace(/\"/gi,"");
		    
			DWREngine._execute (_cfscriptBBLZipLocation, null, "FunctionSuggest", mycountrycode, mystatecode, mycountycode, searchString,'c', getDataResult);
			}
			else
			{ 
			  if ( selectedSuggestObject.name=='WMAlookup')
				{
				mycountrycode = document.enc_rec.p_enc_cntry.value;
				mystatecode = document.enc_rec.p_enc_state.value;
				mycountycode = '000';
				searchString = qry.replace(/#/gi,"##").replace(/&/gi,"").replace(/\"/gi,"");
				
				DWREngine._execute (_cfscriptBBLZipLocation, null, "FunctionSuggest", mycountrycode, mystatecode, mycountycode, searchString,'w', getDataResult);
				} else {
			     var myaou_type = document.enc_rec.aou_type.value;
			     searchString = qry;
		      
			      //DWREngine._execute (_cfscriptBBLZipLocation, null, "FunctionSuggestSpecies", myaou_type, searchString, getSpeciesResult);
					DWREngine._execute (_cfscriptBBLZipLocation, null, "FunctionSuggestSpecies_new", "E", searchString, getSpeciesResult);
				}
			}
			
			
		 }
		 
		function getDataResult (result) 
		 { 
			var key = Array();
     		var value = Array(); 
	 	
      		for (i=0; i < result.length; i++)
        		{
       				key[i] = result[i].FEATURE_NAME; //if your query has a different column name, use it here
       				value[i] = result[i].FEATURE_NAME; //if your query has a different column name, use it here
	   			}
		
        	strQuery = selectedSuggestObject.name + '.showQueryDiv("' + searchString + '", key, value )'; 
			eval (strQuery);
			
         }
		 
		 
	function init()
		 {
			showMarkerInputs();	
            
		    DWRUtil.useLoadingMessage();
		    DWREngine._errorHandler =  errorHandler;
			getStates(document.enc_rec.p_enc_cntry.value);
		 
		    onSuggestFieldFocus(citylookup);
         	citylookup.InitQueryCode('citylookup','p_enc_town');
			onSuggestFieldFocus(specieslookup);
         	specieslookup.InitQueryCode('specieslookup','p_species');
			
			onSuggestFieldFocus(WMAlookup);
         	WMAlookup.InitQueryCode('WMAlookup','p_loc_desc_wma');
			
		    //showEncounter();
		 }
		function getSpeciesResult (result) 
		{ 
		//alert ("entered getDataResult");
			var key = Array();
     		var value = Array(); 
	 	//alert ("length is " + (result.length));
      		for (i=0; i < result.length; i++)
        		{
       				key[i] = result[i].SPECIES_NAME; //if your query has a different column name, use it here
       				value[i] = result[i].SPECIES_NAME; //if your query has a different column name, use it here
	   //alert ("i is " + (result[i]));
		//alert ("key is" + (key[i]));
		//alert ("value is" + (value[i]));
        		}
		
        	strQuery = selectedSuggestObject.name + '.showQueryDiv("' + searchString + '", key, value )'; eval (strQuery);
         }



		
		function errorHandler(message)
		 {
			$('disabledZone').style.visibility = 'hidden';
			if (typeof message == "object" && message.name == "Error" && message.description)
			{
				alert("Error: " + message.description);
			}
			else
				{
					alert(message);
				}
			};

function isPosInteger(INPUTVal)

// checks for positive numbers between 0 & 9

{
	INPUTStr = INPUTVal.toString()
	for (var i = 0; i < INPUTStr.length; i++)
	{
		var oneChar = INPUTStr.charAt(i)
		if (oneChar < '0' || oneChar > '9')
		{ 
			//alert ('This field may only contain 0 thru 9');
			return false 
		}
	}
	return true
}
		
	var isNN = (navigator.appName.indexOf("Netscape")!=-1);
	function autoTab(input,len, e)
 	{
		var keyCode = (isNN) ? e.which : e.keyCode; 
		var filter = (isNN) ? [0,8,9] : [0,8,9,16,17,18,37,38,39,40,46];
		if(input.value.length >= len && !containsElement(filter,keyCode))
		{
			input.value = input.value.slice(0, len);
			input.form[(getIndex(input)+1) % input.form.length].focus();
		}
	
		function containsElement(arr, ele) {
			var found = false, index = 0;
			while(!found && index < arr.length)
				if(arr[index] == ele)
					found = true;
				else
					index++;
		return found;
	}
	
	function getIndex(input)
	{
		var index = -1, i = 0, found = false;
		while (i < input.form.length && index == -1)
		if (input.form[i] == input)index = i;
		else
			i++;
		return index;
	}
	return true;
	}


function ResetDtFlds(){
	
   var dt_fields_array=new Array("p_date","p_mm","p_yyyy","p_yyyy2","p_mm3","p_yyyy3","p_yyyy4", "p_enc_date");
   for (i=0; i<dt_fields_array.length; i++)
	{
	  document.getElementById(dt_fields_array[i]).value="";
	}
	
}

function InexactDate(flag){
	
	ResetDtFlds();
	
	if (flag==1){
	document.getElementById("inexact_date").style.display = "block"
	document.getElementById("exact_dt_tr2").style.display = "none"
	//document.getElementById("p_date").value="";
	//document.getElementById("exact_dt_tr1").style.display = "none"
	document.getElementById("exact_date").style.display = "none"
	} else {
	document.getElementById("exact_date").style.display = "block"
	document.getElementById("exact_dt_tr2").style.display = "block"
	//document.getElementById("exact_dt_tr1").style.display = "block"
	document.getElementById("inexact_date").style.display = "none"	
	}
	
}

function LocInput(flag){
	switch(flag){
		case "a":
		   document.getElementById("city_dv").style.display = "none"
			document.getElementById("loc_addr_tbl").style.display = "block"
			document.getElementById("loc_coord_tbl").style.display = "none"
			document.getElementById("WMA_dv").style.display = "none"
			document.getElementById("map_expl").innerHTML = ""
			document.getElementById("lo1").style.display = "none"
			document.getElementById("lo4").style.display = "none"
			document.getElementById("lo5").style.display = "none"
			document.getElementById("lo3").style.display = "block"
			document.getElementById("lo2").style.display = "none"
			document.enc_rec.p_loc_desc_a.focus();
		    break;
		case "d":
			document.getElementById("city_dv").style.display = "block"
			document.getElementById("loc_addr_tbl").style.display = "none"
			document.getElementById("loc_coord_tbl").style.display = "none"
			document.getElementById("WMA_dv").style.display = "none"
			document.getElementById("lo1").style.display = "none"
			document.getElementById("lo2").style.display = "none"
			document.getElementById("lo3").style.display = "none"
			document.getElementById("lo4").style.display = "block"
			document.getElementById("lo5").style.display = "none"
			document.getElementById("map_expl").innerHTML = "After providing your location information, click \"Map It\". The red marker will move to the place you described. If you want to adjust your location, click and drag the red marker. A description of the red marker will be recalculated."
			/*<br />See legend under the map for an explanation of the markers.*/
			//ShowMap();
		    break;
		case "w":
		    //if (marker){ marker.setDraggable(true)}
			document.getElementById("city_dv").style.display = "none"
			document.getElementById("loc_addr_tbl").style.display = "none"
			document.getElementById("WMA_dv").style.display = "block"
			document.getElementById("loc_coord_tbl").style.display = "none"
			document.getElementById("map_expl").innerHTML = ""
			document.getElementById("lo1").style.display = "none"
			document.getElementById("lo3").style.display = "none"
			document.getElementById("lo4").style.display = "none"
			document.getElementById("lo2").style.display = "block"
			document.getElementById("lo5").style.display = "none"
			document.enc_rec.p_loc_desc_wma.focus();
		    break;
		case "m":
		    //if (marker){ marker.setDraggable(true)}
			//if (map){ map.setDraggable(true)}
			document.getElementById("city_dv").style.display = "none"
		    document.getElementById("loc_addr_tbl").style.display = "none"
		    document.getElementById("loc_coord_tbl").style.display = "none"
			document.getElementById("WMA_dv").style.display = "none"
			document.getElementById("lo1").style.display = "none"
			document.getElementById("lo2").style.display = "none"
			document.getElementById("lo3").style.display = "none"
			document.getElementById("lo5").style.display = "block"
			document.getElementById("lo4").style.display = "none"
			document.getElementById("map_expl").innerHTML = "Click and drag the red marker on the map to the area where you encountered the bird. Then zoom in to view the area in more detail. Continue to zoom in and drag marker until you have placed it on where the encounter took place. A description of the marker location will be defined by the system every time you drop the marker."
			break;
		default:
		   //if (marker){ marker.setDraggable(true)}
		    document.getElementById("WMA_dv").style.display = "none"
			document.getElementById("city_dv").style.display = "none"
			document.getElementById("loc_coord_tbl").style.display = "block"
			document.getElementById("loc_addr_tbl").style.display = "none"
			document.getElementById("map_expl").innerHTML = ""
			document.getElementById("lo2").style.display = "none"
			document.getElementById("lo3").style.display = "none"
			document.getElementById("lo4").style.display = "none"
			document.getElementById("lo1").style.display = "block"
			document.getElementById("lo5").style.display = "none"
	}
	
	document.getElementById("reset_loc_opt").style.display = "block"
	document.getElementById("choose_loc_opt").style.display = "none"
	//alert(flag);
}

function ResetLocOpt(){
	document.getElementById("lo1").style.display = "block"
	document.getElementById("lo2").style.display = "block"
	document.getElementById("lo3").style.display = "block"
	document.getElementById("lo4").style.display = "block"
	document.getElementById("lo5").style.display = "block"
	document.getElementById("reset_loc_opt").style.display = "none"
	document.getElementById("choose_loc_opt").style.display = "block"
	}

function ResetCoordOpt(){
	document.getElementById("co1").style.display = "block"
	document.getElementById("co2").style.display = "block"
	document.getElementById("co3").style.display = "block"
	document.getElementById("reset_coord_opt").style.display = "none"
}



function CoordInput(flag){
	for(var i=1; i<4; i++){
	  if (i==flag){	
	        document.getElementById("coord_inputs_d"+i).style.display = "block"
			document.getElementById("co"+i).style.display = "block"
	  } else {
	        document.getElementById("coord_inputs_d"+i).style.display = "none"
			document.getElementById("co"+i).style.display = "none"
	  }
	}
	document.getElementById("reset_coord_opt").style.display = "block"
	document.getElementById("coord_infoPanel").innerHTML = "Provide coordinates, click \"Map It\" to place the marker on the map. You may drag and drop the red marker to pinpoint the exact encounter location. Coordinates will be determined from the marker position on the map in this case."
}

function DateChoice(){
	ResetDtFlds();
	if (document.getElementById("dt_option1").checked)
	{
	  document.getElementById("dv_dt1").style.display = "block"
	  document.getElementById("dv_dt2").style.display = "none"
	  document.getElementById("dv_dt4").style.display = "none"
	  document.getElementById("dv_dt3").style.display = "none"
	}
	if (document.getElementById("dt_option2").checked)
	{
	  document.getElementById("dv_dt2").style.display = "block"
	  document.getElementById("dv_dt1").style.display = "none"
	  document.getElementById("dv_dt4").style.display = "none"
	  document.getElementById("dv_dt3").style.display = "none"
	}
	if (document.getElementById("dt_option3").checked)
	{
	  document.getElementById("dv_dt2").style.display = "none"
	  document.getElementById("dv_dt1").style.display = "none"
	  document.getElementById("dv_dt4").style.display = "none"
	  document.getElementById("dv_dt3").style.display = "block"
	}
	if (document.getElementById("dt_option5").checked)
	{
	  document.getElementById("dv_dt2").style.display = "none"
	  document.getElementById("dv_dt1").style.display = "none"
	  document.getElementById("dv_dt4").style.display = "none"
	  document.getElementById("dv_dt3").style.display = "none"
	}
	if (document.getElementById("dt_option4").checked)
	{
	  document.getElementById("dv_dt4").style.display = "block"
	  document.getElementById("dv_dt1").style.display = "none"
	  document.getElementById("dv_dt2").style.display = "none"
	  document.getElementById("dv_dt3").style.display = "none"
	}
}

function setColors()
	{
	  var marker_type="";
		for (i=0; i<document.enc_rec.p_marker_type.length; i++)
		{
		  if ( document.enc_rec.p_marker_type[i].selected )
		  {
			marker_type=marker_type+document.enc_rec.p_marker_type[i].value+" ";
		  }
		}
		marker_type=marker_type+document.enc_rec.othertypemarker.value
		marker_type=marker_type.replace(/^\s+|\s+$/g, '');
		if (marker_type=="89")
		{
		  for (i=0; i<document.enc_rec.p_marker_color.length; i++)
		  {
		    document.enc_rec.p_marker_color[i].selected=( document.enc_rec.p_marker_color[i].value=="" )?true:false;
		  }
		  document.enc_rec.p_code_color.value="";
		} else {
		  document.enc_rec.p_marker_color[document.enc_rec.p_marker_color.length-1].selected=false;
		  document.enc_rec.p_code_color.value=(document.enc_rec.p_code_color.value=="")?5:document.enc_rec.p_code_color.value;
		}
  	}
	
	function ShowCodesImg()
	{
		if (document.enc_rec.was_neck.checked || document.enc_rec.was_ll1.checked || document.enc_rec.was_rl1.checked)
		{
			document.getElementById('codes_img_div').style.display = 'block';
		} else {
			document.getElementById('codes_img_div').style.display = 'none';
		}
		
	}
	
	function ShowMap()
	{
		
		//document.getElementById('map_rel_div').style.display = 'block';
		/*document.getElementById('mapCanvas').style.display = 'block';
		document.getElementById('gmap_disclaim').style.display = 'block';*/
		
		
		if (! map)	initialize();	
		
		//getCentroid(mycountrycode,mystatecode,mycountycode);
		
	}
	
	/*function ShowGeonamesReult(f)
	{
		ShowMap();
		GetGeonamesRecs(f);
		
	}*/
</script>

<style type="text/css">

.style2 {color: #000000; font-family: Geneva, Arial, Helvetica, sans-serif; }
.style15 {display: none; font-weight: bold; }

.outinfo {color: blue; font-family: Geneva, Arial, Helvetica, sans-serif;}
	
	#p_suffix,#p_prmt { width: 60px; }
	#p_prefix { width: 50px; }
	#p_date { width: 150px; }
	input[id^="p_code_"]{width: 115px; }

@-ms-viewport       { width: device-width; }
@-webkit-viewport   { width: device-width; }
@-moz-viewport      { width: device-width; }
@-ms-viewport       { width: device-width; }
@-o-viewport        { width: device-width; }
@viewport           { width: device-width; }

</style>
<link href="/SpryAssets/SpryMenuBarVertical.css" rel="stylesheet" type="text/css">
<link href="../bblreportmobile/bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">

<script type="text/javascript">
if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
  var msViewportStyle = document.createElement('style')
  msViewportStyle.appendChild(
    document.createTextNode(
      '@-ms-viewport{width:auto!important}'
    )
  )
  document.querySelector('head').appendChild(msViewportStyle)
}
</script>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->




<noscript>
<p>JavaScript must be enabled in order for you to use the Zip lookup and other functions on this page. However, it seems JavaScript is either disabled or not supported by your browser. To use standard view, enable JavaScript by changing your browser options. Thanks.</p></noscript>


<script type="text/javascript"> 

function CARDINAL_DIRECTION(bearing )
{
  var b
  if (bearing<0) {
	b=360+bearing;  
  } else { 
    b=bearing;
  }
  
  var cd;
	  if ((b >= 0) && (b < 11.25))  return 'N';
	  if ((b >= 11.25) && (b < 33.75))  return 'NNE';
	  if ((b >= 33.75) && (b < 56.25))  return 'NE';
	  if((b >= 56.25) && (b < 78.75)) return 'ENE';
	  if((b >= 78.75) && (b < 101.25)) return 'E';
	  if((b >= 101.25) && (b < 123.75)) return 'ESE';
	  if ((b >= 123.75) && (b < 146.25)) return 'SE';
	  if ((b >= 146.25) && (b < 168.75)) return 'SSE';
	  if ((b >= 168.75) && (b < 191.25)) return 'S';
	  if ((b >= 191.25) && (b < 213.75)) return 'SSW';
	  if ((b >= 213.75) && (b < 236.25)) return 'SW';
	  if ((b >= 236.25) && (b < 258.75)) return 'WSW';
	  if ((b >= 258.75) && (b < 281.25)) return 'W';
	  if ((b >= 281.25) && (b < 303.75)) return 'WNW';
	  if ((b >= 303.75) && (b < 326.25)) return 'NW';
	  if ((b >= 326.25) && (b < 348.75)) return 'NNW';
	  if ((b >= 348.75) && (b <= 360)) return 'N';
	  
  	  cd=""; 
	  
   return cd;
}

function DD_to_DMS(p_lat, p_lon) {
      
        //var f = document.BanditForm
        var m = 1.0/60.0
        var s = 1.0/3600.0
        var half_s = 0.5/3600.0
        var dd
        var mm
        var ss
        var t
        
		lat_dd = ""
		lat_mm = ""
		lat_ss = ""
		lat_hem = ""
		lon_dd = ""
		lon_mm = ""
		lon_ss = ""
		lon_hem = ""
		dms_coord = ""
        
            t = isNaN(parseFloat(p_lat))?0:parseFloat(p_lat)
            if (t >= 0) lat_hem = "N"
            else lat_hem = "S"
            t = Math.abs(t)
            dd = Math.floor(t)
            t = (t-dd)*60+half_s
            mm = Math.floor(t)
            t = (t-mm)*60
            ss = Math.round(t) //Math.floor(t)
            
            if (ss == 60) {ss = 0; mm = mm + 1 }
            if (mm == 60) {mm = 0; dd = dd + 1 }
            
            lat_dd = dd.toString().lpad(2, '0')
            lat_mm = mm.toString().lpad(2, '0')
            lat_ss = ss.toString().lpad(2, '0')
            
            
            t = isNaN(parseFloat(p_lon))?0:parseFloat(p_lon)
            if (t > 0) lon_hem="E"
            else lon_hem="W"
            t = Math.abs(t)
            dd = Math.floor(t)
            t = (t-dd)*60+half_s
            mm = Math.floor(t)
            t = (t-mm)*60
            ss = Math.round(t) //Math.floor(t)
            
            if (ss == 60) {ss = 0; mm = mm + 1 }
            if (mm == 60) {mm = 0; dd = dd + 1 }
            
            lon_dd = dd.toString().lpad(3, '0')
            lon_mm = mm.toString().lpad(2, '0')
            lon_ss = ss.toString().lpad(2, '0')
			
			dms_coord=lat_dd+"&deg;"+lat_mm+"&prime;"+lat_ss+"&Prime;"+lat_hem+" "+lon_dd+"&deg;"+lon_mm+"&prime;"+lon_ss+"&Prime;"+ lon_hem;
            
      } // end dms
    
	
function geocodeAddress(addr) {
	//console.log("in geocodeAddress");
    geocoder.geocode( { 'address': (addr+', '+ mystate+', '+mycountry), 'bounds': myBounds, 'language': 'en' }, function(results, status) {
	  var msg;										   
      if (status == google.maps.GeocoderStatus.OK) {
       
	  if (confirm('Coordinates found for the following location:\n'+results[0].formatted_address+"\nIs this the correct location?\nIf this is not your location, click cancel.")){
		myloc_desc=results[0].formatted_address
		mylat=Math.round(100000*results[0].geometry.location.lat())/100000;
		mylon=Math.round(100000*results[0].geometry.location.lng())/100000;
		if (myzoom<12){ myzoom=12; }
		//ShowMap();
		
		 map.setCenter(results[0].geometry.location);
		 map.setZoom(myzoom);
		 //marker.setDraggable(false);
		 marker.setTitle(myloc_desc);
		 
		 mycountrycode=''
		 mystatecode=''
		 mycountycode=''
		 mycountry=''
		 mystate=''
		 mycounty=''
		 mytown=''
		 mymiles=0
		 mydir=''	
		
		//alert(results[0].geometry.location_type);
			  
		for (var i = 0; i < results[0].address_components.length; i++) {
		   for (var j = 0; j < results[0].address_components[i].types.length; j++) {
			 //alert(results[0].address_components[i].types[j]+'\n'+results[0].address_components[i].long_name+'\n'+results[0].address_components[i].short_name);  
			   if (results[0].address_components[i].types[j]=="administrative_area_level_2") {
			   mycounty = results[0].address_components[i].long_name
			   //mycountycode = results[0].address_components[i].short_name
			   }
			   if (results[0].address_components[i].types[j]=="administrative_area_level_1") {
			   mystate = results[0].address_components[i].long_name
			   mystatecode = results[0].address_components[i].short_name
			   }
			   if (results[0].address_components[i].types[j]=="country") {
			   mycountry = results[0].address_components[i].long_name
			   mycountrycode = results[0].address_components[i].short_name
			   }
			   if (results[0].address_components[i].types[j]=="locality") {
			   mytown = results[0].address_components[i].long_name
			   
			   }
			   if (mytown==""){
				   if (results[0].address_components[i].types[j]=="sublocality_level_1"){
					 mytown = results[0].address_components[i].long_name  
				   }
			   }
		   }
		   
	   }
	     
		mycoord_prec=(results[0].geometry.location_type=="ROOFTOP"?"exact location":"approximate location based on centroid of town/place/area");
	    GetGeonamesRecs(4);
		   
	  } else{
		  
		 unFreeze(); 
	  }
      } else {
        msg="Geocode was not successful for the following reason: " + status;
		alert(msg);
		unFreeze();
      }
	   
    });
  }
  
 
function updateMarkerPosition(latlng) {
  
  mylat=Math.round(latlng.lat()*100000)/100000;
  mylon=Math.round(latlng.lng()*100000)/100000;
  DD_to_DMS(mylat, mylon)
  
  synchronizeCoord(mylat, mylon);
}
 

function getCentroid(countryid,stateid,countyid)
		 {
			mystatecode = stateid;
			mycountrycode = countryid; 
			mycountycode = countyid; 
	       // alert(mycountrycode+' '+mystatecode+' '+mycountycode);
			DWREngine._execute (_cfscriptBBLZipLocation, null, "getCentroid", mycountrycode, mystatecode,mycountycode, getCentroidResult);
		    mymiles=0
			mydir=''
			mytown=''
		}	



function getCentroidResult(result){
	
	//mylat=39;
	//mylon=-100;
	latS=-14.5475
	latN=71.38833
	lonE=179.83167
	lonW=-179.46806
	//myzoom=3
	var markerTitle="Encounter Location";
	document.hidden_form.p_coord_prec.value=(mycountycode!="000" && mycountycode!="")?7:((mystatecode!="00" && mystatecode!="")?12:72)
	mycoord_prec=(mycountycode!="000" && mycountycode!="")?"county centroid":((mystatecode!="00" && mystatecode!="")?"state centroid":"country centroid")
	//alert(result.length);
	if (result.length>0){
		//alert(result[0].ORD);
		if (document.hidden_form.p_coord_prec.value!=result[0].ORD){
			//state centroid
			document.hidden_form.p_coord_prec.value=result[0].ORD;
			mycoord_prec=(result[0].ORD==7)?"county centroid":((result[0].ORD==12)?"state centroid":"country centroid");
			//alert("Unable to find centoid. "+mycoord_prec+" is used.")
		}
		
		mylat=Math.round(100000*( result[0].LAT))/100000;
		mylon=Math.round(100000*( result[0].LON))/100000;
		
		latS=result[0].LATS
		latN=result[0].LATN
		lonE=result[0].LONE
		lonW=result[0].LONW
		myzoom=5
		mycountry=document.enc_rec.p_enc_cntry.options[document.enc_rec.p_enc_cntry.selectedIndex].text;
	    mystate=(mystatecode!="00" && mystatecode!="")?document.enc_rec.p_enc_state.options[document.enc_rec.p_enc_state.selectedIndex].text:"";
		mycounty=(mycountycode!="000" && mycountycode!="")?document.enc_rec.p_enc_cnty.options[document.enc_rec.p_enc_cnty.selectedIndex].text:"";
        markerTitle+=": centroid of ";
		markerTitle+=(mycountycode!="000" && mycountycode!="")?mycounty+" county, ":"";
		markerTitle+=(mystatecode!="00" && mystatecode!="")?mystate+", ":"";
		markerTitle+=mycountry
       }
	   
	   //alert('T1');
	   latLng = new google.maps.LatLng(mylat, mylon);
	   
	  myBounds=new google.maps.LatLngBounds(new google.maps.LatLng(latS, lonW), new google.maps.LatLng(latN, lonE))
		
		if (marker){ 
	      marker.setPosition(latLng); 
		  marker.setTitle(markerTitle);
	    }
		
		if (map){
			map.setCenter(latLng);
			map.setZoom(myzoom);
			map.fitBounds(myBounds);
			myzoom=map.getZoom();
		}
		 
		if (infoWind){
			  if (result.length>0){
				myHtml="Coordinates represent "+mycoord_prec+": "+ latLng.toUrlValue(5);
				myHtml+="<br />"+"If you want to adjust your location, click and drag the red marker."
				infoWind.setContent(myHtml);
				infoWind.setPosition(latLng);
				infoWind.open(map,marker);
			  } else {
				 infoWind.setMap(null); 
			  }
			}
		
}

var frozen=0;

function Freeze(){
	//console.log('In Freeze '+frozen);
	tobemapped=false;
	marker.setDraggable(false);
	//blanket_size("wait_para");
	//document.getElementById("wait_para").style.display="block"
	popup('wait_para',15)
	frozen=1;
	
}

function unFreeze(){
    //console.log('In unFreeze '+frozen);
	frozen=0;
	//document.getElementById("wait_para").style.display="none";
	popup('wait_para');
	marker.setDraggable(true);
	if (errm!=""){
	 tobemapped=true;
	} else {
	 tobemapped=false;	
	}
	
	//WMAlookup.suggestHideDiv();
	//citylookup.suggestHideDiv();
	if (WMAlookup) WMAlookup.blur;
	if (citylookup) citylookup.blur;
	
}
 
var IconImg;
var IconImg_tw;

var myHtml="";
var infoWind;
var target_tab;

function initialize() {
	//console.log("in initialize");
  latLng = new google.maps.LatLng(mylat, mylon);
  map = new google.maps.Map(document.getElementById('mapCanvas'), {
    zoom: myzoom,
    center: latLng,
	scaleControl: true,
    gestureHandling: 'greedy',
	streetViewControl: false,

	mapTypeId: google.maps.MapTypeId.ROADMAP
  });
  
  IconImg=new google.maps.MarkerImage("../images/Images4Map/iconred.png",null,null,null,new google.maps.Size(20, 30));
  IconImg_tw=new google.maps.MarkerImage("../images/Images4Map/icon57.png",null,null,null,new google.maps.Size(25, 25));
  
    marker = new google.maps.Marker({
    position: latLng,
    title: 'Encounter Location',
    map: map,
	icon: IconImg,
    draggable: true
  });
  
  myHtml="Coordinates represent "+mycoord_prec+": "+ latLng.toUrlValue(5);
  
			infoWind=new google.maps.InfoWindow({
			  "content": myHtml,
			  "position": latLng
			   });
			
 google.maps.event.addListener(map, 'zoom_changed', function() {
    map.setCenter(marker.getPosition());
  });
  
 
 google.maps.event.addListener(marker, 'dragend', function() {
    Freeze();
	document.hidden_form.map_used.value="m";
	GetGeonamesRecs(0);
	unFreeze();
  });
  
  google.maps.event.addListener(marker, 'dragstart', function() {
	target_tab=4;
    marker.setTitle('Encounter Location');
	infoWind.setMap(null);
  });
  
}
 
 
_cfscriptGeon_func = "get_geonames_function.cfm" 


function CalculateCoord(){
	//console.log("in CalculateCoord");
	tobemapped=true;
	var f = document.enc_rec
        var m = 1.0/60.0
        var s = 1.0/3600.0
        var half_s = 0.5/3600.0
        var dd
        var mm
        var ss
        var t

	mylat=0
	mylon=0
	if (document.getElementById('coord_option3').checked ){ 
				  mylat=isNaN(parseFloat(f.lat_dd.value))?0:parseFloat(f.lat_dd.value);
				  mylon=isNaN(parseFloat(f.long_dd.value))?0:parseFloat(f.long_dd.value);
				  
				  if (mylat<0 )
				  {
					f.lat_dir[1].checked=true;
					f.lat_dd.value=f.lat_dd.value*(-1)
				  } else {
					 if (f.lat_dir[1].checked && mylat>0)
					 {
						mylat=mylat*(-1);
						//f.lat_dd.value=mylat;
					 }
					 
				  }
				  
				  if (mylon<=0 )
				  {
					f.long_dir[1].checked=true;
					f.long_dd.value=f.long_dd.value*(-1)
				  } else {
					 if (f.long_dir[1].checked && mylon>0)
					 {
						mylon=mylon*(-1);
						//f.long_dd.value=mylon;
					 }
					 
				  }
				}
				
				
	if (document.getElementById('coord_option2').checked ){ 
	
	    if (f.lat_ddm_degrees.value=="" || f.lat_ddm_minutes.value=="" ){
			mylat=""
		} else {
		mylat=Math.round(100000*( (isNaN(parseFloat(f.lat_ddm_degrees.value))?0:parseFloat(f.lat_ddm_degrees.value)) +(isNaN(parseFloat(f.lat_ddm_minutes.value))?0:parseFloat(f.lat_ddm_minutes.value)*m))*(f.lat_dir_ddm[0].checked?1:-1) )/100000;
		}
		 
		if (f.long_ddm_degrees.value=="" || f.long_ddm_minutes.value=="" ){
			mylat=""
		} else {		  
		mylon=Math.round(100000*( (isNaN(parseFloat(f.long_ddm_degrees.value))?0:parseFloat(f.long_ddm_degrees.value)) +(isNaN(parseFloat(f.long_ddm_minutes.value))?0:parseFloat(f.long_ddm_minutes.value)*m))*(f.long_dir_ddm[0].checked?1:-1) )/100000;
		}
	document.enc_rec.lat_dd.value=mylat;
	document.enc_rec.long_dd.value=mylon;
}
	
	if (document.getElementById('coord_option1').checked )
	{ 
	    if (f.lat_dms_degrees.value=="" || f.lat_dms_minutes.value=="" || f.lat_dms_seconds.value==""){
			mylat=""
		} else {
		mylat=Math.round(100000*( (isNaN(parseFloat(f.lat_dms_degrees.value))?0:parseFloat(f.lat_dms_degrees.value)) +(isNaN(parseFloat(f.lat_dms_minutes.value))?0:parseFloat(f.lat_dms_minutes.value)*m) + (isNaN(parseFloat(f.lat_dms_seconds.value))?0:parseFloat(f.lat_dms_seconds.value)*s) )*(f.lat_dir_dms[0].checked?1:-1) )/100000;
		}
		
		if (f.long_dms_degrees.value=="" || f.long_dms_minutes.value=="" || f.long_dms_seconds.value==""){
			mylon=""
		} else {
		mylon=Math.round(100000*((isNaN(parseFloat(f.long_dms_degrees.value))?0:parseFloat(f.long_dms_degrees.value)) +(isNaN(parseFloat(f.long_dms_minutes.value))?0:parseFloat(f.long_dms_minutes.value)*m) + (isNaN(parseFloat(f.long_dms_seconds.value))?0:parseFloat(f.long_dms_seconds.value)*s) )*(f.long_dir_dms[0].checked?1:-1))/100000;
		}
		document.enc_rec.lat_dd.value=mylat;
	    document.enc_rec.long_dd.value=mylon;
	}
	
	latLng = new google.maps.LatLng(mylat, mylon);
	
}

var mymode="";
var prev_loc="";
var errm="";

function GetGeonamesRecs(fl){
	 //console.log("in GetGeonamesRecs; fl="+fl);
			if ( target_tab==4){
			
			Freeze();
			
			document.getElementById('mapCanvas').style.display = 'block';
		    document.getElementById('gmap_disclaim').style.display = 'block';
			google.maps.event.trigger(map, 'resize');
			map.setCenter(latLng);
			}
		
			mymode=fl
			
			prev_loc=( mymiles==0  || mydir=="")? mytown : (mymiles+ " miles "+  mydir + " from " + mytown)
				prev_loc+=( mycounty=="")? "" : (" ("+ mycounty +" county)");
				prev_loc+=( mystate=="")? " "+mycountry : (", "+ mystate +", "+mycountry);
				
			errm="";
			switch(fl)
			{
			case 0: //by lat-lon from marker pos
			  document.hidden_form.p_coord_prec.value=0
			  mycoord_prec="exact location"
			  latLng=marker.getPosition();
			  mylat=Math.round(100000*( latLng.lat() ) )/100000;
			  mylon=Math.round(100000*( latLng.lng() ) )/100000;
			  latLng=new google.maps.LatLng(mylat, mylon);
			  marker.setPosition(latLng);
			  //alert(mylat +" "+mylon);
			  mycountrycode=document.enc_rec.p_enc_cntry.value;
			  mystatecode=document.enc_rec.p_enc_state.value;
			  mycountycode=''//document.enc_rec.p_enc_cnty.value;
			  mycountry=''
			  mystate=''
			  mycounty=''
			  mytown=''
			  mymiles=0
			  mydir=''
			  myloc_desc=''
			  //updateMarkerPosition(latLng);
			  DD_to_DMS(mylat, mylon)
	  		  synchronizeCoord(mylat, mylon);
			  //alert("t");
			  break;
			case 1: //by lat-lon
			  mylat=39
			  mylon=-100
			  myzoom=10
			  mycountrycode=document.enc_rec.p_enc_cntry.value;
			  mystatecode=document.enc_rec.p_enc_state.value;
			  mycountycode=document.enc_rec.p_enc_cnty.value;
			  mycountry=''
			  mystate=''
			  mycounty=''
			  mytown=''
			  mymiles=0
			  mydir=''	
			  myloc_desc=''
			  
			  CalculateCoord();
			  //alert(mylat+' '+mylon);
			  if(mylat=="" || mylon==""){
				  errm="Please provide coordinates first.";
			  } else {
				  
				  if (mylat>90 || mylat<-90)errm="Invalid or missing Latitude\n";
				  if (mylon>180 || mylon<-180)errm+="Invalid or missing Longitude"
			  }
			  document.hidden_form.p_coord_prec.value=0
			  mycoord_prec="exact location"
			  document.hidden_form.map_used.value="";
			  break;
			case 2://by address
			  myloc_desc=document.enc_rec.p_loc_desc_a.value;
			  document.enc_rec.p_loc_desc.value=myloc_desc;
			  if(myloc_desc==""){
				errm="Please provide address first.";
			  }
			  document.hidden_form.map_used.value="";
			  break;
			case 3: //by location descr
			  mylat=0
			  mylon=0
			  mycountrycode=document.enc_rec.p_enc_cntry.value;
			  mystatecode=document.enc_rec.p_enc_state.value;
			  mycountycode=document.enc_rec.p_enc_cnty.value;
			  mytown=document.enc_rec.p_enc_town.value.trim();
			  if (document.enc_rec.p_miles.value!="" && isNaN(Number(document.enc_rec.p_miles.value)) ){
				errm="Please enter only whole or decimal values for the distance\n(for example, values like 3 or 3.5 are o.k. but 3 1/2 is not acceptable)";  
			  } else {
			  mymiles=Math.round(10*(document.enc_rec.p_miles.value * (document.enc_rec.miles_km[0].checked?1.0:0.621371192 )))/10;
			  }
			  mydir=document.enc_rec.p_dir.value;
			  myloc_desc=document.enc_rec.p_loc_desc.value.trim();
			  document.hidden_form.p_loc_desc.value=myloc_desc;
			  document.hidden_form.p_enctr_town.value=mytown;
			  if(myloc_desc=="" && mytown==""){
				  errm="Please provide town and/or description first.";
			  }
			  if(mymiles>0 && mydir=="")errm+="\nDistance without direction is not acceptable.";
			  if(mymiles==0 && mydir!="")errm+="\nDirection without distance is not acceptable.";
			  document.hidden_form.map_used.value="";
			  break;
			case 4: //after geocoding is done find fips codes
			  //use country, state and county names to get codes, sinse geocoder is not returning FIPS codes
			  mylat=Math.round(100000* mylat )/100000;
			  mylon=Math.round(100000* mylon )/100000;
			  latLng = new google.maps.LatLng(mylat, mylon);
			  DD_to_DMS(mylat, mylon)
              synchronizeCoord(mylat, mylon);
			  
			  if (marker){ 
			   marker.setPosition(latLng);
			   //marker.setTitle('Encounter Location: '+myloc_desc);
			   } else {
					marker = new google.maps.Marker({
					position: latLng,
					title: 'Encounter Location: '+myloc_desc,
					map: map,
					draggable: false
				  });
			   }
			   
			  // mycoord_prec="exact location";
			  document.hidden_form.p_coord_prec.value=(mycoord_prec=="exact location"?0:11);
			   //alert("In getGeonamesRecs: "+mycountycode);
			  unFreeze();
			  break;
			case 5: //by WMA name
			  mylat=0
			  mylon=0
			  mycountrycode=document.enc_rec.p_enc_cntry.value;
			  mystatecode=document.enc_rec.p_enc_state.value;
			  mycountycode="";
			  mycounty=''
			  mytown=''
			  mymiles=0
			  mydir=''	
			  myloc_desc=document.enc_rec.p_loc_desc_wma.value.trim();
			  document.enc_rec.p_loc_desc.value=myloc_desc;
			  document.hidden_form.p_loc_desc.value=myloc_desc;
			  if(myloc_desc==""){
				  errm="Please provide Wildlife Refuge/Management Area first.";
				}
			  document.hidden_form.map_used.value="";
			  break;
			default:
			  errm="Can not search Geonames. Please choose one of the input options.";
			}
			
			if (errm!=""){
				alert(errm);
				unFreeze();
				return;
			}
			
			if (fl==2){
			 geocodeAddress(myloc_desc);	
			} else {
				if (fl==4){
				 DWREngine._execute ( _cfscriptGeon_func, null, "getFipsCodes_f", mycountry,mystate,mycounty, setFipsCodes);
				} else {
					//alert(mylat+' '+mylon);
				  mytown=mytown.replace(/#/gi,"##").replace(/&/gi,"").replace(/\"/gi,"");
				  myloc_desc=myloc_desc.replace(/#/gi,"##").replace(/&/gi,"").replace(/\"/gi,"");
			      DWREngine._execute ( _cfscriptGeon_func, null, "getGeonames_f", mylat, mylon, mycountrycode,mystatecode,mycountycode,mytown,mymiles,mydir,myloc_desc,fl, getGeonamesResult);
				}
			}
		 //console.log("end of GetGeonamesRecs; fl="+fl);	
		}
		
		function AcceptDesc(tw,cntry,st,cnty,mi,dr,lat1,lon1,lat2,lon2,cntry_name,st_name,cnty_name,md){
			//console.log("in AcceptDesc");
			mycountrycode=cntry;
			mystatecode=(st=="")?"00":st;
			mycountycode=(cnty=="")?"000":cnty;
			mycountry=cntry_name;
			mystate=st_name;
			mycounty=cnty_name;
			
			//if (document.getElementById("loc_choice2").checked){
			//alert("in AcceptDesc mode=: "+md+"; cnty code="+ mycountycode);
			
			if (md==5){
				mytown='';
				myloc_desc=tw;
				document.enc_rec.p_loc_desc_wma.value=myloc_desc;
				document.enc_rec.p_loc_desc.value=myloc_desc;
				document.hidden_form.p_coord_prec.value=11;
				mycoord_prec="approximate location based on centroid of town/place/area"
				mymiles=mi;
			    mydir=dr;
			} else {
				if( md==6){
				  myloc_desc=tw;
				  document.enc_rec.p_loc_desc.value=myloc_desc;	
				  document.hidden_form.p_coord_prec.value=11;
				  mycoord_prec="approximate location based on centroid of town/place/area"
				} else {
				  mytown=tw;
				  mymiles=mi;
			      mydir=dr;
				  if(md==3){
					 document.hidden_form.p_coord_prec.value=11;
				     mycoord_prec="approximate location based on centroid of town/place/area"
				  }
				}
			}
			
			
			mylat=lat2;
			mylon=lon2;
			
			if (document.enc_rec.p_enc_cntry.value!=cntry){
			  document.enc_rec.p_enc_cntry.value=cntry;
			  getStates(mycountrycode);
			}
			document.enc_rec.p_enc_state.value=(st=="")?"00":st;
			getCounties(mycountrycode,mystatecode);
			document.enc_rec.p_enc_cnty.value=(cnty=="")?"000":cnty;
			document.enc_rec.p_enc_town.value=mytown;
			
			document.enc_rec.miles_km[0].checked=true;
			document.enc_rec.p_miles.value=mymiles;
			document.enc_rec.p_dir.value=mydir;
			
			document.hidden_form.p_enctr_country.value=cntry;
			document.hidden_form.p_enctr_state.value=(st=="")?"00":st;
			document.hidden_form.p_enctr_county.value=(cnty=="")?"000":cnty;
			
			document.hidden_form.p_lat.value=lat2;
			document.hidden_form.p_lon.value=lon2;
			document.hidden_form.p_enctr_town.value=mytown;
			document.hidden_form.p_miles.value=mymiles;
			document.hidden_form.p_dir.value=mydir;
			document.hidden_form.p_loc_desc.value=myloc_desc;
			
			
			latLng = new google.maps.LatLng(lat2, lon2);
			//updateMarkerPosition(latLng);
			
			var pl_d=( mi==0  || dr=="")? tw : (mi+ " miles "+  dr + " from " + tw);
	        
							
			if (marker){ 
			   marker.setPosition(latLng);
			   marker.setTitle('Encounter Location: '+pl_d);
			   } else {
					marker = new google.maps.Marker({
					position: latLng,
					title: 'Encounter Location: '+pl_d,
					map: map,
					icon: IconImg,
					draggable: true
				  });
			   }
			   
			
			if (marker1){ 
					marker1.setPosition(new google.maps.LatLng(lat1, lon1));
					marker1.setTitle(tw);
					marker1.setMap(map);
					} else {
					marker1 = new google.maps.Marker({
					position: new google.maps.LatLng(lat1, lon1),
					title: tw,
					map: map,
					icon: IconImg_tw,
					draggable: false
					});
			}
			if (map ){
				map.panTo(latLng);
				myzoom=map.getZoom();
					if (myzoom<10){
						map.setZoom(10);
						myzoom=10;
					}
				}
			
			pl_d+=(mycountycode=="000" || mycountycode=="")?"":" ("+mycounty+" county)";
			pl_d+=(mystatecode=="00" || mystatecode=="")?"":", "+mystate;
			pl_d+=", "+mycountry
			
			if (infoWind){
				myHtml=pl_d
				myHtml+="<br />"+"Coordinates represent "+mycoord_prec+": "+ latLng.toUrlValue(5);
				myHtml+="<br />"+"If you want to adjust your location, click and drag the red marker."
				infoWind.setContent(myHtml);
				infoWind.setPosition(latLng);
				infoWind.open(map,marker);
			}
			
			showEncounter();
		}
		

function setFipsCodes(result)
{
	//console.log("in setFipsCodes");
	//alert("in setFipsCodes 1: "+document.enc_rec.p_enc_cntry.value+document.enc_rec.p_enc_state.value+document.enc_rec.p_enc_cnty.value+" "+result[0].COUNTRY_CODE+result[0].STATE_CODE+result[0].COUNTY_CODE);
if (result.length>0){
   if ( document.enc_rec.p_enc_cntry.value==result[0].COUNTRY_CODE && document.enc_rec.p_enc_state.value==result[0].STATE_CODE){
   mycountrycode=result[0].COUNTRY_CODE;
   mystatecode=result[0].STATE_CODE;
   mycountycode=result[0].COUNTY_CODE;
																	 
	 
    //alert("in setFipsCodes before AcceptDesc: "+mycountrycode+mystatecode+mycountycode);
   	document.hidden_form.p_enctr_county.value=(mycountycode=="")?"000":mycountycode;	
    document.enc_rec.p_enc_cnty.value=(mycountycode=="")?"000":mycountycode;	
	 
   AcceptDesc(mytown,mycountrycode,mystatecode,mycountycode,0,'',mylat,mylon,mylat,mylon,result[0].COUNTRY_NAME,result[0].STATE_NAME,result[0].COUNTY_NAME,4);
   document.enc_rec.p_loc_desc.value=document.enc_rec.p_loc_desc_a.value;
   marker.setTitle("Encounter Location: "+myloc_desc);
	//alert("in setFipsCodes after AcceptDesc: "+mycountrycode+mystatecode+mycountycode);		
	
   } else {
	   var msg="Country/State you provided does not match the address.\nAre you OK to modify country/state to:";
	   	   msg+="\nCountry: "+ mycountry;
	   	   msg+=( result[0].STATE_CODE=="00"  || result[0].STATE_CODE=="")? "" :"\nState: "+ mystate;
	   	   msg+=( result[0].COUNTY_CODE=="000"  || result[0].COUNTY_CODE=="")? "" :"\nCounty: "+ mycounty;
	       msg+="\nTown: "+ mytown;
		   
		  	   mycountrycode=result[0].COUNTRY_CODE;
			   mystatecode=result[0].STATE_CODE;
			   mycountycode=result[0].COUNTY_CODE;
			   
			   AcceptDesc(mytown,mycountrycode,mystatecode,mycountycode,0,'',mylat,mylon,mylat,mylon,result[0].COUNTRY_NAME,result[0].STATE_NAME,result[0].COUNTY_NAME,4);
			   document.enc_rec.p_loc_desc.value=document.enc_rec.p_loc_desc_a.value;
			   marker.setTitle("Encounter Location: "+myloc_desc);
			   document.hidden_form.p_enctr_county.value=(mycountycode=="")?"000":mycountycode;	
   document.enc_rec.p_enc_cnty.value=(mycountycode=="")?"000":mycountycode;	
	  
		   
   }
} else {
	alert("Error: In get FIPS codes.");
}
   unFreeze();
   
   if ( target_tab>5){
		TabbedPanels1.showPanel(target_tab);
		prev_tab=5;
		var stateObj = { foo: 5 };
		
		History.pushState(stateObj, "Banded Bird Encounter Report "+5, orig_url);
	}

}



function getGeonamesResult(result) 
{
	//console.log("in getGeonamesResult");			
			var myLegend="<img src=\"../images/Images4Map/iconred.png\" alt=\"Encounter Location\" height=\"30px\" width=\"20px\" /> - Your Encounter Location<br />";
		 	var act;
			var pl_d;
			var attr;
			var res_cnt=result.length;
			var  msg="<table border=1 id=\"mlt_twn_tbl\">";
			
			if (result.length>1){
				for (i=0; i<result.length;i++){
				
				msg+="<tr><td align=\"left\" nowrap=\"nowrap\"><input type=\"radio\" name=\"twn_choice\" value=\""+i+"\"  " 
				msg+=" onclick=\"javascript: AcceptDesc('"+result[i].FEATURE_NAME.replace("\'", "\\'")+"','"+ result[i].COUNTRY_CODE+"','"+result[i].STATE_CODE+"','"+ result[i].COUNTY_CODE+"',"+result[i].DISTANCE+",'"+result[i].DIR+"',"+Math.round(100000*result[i].LAT1)/100000+","+Math.round(100000*result[i].LON1)/100000+","+Math.round(100000*result[i].LAT2)/100000+","+Math.round(100000*result[i].LON2)/100000+",'"+result[i].COUNTRY_NAME.replace("\'", "\\'")+"','"+result[i].STATE_NAME.replace("\'", "\\'")+"','"+result[i].COUNTY_NAME.replace("\'", "\\'")+"',"+result[i].MODE_FL+"); popup('popUpDiv') \" />"
				msg+=( result[i].DISTANCE==0  || result[i].DIR=="")? result[i].FEATURE_NAME : (result[i].DISTANCE+ " miles "+  result[i].DIR + " from " + result[i].FEATURE_NAME);
				msg+=( result[i].COUNTY_CODE=="000"  || result[i].COUNTY_CODE=="")? "" : (" ("+ result[i].COUNTY_NAME +" county)");
				msg+=( result[i].STATE_CODE=="00"  || result[i].STATE_CODE=="")? " "+result[i].COUNTRY_NAME : (", "+ result[i].STATE_NAME +", "+result[i].COUNTRY_NAME);
				msg+=" (Lat: "+result[i].LAT2 +" Lon: " +result[i].LON2+")</td></tr>";
				}
				msges_array[12]="Warning! Multiple locations matches provided description. Please select the correct location."+msg+"</table>";
				
				unFreeze();
				//popup('wait_para');
				popup('popUpDiv',12);
				 
				document.getElementById('popUpDiv').style.height=(28*(result.length + 4)) +"px";
				document.getElementById('popUpDiv').style.width="750px";
				
				
				
			    return;
			
			}
		
			if (result.length>0)
			 {
				 if (result[0].MODE_FL==1 )
				 { 
				     msg="";
					 
					 if( document.enc_rec.p_enc_cntry.value!=result[0].COUNTRY_CODE || document.enc_rec.p_enc_state.value!=result[0].STATE_CODE)
					{
						 msg="Country/State you provided do not match the coordinates.\nAre you OK to modify country/state to match the following description?";
					} else {
						 msg="Would you like to accept the following description for the provided set of coordinates?";
					}
	   					pl_d=( result[0].DISTANCE==0  || result[0].DIR=="")? result[0].FEATURE_NAME : (result[0].DISTANCE+ " miles "+  result[0].DIR + " from " + result[0].FEATURE_NAME);
						pl_d+=( result[0].COUNTY_CODE=="000"  || result[0].COUNTY_CODE=="")? "" : (" ("+ result[0].COUNTY_NAME +" county)");
					    pl_d+=( result[0].STATE_CODE=="00"  || result[0].STATE_CODE=="")? " "+result[0].COUNTRY_NAME : (", "+ result[0].STATE_NAME +", "+result[0].COUNTRY_NAME);
	       				msg=msg+"\n"+ pl_d;
		   
		   				if ( prev_loc!=pl_d && ! confirm(msg)){
							unFreeze();
							return;
						}
			         
					 
					
				 }
				 
				 
				 pl_d=( result[0].DISTANCE==0  || result[0].DIR=="")? result[0].FEATURE_NAME : (result[0].DISTANCE+ " miles "+  result[0].DIR + " from " + result[0].FEATURE_NAME);
				 
				    mycountrycode=result[0].COUNTRY_CODE;
					mystatecode=result[0].STATE_CODE;
					mycountycode=result[0].COUNTY_CODE;
					
					mycountry=result[0].COUNTRY_NAME;
					mystate=result[0].STATE_NAME;
					mycounty=result[0].COUNTY_NAME;
					
					if ( result[0].MODE_FL!="6" ){
					mytown=result[0].FEATURE_NAME;
					mymiles=result[0].DISTANCE;
					mydir=result[0].DIR;
					} 
					
					pl_d+=( mycountycode=="000"  || mycountycode=="")? "" : (" ("+ mycounty +" county)");
					pl_d+=( mystatecode=="00"  || mystatecode=="")? " "+mycountry : (", "+ mystate +", "+mycountry);
									
					if ( result[0].MODE_FL==0 ){
						if ( prev_loc!=pl_d && ! confirm("Do you want to accept the following description for this point on the map?\n"+ pl_d )){
							mycountrycode=document.enc_rec.p_enc_cntry.value;
							mystatecode=document.enc_rec.p_enc_state.value;
							mycountycode=document.enc_rec.p_enc_cnty.value;
							
							mycountry=document.enc_rec.p_enc_cntry.options[document.enc_rec.p_enc_cntry.selectedIndex].text;
							mystate=(mystatecode!="00" && mystatecode!="")?document.enc_rec.p_enc_state.options[document.enc_rec.p_enc_state.selectedIndex].text:"";
							mycounty=(mycountycode!="000" && mycountycode!="")?document.enc_rec.p_enc_cnty.options[document.enc_rec.p_enc_cnty.selectedIndex].text:"";
				
							
							mytown=document.enc_rec.p_enc_town.value;
							mymiles=document.enc_rec.p_miles.value;
							mydir=document.enc_rec.p_dir.value;
					
							unFreeze();
							return;
						} else {
							 AcceptDesc(result[0].FEATURE_NAME, result[0].COUNTRY_CODE,result[0].STATE_CODE, result[0].COUNTY_CODE,result[0].DISTANCE,result[0].DIR,Math.round(100000*result[0].LAT1)/100000,Math.round(100000*result[0].LON1)/100000,Math.round(100000*result[0].LAT2)/100000,Math.round(100000*result[0].LON2)/100000,result[0].COUNTRY_NAME,result[0].STATE_NAME,result[0].COUNTY_NAME,0);	
						}
					} else {
					
					   if (document.enc_rec.p_enc_cntry.value!=result[0].COUNTRY_CODE){
						document.enc_rec.p_enc_cntry.value=result[0].COUNTRY_CODE;
						getStates(mycountrycode);
						
					   }
						document.enc_rec.p_enc_state.value=(result[0].STATE_CODE=="")?"00":result[0].STATE_CODE;
						getCounties(mycountrycode,mystatecode);
						document.enc_rec.p_enc_cnty.value=(result[0].COUNTY_CODE=="")?"000":result[0].COUNTY_CODE;
						
						document.hidden_form.p_enctr_country.value=result[0].COUNTRY_CODE;
						document.hidden_form.p_enctr_county.value=(result[0].COUNTY_CODE=="")?"000":result[0].COUNTY_CODE;
						document.hidden_form.p_enctr_state.value=(result[0].STATE_CODE=="")?"00":result[0].STATE_CODE;
						document.hidden_form.p_lat.value=result[0].LAT2;
						document.hidden_form.p_lon.value=result[0].LON2;
						if ( result[0].MODE_FL<"5"  ){
						
						document.enc_rec.p_enc_town.value=result[0].FEATURE_NAME;
						document.enc_rec.miles_km[0].checked=true;
						document.enc_rec.p_miles.value=result[0].DISTANCE;
						document.enc_rec.p_dir.value=result[0].DIR;
						
						document.hidden_form.p_enctr_town.value=result[0].FEATURE_NAME;
						document.hidden_form.p_miles.value=result[0].DISTANCE;
						document.hidden_form.p_dir.value=result[0].DIR;
						
						} 
					}
					
					if (mylat!=result[0].LAT2 || mylon!=result[0].LON2){
					
					mylat = Math.round(100000*result[0].LAT2)/100000;
					mylon = Math.round(100000*result[0].LON2)/100000;
					latLng = new google.maps.LatLng(mylat, mylon);
					
					}
					
					
					if (result[0].MODE_FL==5){
						document.hidden_form.p_coord_prec.value=11
						mycoord_prec="approximate location based on centroid of town/place/area" //centroid of WMA
						mytown='';
						document.hidden_form.p_enctr_town.value=mytown;
						myloc_desc=document.enc_rec.p_loc_desc_wma.value;
						document.enc_rec.p_loc_desc.value=myloc_desc;
						document.hidden_form.p_loc_desc.value=myloc_desc;
					}
					
					if (result[0].MODE_FL==6 ){
						document.hidden_form.p_coord_prec.value=11
						mycoord_prec="approximate location based on centroid of town/place/area" //centroid of description area
						myloc_desc=document.enc_rec.p_loc_desc.value;
						document.hidden_form.p_loc_desc.value=myloc_desc;
					}
					
					if (result[0].MODE_FL==3 ){
						document.hidden_form.p_coord_prec.value=11;
						mycoord_prec= "approximate location based on centroid of town/place/area" 
					}
					
					
					if (marker){ 
					   marker.setPosition(latLng);
					   marker.setTitle('Encounter Location: '+ pl_d)
					   } else {
							marker = new google.maps.Marker({
							position: latLng,
							title: 'Encounter Location: '+ pl_d,
							map: map,
							draggable: true
						  });
						
					   }
					//}
					latLng1 = new google.maps.LatLng(result[0].LAT1, result[0].LON1)
					if (map ){
						map.panTo(latLng);
						
						myzoom=map.getZoom();
						if (myzoom<12){
						  myzoom=12;	  
						  map.setZoom(myzoom);
						  myBounds=map.getBounds();
						}
					   
					  if ( myBounds && ! myBounds.contains(latLng1)){
						myBounds.extend( latLng1);
						map.fitBounds(myBounds);
					  }	
					myzoom=map.getZoom();  
					  
					}
					
					 
					if (marker1){ 
					       
					       if (mymiles>0){
							marker1.setPosition(latLng1); 
							marker1.setTitle(result[0].FEATURE_NAME.replace("\'", "\\'"))
							marker1.setMap(map);
							myLegend=myLegend+"<img src=\"../images/Images4Map/icon57.png\" alt=\"Populated Place\" height=\"25px\" width=\"25px\" /> - The populated place (town or village) from which distance and direction are calculated.<br />&nbsp;"; 
						   } else {
							  marker1.setMap(null); 
						   }
						} else {
							if (mymiles>0){
							marker1 = new google.maps.Marker({
							position: latLng1,
							title: result[0].FEATURE_NAME.replace("\'", "\\'"),
							map: map,
							icon: IconImg_tw,
							draggable: false
							});
							myLegend=myLegend+"<img src=\"../images/Images4Map/icon57.png\" alt=\"Populated Place\" height=\"25px\" width=\"25px\" /> - The populated place (town or village) from which distance and direction are calculated.<br />&nbsp;";
						}
					}
					
				
				if (infoWind){
				myHtml=pl_d
				myHtml+="<br />"+"Coordinates represent "+mycoord_prec+": "+ latLng.toUrlValue(5);
				myHtml+="<br />"+"If you want to adjust your location, click and drag the red marker."
				infoWind.setContent(myHtml);
				infoWind.setPosition(latLng);
				infoWind.open(map,marker);
			    }	
					
					
					
			}
			
			if ( result.length==0 ) 
			{
				if ( ! mymode==0 ){
				 alert("No data found. Please verify your input, then try to map it again or consider using another option.");
					
				//	console.log(mylat+', '+mylon+', '+mycountrycode+', '+mystatecode+', '+mycountycode+', '+mytown+', '+mymiles+', '+mydir+', '+myloc_desc+', ');
					
				 //ResetLocOpt();
				 //infoWind.setMap(null);
				 
				} /*else {
				 alert("No data found. Description for this set of coorinates was not assigned.");	
				}*/
				myHtml="Location description is unknown"
				myHtml+="<br />Coordinates represent "+mycoord_prec+": "+ latLng.toUrlValue(5);
				myHtml+="<br />"+"If you want to adjust your location, click and drag the red marker."
				infoWind.setContent(myHtml);
				infoWind.setPosition(latLng);
				infoWind.open(map,marker);
			}
			
						
			document.getElementById('legend_div').innerHTML=myLegend;
			showEncounter();
			unFreeze();
			
			if ( target_tab>5){
				TabbedPanels1.showPanel(target_tab);
				prev_tab=5;
				var stateObj = { foo: 5 };
				History.pushState(stateObj, "Banded Bird Encounter Report "+5, orig_url);
			}
		}



function HideShowTab(p1,p2){
	var el=document.getElementById(TabbedPanels1[p2]);
	if(p1==0){//hide
	  	el.style.display = 'none'; 
	} else {
		el.style.display = 'block'; 
	}
	
}


function synchronizeCoord(la, lo){
	
	var f = document.enc_rec
        var m = 1.0/60.0
        var s = 1.0/3600.0
        var half_s = 0.5/3600.0
        var dd
        var mm
        var ss
        var t

		mylat=0
		mylon=0
	
		mylat=isNaN(parseFloat(la))?0:parseFloat(la);
		document.hidden_form.p_lat.value=mylat;
		f.lat_dd.value=Math.abs(mylat);
		f.lat_ddm_degrees.value=lat_dd 
		f.lat_dms_degrees.value=lat_dd 
		f.lat_dms_minutes.value=lat_mm
		f.lat_dms_seconds.value=lat_ss
		f.lat_ddm_minutes.value=Math.round(100000*(parseFloat(lat_mm)+(parseFloat(lat_ss)/60)))/100000
		
		mylon=isNaN(parseFloat(lo))?0:parseFloat(lo);
		document.hidden_form.p_lon.value=mylon;
		f.long_dd.value=Math.abs(mylon);
		f.long_ddm_degrees.value=lon_dd 
		f.long_dms_degrees.value=lon_dd 
		f.long_dms_minutes.value=lon_mm
		f.long_dms_seconds.value=lon_ss
		f.long_ddm_minutes.value=Math.round(100000*(parseFloat(lon_mm)+(parseFloat(lon_ss)/60)))/100000
		
				  if (mylat<0 )
				  {
					f.lat_dir[1].checked=true;
					f.lat_dir_ddm[1].checked =true;
					f.lat_dir_dms[1].checked =true;
				  } else {
					f.lat_dir[0].checked=true;
					f.lat_dir_ddm[0].checked =true;
					f.lat_dir_dms[0].checked =true;
				  }
				  
				  if (mylon<=0 )
				  {
					f.long_dir[1].checked=true;
					f.long_dir_ddm[1].checked=true;
					f.long_dir_dms[1].checked=true;
				  } else {
					f.long_dir[0].checked=true;
					f.long_dir_ddm[0].checked=true;
					f.long_dir_dms[0].checked=true;
				  }				
	
}

// maskIt applies a mask to a field.
function maskIt( fld)
  {
    var tmpStr = "(";
    keyCount = fld.value.length;
    //keyEntered = fldVal.substring(keyCount-1,keyCount);
   // if (keyCount <= 1) isNamedFone = false;
    //if (!isNamedFone) isNamedFone = chkNAN(keyEntered);
    keyCount++;
    switch (keyCount)
    {
    case 2: 
	  if ( fld.value.indexOf("(")==-1 )
      tmpStr += fld.value;
      fld.value = tmpStr;
      break;
    case 5:
      fld.value += ") ";
      break;
    case 10:
      fld.value += "-";
      break;
	case 15:
      fld.value += " x ";
      break;
    }
} // end maskIt

var cont_cnt=1;
function AddContact(){
	//alert(cont_cnt);
	
	updateDOMForFields("extra_contact_div");
	
	cont_cnt=cont_cnt+1;
	var el=document.getElementById("extra_contact_div");
	
	var extra_txt="<div id=\"extra_cont"+cont_cnt+"\">"
	extra_txt+="<div class=\"panel panel-default\"><div class=\"panel-heading\"><div id=\"lbl_cont"+cont_cnt+"\"><label name=\"cont"+(cont_cnt-1)+"\">"+cont_cnt+"</label></div></div><div class=\"panel-body\">"
	extra_txt+="<div class=\"row\"><div class=\"col-sm-2\"><div id=\"lbl_fname"+cont_cnt+"\"><label id=\"lb_first_name"+cont_cnt+"\" for=\"p_first_name"+cont_cnt+"\" >First Name</label></div></div><div class=\"col-sm-10\"><div>"
	extra_txt+="<input type=\"text\" name=\"p_first_name\" id=\"p_first_name"+cont_cnt+"\" value=\"\" onchange=\"nameCheck(this);\" maxlength=\"34\" size=\"34\" /></div></div></div>"
	extra_txt+="<div class=\"row\"><div class=\"col-sm-2\"><div id=\"lbl_lname"+cont_cnt+"\"><label id=\"lb_last_name"+cont_cnt+"\"  for=\"p_last_name"+cont_cnt+"\">Last Name</label></div></div><div class=\"col-sm-10\"><div>"
	extra_txt+="<input type=\"text\" name=\"p_last_name\" id=\"p_last_name"+cont_cnt+"\" value=\"\" onchange=\"nameCheck(this);\"  maxlength=\"34\" size=\"34\" /></div></div></div><br />"
	extra_txt+="<div class=\"row\"><div class=\"col-sm-2\"><div id=\"lbl_email"+cont_cnt+"\"><label for=\"p_email"+cont_cnt+"\">Email</label></div></div><div class=\"col-sm-10\"><div>"
	extra_txt+="<input type=\"text\" name=\"p_email\" id=\"p_email"+cont_cnt+"\" value=\"\" maxlength=\"75\" class=\"form-control form-control-sm\" onchange=\"emailCheck(this.value);\" /></div></div></div>"
	extra_txt+="<div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_phone"+cont_cnt+"\">Daytime Phone</label></div><div class=\"col-sm-10\"><div>"
	extra_txt+="<input type=\"text\" name=\"p_phone\" id=\"p_phone"+cont_cnt+"\" value=\"\" maxlength=\"22\" size=\"22\"  onKeypress=\"maskIt(this)\" /></div></div></div><br />"
	extra_txt+="<div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_contact_cntry_code"+cont_cnt+"\">Country</label></div><div class=\"col-sm-10\">"
	
	if (document.getElementById("cont_cntry_td").innerHTML.indexOf("id=p_contact_cntry_code")<0){
		 
	extra_txt+=document.getElementById("cont_cntry_td").innerHTML.replace("id=\"p_contact_cntry_code\"","id=\"p_contact_cntry_code"+cont_cnt+"\"");
	} else {
		 
	 extra_txt+=document.getElementById("cont_cntry_td").innerHTML.replace("id=p_contact_cntry_code","id=p_contact_cntry_code"+cont_cnt );	
	}
		
	extra_txt+="</div></div><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_street1"+cont_cnt+"\">Street Address*</label></div><div class=\"col-sm-10\"><div class=\"row\"><div class=\"col-sm-12\"><div>"
	extra_txt+="<input type=\"text\" name=\"p_street1\" id=\"p_street1"+cont_cnt+"\" value=\"\" maxlength=\"34\" size=\"34\" onkeyup=\"return autoTab(this, 34, event);\" /></div></div><div class=\"col-sm-12\"><div>"
	extra_txt+="<input type=\"text\" name=\"p_street2\" id=\"p_street2"+cont_cnt+"\" value=\"\" maxlength=\"34\" size=\"34\" title=\"Street Address continued\" /></div></div></div></div></div><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_zip"+cont_cnt+"\">Zip or Postal Code</label></div><div class=\"col-sm-10\"><div>"
	extra_txt+="<input type=\"text\" name=\"p_zip\" id=\"p_zip"+cont_cnt+"\" value=\"\" onkeyup=\"getCityAndState2("+cont_cnt+")\" size=\"10\" maxlength=\"10\" /></div></div></div><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_city"+cont_cnt+"\">City</label></div><div class=\"col-sm-10\"><div>"
	extra_txt+="<input type=\"text\" name=\"p_city\" id=\"p_city"+cont_cnt+"\" value=\"\" maxlength=\"34\" size=\"34\" /></div></div></div><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_c_state"+cont_cnt+"\">State</label></div><div class=\"col-sm-10\"><div>"
	extra_txt+="<input type=\"text\" name=\"p_c_state\" id=\"p_c_state"+cont_cnt+"\" value=\"\"  maxlength=\"25\" size=\"10\" />"
	extra_txt+="<input type=\"button\" name=\"rmv_cnt"+cont_cnt+"\"  id=\"rmv_cnt"+cont_cnt+"\" onclick=\"RemoveContact("+cont_cnt+")\" value=\"Remove Contact\" /></div></div></div></div></div></div>";
	
	el.innerHTML+=extra_txt;
	
	if (cont_cnt>4) document.getElementById("add_cont_btn").disabled=true;
	
}

function RemoveContact(n){
	var el=document.getElementById("extra_cont"+n);
	el.innerHTML="";
	cont_cnt=cont_cnt-1;
	var extra_txt="";
	for (var i = 2; i <= cont_cnt; i++) {
	extra_txt+="<div id=\"extra_cont"+i+"\">"
	extra_txt+="<div class=\"panel panel-default\"><div class=\"panel-heading\"><div id=\"lbl_cont"+i+"\"><label name=\"cont"+(i-1)+"\">"+i+"</label></div></div><div class=\"panel-body\"><div class=\"row\"><div class=\"col-sm-2\"><div id=\"lbl_fname"+i+"\"><label id=\"lb_first_name"+i+"\" for=\"p_first_name"+i+"\">First Name</label></div></div><div class=\"col-sm-10\">"
	extra_txt+="<input type=\"text\" name=\"p_first_name\" id=\"p_first_name"+i+"\" onchange=\"nameCheck(this);\" maxlength=\"34\" size=\"34\" value=\""+document.enc_rec.p_first_name[i-1].value+"\" /></div></div><div class=\"row\"><div class=\"col-sm-2\"><div id=\"lbl_lname"+i+"\"><label id=\"lb_last_name"+i+"\" for=\"p_last_name"+i+"\">Last Name</label></div></div><div class=\"col-sm-10\">"
	extra_txt+="<input type=\"text\" name=\"p_last_name\" id=\"p_last_name"+i+"\" maxlength=\"34\" onchange=\"nameCheck(this);\" size=\"34\" value=\""+document.enc_rec.p_last_name[i-1].value+"\" /></div></div><br /><div class=\"row\"><div class=\"col-sm-2\"><div id=\"lbl_email"+i+"\"><label for=\"p_email"+i+"\">Email</label></div></div><div class=\"col-sm-10\">"
	extra_txt+="<input type=\"text\" name=\"p_email\" id=\"p_email"+i+"\" maxlength=\"75\" class=\"form-control form-control-sm\" value=\""+document.enc_rec.p_email[i-1].value+"\" onchange=\"emailCheck(this.value);\" /></div></div><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_phone"+i+"\">Daytime Phone</label></div><div class=\"col-sm-10\">"
	extra_txt+="<input type=\"text\" name=\"p_phone\" id=\"p_phone"+i+"\" maxlength=\"22\" size=\"22\"  onKeypress=\"maskIt(this)\" value=\""+document.enc_rec.p_phone[i-1].value+"\" /></div></div><br /><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_contact_cntry_code"+i+"\">Country</label></div><div class=\"col-sm-10\">"
	
	if (document.getElementById("cont_cntry_td").innerHTML.indexOf("id=p_contact_cntry_code")<0){
		 
	extra_txt+=document.getElementById("cont_cntry_td").innerHTML.replace("id=\"p_contact_cntry_code\"","id=\"p_contact_cntry_code"+i+"\"")
	} else {
		 
	 extra_txt+=document.getElementById("cont_cntry_td").innerHTML.replace("id=p_contact_cntry_code","id=p_contact_cntry_code"+i)
	}
	
	extra_txt+="</div></div><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_street1"+i+"\">Street Address*</label></div><div class=\"col-sm-10\"><div class=\"row\"><div class=\"col-sm-12\">"
	extra_txt+="<input type=\"text\" name=\"p_street1\" id=\"p_street1"+i+"\" maxlength=\"34\" size=\"34\" value=\""+document.enc_rec.p_street1[i-1].value+"\" onkeyup=\"return autoTab(this, 34, event);\" /></div><div class=\"col-sm-12\">"
	extra_txt+="<input type=\"text\" name=\"p_street2\" id=\"p_street2"+i+"\" maxlength=\"34\" size=\"34\" value=\""+document.enc_rec.p_street2[i-1].value+"\" title=\"Street Address continued\" /></div></div></div></div><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_zip"+i+"\">Zip or Postal Code</label></div><div class=\"col-sm-10\">"
	extra_txt+="<input type=\"text\" name=\"p_zip\" id=\"p_zip"+i+"\" onkeyup=\"getCityAndState2("+i+")\" size=\"10\" maxlength=\"10\" value=\""+document.enc_rec.p_zip[i-1].value+"\" /></div></div><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_city"+i+"\">City</label></div><div class=\"col-sm-10\">"
	extra_txt+="<input type=\"text\" name=\"p_city\" id=\"p_city"+i+"\" maxlength=\"34\" size=\"34\" value=\""+document.enc_rec.p_city[i-1].value+"\" /></div></div><div class=\"row\"><div class=\"col-sm-2\"><label for=\"p_c_state"+i+"\">State</label></div><div class=\"col-sm-10\">"
	extra_txt+="<input type=\"text\" name=\"p_c_state\" id=\"p_c_state"+i+"\"  maxlength=\"25\" size=\"10\" value=\""+document.enc_rec.p_c_state[i-1].value+"\" /><input type=\"button\" id=\"rmv_cnt"+i+"\" onclick=\"RemoveContact("+i+")\" value=\"Remove Contact\" /></div></div></div></div></div>";
	}
	el2=document.getElementById("extra_contact_div");
    
	el2.innerHTML=el.innerHTML+extra_txt
	
	getAllContacts();
	
	if (cont_cnt<5) document.getElementById("add_cont_btn").disabled=false;
	
}


var myband="";
var mysecond_band="";
var myrwrd="";
var myspecies="";
var myhow="";
var mywho="";
var mypc=""
var myenc_date=""
//var mycord_prec 
var mycofa="Yes" 
var mylang="English" 
var myremarks="" 
var mymarker
//var myloc_choice=""

var labels=new Array("Federal Band Number","Second Federal Band Number (if present)","Reward Band Number (if present)","Species","Color Marker Info","How Obtained","Who Reported","Present Condition","Encounter Date","Encounter Location","","","","","","","","","","","Send Certificate","","","Comments (optional)");

var labels2go=new Array(3,3,3,3,4,3,1,3,3,5,"","","","","","","","","","",6,"","","");

function setWhoReported(){
	mywho="";
	
	if (document.getElementById('who2').checked){
	   document.hidden_form.p_who.value="21"
	   mywho="The Finder";
	}
	if (document.getElementById('who4').checked){
	   document.hidden_form.p_who.value="22"
	   mywho+=(mywho=="")?"A State, Provincial, or Federal Official":"; A State, Provincial, or Federal Official";
	}
	if(document.getElementById('who3').checked){
	    document.hidden_form.p_who.value="23"
		mywho+=(mywho=="")?"A Bird Bander":"; A Bird Bander";
		document.getElementById("permit_dv").style.display="block";
	} else { 
	 document.enc_rec.p_permit.value="";
	 document.getElementById("permit_dv").style.display="none";
	}
	
	if (mywho==""){
	  document.hidden_form.p_who.value="";
	} else {
	    if(document.getElementById('who3').checked && document.enc_rec.p_permit.value.trim()!="" ){
		  document.hidden_form.p_enc_permit.value=document.enc_rec.p_permit.value.trim();
		  mywho+=" (Permit: "+document.hidden_form.p_enc_permit.value+")";
		 } else {
		   document.hidden_form.p_enc_permit.value="";	 
		 }	
	}
	
}

function setSpecies(){
	myspecies=""
	 
	myspecies=(document.enc_rec.p_species.value=="" || document.enc_rec.p_species.value.toUpperCase()=="UNKNOWN")?document.enc_rec.aou_type.value:document.enc_rec.p_species.value.trim();
	
	if (myspecies=="" && ! document.enc_rec.p_species.value=="") myspecies=document.enc_rec.p_species.value;
	document.hidden_form.p_species.value=myspecies;
	
}

function setPC(){
	var n=document.enc_rec.p_birdcond.value
	var m=document.enc_rec.p_bandcond.value
		
	if (m=="X" || n=="X"){
		document.hidden_form.p_pc.value=""
	    mypc="undefined"
	} else {
		switch(n)
		{
		case "0": case "4":
		  switch(m)
		  {
			case "1": 
			  document.hidden_form.p_pc.value="14"
			  mypc="Bird alive. Band removed."
			  break;
			case "2":
			  document.hidden_form.p_pc.value="13"
			  mypc="Bird alive. Band left on bird."
			  break;
			default:
			  document.hidden_form.p_pc.value="12"
			  mypc="Bird alive. Band condition unknown."
		  }
		  break;
		case "1":
		  switch(m)
		  {
			case "1":
			  document.hidden_form.p_pc.value="05"
			  mypc="Bird dead. Band removed."
			  break;
			case "2":
			  document.hidden_form.p_pc.value="04"
			  mypc="Bird dead. Band left on bird."
			  break;
			default:
			  document.hidden_form.p_pc.value="03"
			  mypc="Bird dead. Band condition unknown."
		  }
		  break;
		case "2":
		  switch(m)
		  {
			case "1":
			  document.hidden_form.p_pc.value="08"
			  mypc="Bird alive released. Band removed."
			  break;
			case "2":
			  document.hidden_form.p_pc.value="07"
			  mypc="Bird alive released. Band left on bird."
			  break;
			default:
			  document.hidden_form.p_pc.value="06"
			  mypc="Bird alive released. Band condition unknown."
		  }
		  break;
		case "3":
		  switch(m)
		  {
			case "1":
			  document.hidden_form.p_pc.value="11"
			  mypc="Bird alive in captivity. Band removed."
			  break;
			case "2":
			  document.hidden_form.p_pc.value="10"
			  mypc="Bird alive in captivity. Band left on bird."
			  break;
			default:
			  document.hidden_form.p_pc.value="09"
			  mypc="Bird alive in captivity. Band condition unknown."
		  }
		  break;
		case "5":
		  switch(m)
		  {
			case "1":
			  document.hidden_form.p_pc.value="02"
			  mypc="Bird condition unknown. Band removed."
			  break;
			case "2":
			  document.hidden_form.p_pc.value="01"
			  mypc="Bird condition unknown. Band left on bird."
			  break;
			default:
			  document.hidden_form.p_pc.value="00"
			  mypc="Unknown."
		  }
		  break;
		default:
		  document.hidden_form.p_pc.value="00"
		  mypc="Unknown"
		}
	}
	
}


function setHowObt(){
	if (document.enc_rec.p_how1.value=="--" ){
	  document.hidden_form.p_how.value=""
	  myhow="undefined"	
	} else {
		if (document.enc_rec.p_how2.value=="OT" || (document.enc_rec.p_how2.value=="--" && document.enc_rec.p_how1.value=="") ){
			document.hidden_form.p_how.value="OT"
			myhow="Explained in comments"
			document.getElementById("lbl23").innerHTML="<label for=\"p_comments1\" id=\"lbl23z\">Comments (required)</label>";
			document.getElementById("p_comments1").setAttribute("required","true");
		} else {
			  document.hidden_form.p_how.value=(document.enc_rec.p_how2.value=="--" || document.enc_rec.p_how2.value=="")?document.enc_rec.p_how1.value:document.enc_rec.p_how2.value;
			  myhow=(document.enc_rec.p_how2.value=="--" || document.enc_rec.p_how2.value=="")?document.enc_rec.p_how1.options[document.enc_rec.p_how1.selectedIndex].text:document.enc_rec.p_how1.options[document.enc_rec.p_how1.selectedIndex].text+". "+document.enc_rec.p_how2.options[document.enc_rec.p_how2.selectedIndex].text;	
			  myhow=myhow.replace('See more options ','');
			 if(document.enc_rec.p_how2.value=="53"){
				 document.getElementById("lbl23").innerHTML="<label for=\"p_comments1\" id=\"lbl23z\">Comments (required)</label>";
				 document.getElementById("p_comments1").setAttribute("required","true");
			 }else {
				 document.getElementById("lbl23").innerHTML="<label for=\"p_comments1\" id=\"lbl23z\">Comments (optional)</label>";
				 document.getElementById("p_comments1").setAttribute("required","false");
			 }

			if (document.hidden_form.p_how.value=="10"){
		      document.enc_rec.p_birdcond.value=1; 
	        }
		}
		
	 
	 }

}

var my_dt_choice
var enc_dd
var enc_mm
var enc_yyyy

function setEncDate(){
	var n="";
	var my_text="";
	if (!document.enc_rec.p_date.value==""){
		n=0;
	} else {
		for (var i=1; i<6;i++){
			if(document.getElementById('dt_option'+i).checked){
				 n=i;
			}
		}
	}
	
	my_dt_choice=n
	//alert(n);
	document.getElementById("mydttransl").innerHTML= "";
		switch(n){
			case 1:
			 myenc_date=document.enc_rec.p_mm.options[document.enc_rec.p_mm.selectedIndex].text+", "+document.enc_rec.p_yyyy.value;
			 my_text=document.enc_rec.p_mm.value+"/99/"+document.enc_rec.p_yyyy.value;
			 enc_dd="99"
			 enc_mm=document.enc_rec.p_mm.value
			 enc_yyyy=document.enc_rec.p_yyyy.value
			 break;
			case 2:
			 myenc_date="Unknown day and month, "+document.enc_rec.p_yyyy2.value
			 my_text="99/99/"+document.enc_rec.p_yyyy2.value;
			 enc_dd="99"
			 enc_mm="99"
			 enc_yyyy=document.enc_rec.p_yyyy2.value
			 break;
			case 3:
			 myenc_date=(document.enc_rec.p_mm3.options[document.enc_rec.p_mm3.selectedIndex].text.replace('YY-1',eval(document.enc_rec.p_yyyy3.value - 1))).replace(/YY/g,document.enc_rec.p_yyyy3.value);
			 my_text=document.enc_rec.p_mm3.value+"/99/"+document.enc_rec.p_yyyy3.value;
			 enc_dd="99"
			 enc_mm=document.enc_rec.p_mm3.value
			 enc_yyyy=document.enc_rec.p_yyyy3.value
			 break;
			case 4:
			 myenc_date=document.enc_rec.p_yyyy4.options[document.enc_rec.p_yyyy4.selectedIndex].text
			 my_text="94/99/"+document.enc_rec.p_yyyy4.value;
			 enc_dd="99"
			 enc_mm="94"
			 enc_yyyy=document.enc_rec.p_yyyy4.value
			 break;
			case 5:
			 myenc_date="Unknown"
			 my_text="99/99/9999";
			 enc_dd="99"
			 enc_mm="99"
			 enc_yyyy="9999"
			 break;
			default:
			 //myenc_date=document.enc_rec.p_date.value;
			 //my_text=document.enc_rec.p_date.value;
			 myenc_date=document.enc_rec.p_date.value
			 if ( myenc_date.indexOf("-")>2 ){ 
			 var yf = myenc_date.split("-")[0];
             var mf = myenc_date.split("-")[1];
  			 var df = myenc_date.split("-")[2];
			 myenc_date=mf+"/"+df+"/"+yf ;
			 }
			 my_text=myenc_date;
			 var arrMonths = new Array ("January","February","March","April","May","June","July","August","September","October","November","December");	
			 var mf1 = myenc_date.split("/")[0];
             var df1 = myenc_date.split("/")[1];
  			 var yf1 = myenc_date.split("/")[2];
			 myenc_date=df1+" "+arrMonths[parseInt(mf1)-1]+", "+yf1;
			 document.getElementById("mydttransl").innerHTML= myenc_date;
		}
		
		
	   document.hidden_form.p_enc_date.value=my_text.replace(/\//g,"");
	//alert (myenc_date);
}

function SinchComment(n){
	var elid=(n>0?'p_comments'+n:'p_remarks1');
	var el = document.getElementById(elid);
	removeInvalidChars(el);
	 
	if( n==1 && document.enc_rec.p_permit.value.trim()!="" && ! /\d{5}/.test(document.enc_rec.p_permit.value)){
		alert('Invalid permit number. It must be 5 digits.');
		document.enc_rec.p_permit.focus();
	}
	//if (n>0){          
	document.hidden_form.p_remarks.value=el.value;
	//} else {
		if( document.enc_rec.p_permit.value.trim()!=""){// &&  document.hidden_form.p_remarks.value.indexOf("Enc. Prmt: "+document.enc_rec.p_permit.value)<0 ){
		   //document.hidden_form.p_remarks.value+=" Enc. Prmt: "+document.enc_rec.p_permit.value;
			document.hidden_form.p_enc_permit.value=document.enc_rec.p_permit.value.trim();
		}
	//}
	document.hidden_form.p_remarks.value=document.hidden_form.p_remarks.value.trim();
	document.enc_rec.p_comments1.value=document.hidden_form.p_remarks.value;
	document.enc_rec.p_comments2.value=document.hidden_form.p_remarks.value;
	document.enc_rec.p_comments3.value=document.hidden_form.p_remarks.value;
	if (n==0)document.enc_rec.p_remarks.value=document.hidden_form.p_remarks.value;
	 
	if (document.hidden_form.p_remarks.value.length>250){
		alert("Comments are too long. Length is limited to 250 characters!\nActual length is "+document.hidden_form.p_remarks.value.length );
	}

}

function getAllContacts(){
	
	contact_list.splice(0,contact_list.length);
	ncontacts=0;
	
	if (cont_cnt>1){
		for (var j=1; j<=cont_cnt; j++){
		Add_Contact (document.enc_rec.p_first_name[j-1].value, document.enc_rec.p_last_name[j-1].value, document.enc_rec.p_contact_cntry_code[j-1].value, document.enc_rec.p_street1[j-1].value, document.enc_rec.p_street2[j-1].value,document.enc_rec.p_city[j-1].value, document.enc_rec.p_c_state[j-1].value, document.enc_rec.p_zip[j-1].value, document.enc_rec.p_email[j-1].value, document.enc_rec.p_phone[j-1].value, j);
		}
	} else {
		Add_Contact (document.enc_rec.p_first_name.value, document.enc_rec.p_last_name.value, document.enc_rec.p_contact_cntry_code.value, document.enc_rec.p_street1.value, document.enc_rec.p_street2.value,document.enc_rec.p_city.value, document.enc_rec.p_c_state.value, document.enc_rec.p_zip.value, document.enc_rec.p_email.value, document.enc_rec.p_phone.value, 1);
	}

   	Display_Contacts(contact_list, "show_cont_div");

	Add_Contact_List_To_DOM("hd_contact_div");

}

function getLocChoice(){
	//console.log("in getLocChoice: "+mycountycode)
	document.hidden_form.p_loc_choice.value="";
	mycountrycode=document.enc_rec.p_enc_cntry.value;
	mystatecode=document.enc_rec.p_enc_state.value;
	mycountry=document.enc_rec.p_enc_cntry.options[document.enc_rec.p_enc_cntry.selectedIndex].text;
	mystate=(mystatecode=="00" || mystatecode=="")?"":document.enc_rec.p_enc_state.options[document.enc_rec.p_enc_state.selectedIndex].text;
    document.hidden_form.p_enctr_country.value=mycountrycode;
	document.hidden_form.p_enctr_state.value=mystatecode;
	myloc_desc="";
	mytown=document.enc_rec.p_enc_town.value.trim();
	//mycountycode="";
	//mycounty="";
	
    if (marker){
		for(var i=1; i<=5; i++){
			if (document.getElementById("loc_choice"+i).checked){
			  document.hidden_form.p_loc_choice.value=document.getElementById("loc_choice"+i).value;
			  switch(i)
				{
				case 1: //coordinates
				  for(var j=1; j<4; j++){
					  if (document.getElementById("coord_option"+j).checked){
						  document.hidden_form.p_loc_choice.value=document.hidden_form.p_loc_choice.value+j
					  }
				  }
				  break;
				case 2: //WMA
				  myloc_desc=document.enc_rec.p_loc_desc_wma.value.trim();
				  document.enc_rec.p_loc_desc.value=myloc_desc;
				  document.hidden_form.p_loc_desc.value=myloc_desc;
				  break;
				case 3: //Address
				  myloc_desc=document.enc_rec.p_loc_desc_a.value.trim();
				  document.enc_rec.p_loc_desc.value=myloc_desc;
				  document.hidden_form.p_loc_desc.value=myloc_desc;
				  break;
				case 4:  //Loc Description
				  myloc_desc=document.enc_rec.p_loc_desc.value.trim();
				  mycountycode=document.enc_rec.p_enc_cnty.value;
				  mycounty=(mycountycode=="000" || mycountycode=="")?"":document.enc_rec.p_enc_cnty.options[document.enc_rec.p_enc_cnty.selectedIndex].text;
				  document.hidden_form.p_enctr_county.value=mycountycode;
				  document.hidden_form.p_loc_desc.value=myloc_desc;
				  break;
				default: // 5: //Find on a map
				  myloc_desc=document.enc_rec.p_loc_desc.value.trim();
				  mycountycode=document.enc_rec.p_enc_cnty.value;
				  mycounty=(mycountycode=="000" || mycountycode=="")?"":document.enc_rec.p_enc_cnty.options[document.enc_rec.p_enc_cnty.selectedIndex].text;
				  document.hidden_form.p_enctr_county.value=mycountycode;
				  
				}
					  
			}
			
		}
	
	
	  }
	//console.log("out getLocChoice: "+document.hidden_form.p_loc_choice.value);
}

function showEncounter(){
	
	    var str = '<table border=\'1\' class=\'table-condensed\'>';
        var elem = document.getElementById('hidden_form').elements;
		if (document.getElementById('cofaY').checked){
			document.hidden_form.p_cofa.value="E";
			mycofa="Yes"
		} else {
			document.hidden_form.p_cofa.value="N";
			mycofa="No"
		}
		
		myband=document.enc_rec.p_prefix.value.replace(/[^\d]/g ,"")+"-"+document.enc_rec.p_suffix.value.replace(/[^\d]/g ,"");
	    document.hidden_form.p_band.value=document.enc_rec.p_prefix.value.replace(/[^\d]/g ,"")+document.enc_rec.p_suffix.value.replace(/[^\d]/g ,"");
		
	    if (document.getElementById('was_sec_bnd_chk').checked){
	    mysecond_band=document.enc_rec.p_prefix2.value.replace(/[^\d]/g ,"")+"-"+document.enc_rec.p_suffix2.value.replace(/[^\d]/g ,"");
	    document.hidden_form.p_second_band.value=document.enc_rec.p_prefix2.value.replace(/[^\d]/g ,"")+document.enc_rec.p_suffix2.value.replace(/[^\d]/g ,"");
		} else {
		mysecond_band="";
	    document.hidden_form.p_second_band.value="";
			
		}
	
	    if (document.getElementById('was_rwrd_bnd_chk').checked){
	    myrwrd=document.enc_rec.p_reward.value.replace(/[^\d]/g ,"");
	    document.hidden_form.p_rwrd.value=myrwrd;
		} else {
		myrwrd="";
	    document.hidden_form.p_rwrd.value="";
			
		}
		getAllContacts();
		setSpecies();
		setPC();
		setWhoReported();
		setHowObt();
		setEncDate();
		document.hidden_form.p_zoom.value=myzoom;
		
		getLocChoice();
		if (marker){
		latLng=marker.getPosition();
		updateMarkerPosition(latLng);
		}
		
        for(var i = 0; i < elem.length; i++)
        {
			//if ( ! elem[i].value=="" && elem[i].name.indexOf("p_")>=0){
			if ( elem[i].name.indexOf("p_")>=0){
				//alert(elem[i].name);
				if (labels[i]=="Encounter Location"){
					
					str += "<tr><td><b>" + labels[i] + "</b></td>";
					str +="<td class=\"outinfo\">" + myloc_desc+"<br />"
					var km_txt=(document.enc_rec.miles_km[1].checked && mymiles!=document.enc_rec.p_miles.value)?"("+document.enc_rec.p_miles.value +" km) ":"";
					str += ( mymiles==0  || mydir=="")? mytown : (mymiles+ " miles "+km_txt+  mydir + " from " + mytown)
					
					str +=( mycounty=="")? "" : (" ("+ mycounty +" county)");
					str +=( mystate=="")? " "+mycountry : (", "+ mystate +", "+mycountry);
            		str +="<br />Coordinates: Lat/Lon: "+mylat+", "+mylon;
					str +=" ( coordinates represent "+mycoord_prec+")</td><td>&nbsp;<a href=\"javascript: TabbedPanels1.showPanel(5);\">edit</a>&nbsp;</td></tr>";
				} else {
					if ( ! labels[i]==""){
            		str += "<tr><td><b>" + labels[i] + "</b></td>";
					  if (labels[i]=="Color Marker Info"){
						  if (elem[i].value=="Y"){
						  //str += "<td class=\"outinfo\">" + elem[i].value+"<br><div id=\"Marker_Info_Div\"></div><td><tr>";
						  str += "<td class=\"outinfo\">&nbsp;<div id=\"Marker_Info_Div\"></div></td><td>&nbsp;<a href=\"javascript: showMarkerTab();TabbedPanels1.showPanel(4);\">edit</a>&nbsp;</td></tr>";
						  } else {
							str += "<td class=\"outinfo\">No marker reported</td><td>&nbsp;<a href=\"javascript: showMarkerTab(); TabbedPanels1.showPanel(4);\">edit</a>&nbsp;</td></tr>";  
						  }
					  } else {
						  if(labels[i]=="Comments (optional)"){
							str += "<td colspan=\"2\" class=\"outinfo\"><textarea name=\"p_remarks\" id=\"p_remarks1\" class=\"form-control form-control-sm\" rows=\"4\" maxlength=\"250\" onchange=\"SinchComment(0);\">"+elem[i].value+"</textarea></td></tr>";  
						  } else {
							  if (elem[i].value==eval( elem[i].name.replace('p_','my')))
							  {
								str += "<td class=\"outinfo\">&nbsp;" + elem[i].value+"</td><td>&nbsp;<a href=\"javascript: TabbedPanels1.showPanel("+labels2go[i]+");\">edit</a>&nbsp;</td></tr>";  
							  } else {
							    str += "<td class=\"outinfo\">&nbsp;" + eval( elem[i].name.replace('p_','my'))+"</td><td>&nbsp;<a href=\"javascript: TabbedPanels1.showPanel("+labels2go[i]+");\">edit</a>&nbsp;</td></tr>";
							  }
						  }
					  }
					}
				}
			}
        } 
		 str += "</table>";//<div class="table-responsive"></div>
        document.getElementById('conf_div').innerHTML = str;
		addHiddenFormDiv();
		if (document.hidden_form.p_marker.value=="Y"){
		ShowMarkerInfo("w");
		}
		
		document.getElementById("submit_btn").disabled=false;
		document.getElementById("submit_btn1").disabled=false;
		
		if (document.getElementById("errm_div").innerHTML=="" && document.getElementById("p_band").value.length==9){
			document.getElementById("errm_div2").style.display="none";
		} else {
			document.getElementById("errm_div2").style.display="block";
			
		}

}

function emailCheck (emailStr) {

/* The following variable tells the rest of the function whether or not
to verify that the address ends in a two-letter country or well-known
TLD.  1 means check it, 0 means don't. */

/*alert("entered emailcheck function");*/

var checkTLD=1;

/* The following is the list of known TLDs that an e-mail address must end with. */

/* var knownDomsPat=/^(com|net|org|edu|int|mil|gov|arpa|biz|aero|name|coop|info|pro|museum)$/;
*/
 var knownDomsPat=/^(com|net|org|edu|int|mil|gov|arpa|biz|aero|name|coop|info|pro|museum|COM|NET|ORG|EDU|INT|MIL|GOV|ARPA|BIZ|AERO|NAME|COOP|INFO|PRO|MUSEUM)$/;
/* The following pattern is used to check if the entered e-mail address
fits the user@domain format.  It also is used to separate the username
from the domain. */

var emailPat=/^(.+)@(.+)$/;

/* The following string represents the pattern for matching all special
characters.  We don't want to allow special characters in the address. 
These characters include ( ) < > @ , ; : \ " . [ ] */

var specialChars="\\(\\)><@,;:\\\\\\\"\\.\\[\\]";

/* The following string represents the range of characters allowed in a 
username or domainname.  It really states which chars aren't allowed.*/

var validChars="\[^\\s" + specialChars + "\]";

/* The following pattern applies if the "user" is a quoted string (in
which case, there are no rules about which characters are allowed
and which aren't; anything goes).  E.g. "jiminy cricket"@disney.com
is a legal e-mail address. */

var quotedUser="(\"[^\"]*\")";

/* The following pattern applies for domains that are IP addresses,
rather than symbolic names.  E.g. joe@[123.124.233.4] is a legal
e-mail address. NOTE: The square brackets are required. */

var ipDomainPat=/^\[(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})\]$/;

/* The following string represents an atom (basically a series of non-special characters.) */

var atom=validChars + '+';

/* The following string represents one word in the typical username.
For example, in john.doe@somewhere.com, john and doe are words.
Basically, a word is either an atom or quoted string. */

var word="(" + atom + "|" + quotedUser + ")";

// The following pattern describes the structure of the user

var userPat=new RegExp("^" + word + "(\\." + word + ")*$");

/* The following pattern describes the structure of a normal symbolic
domain, as opposed to ipDomainPat, shown above. */

var domainPat=new RegExp("^" + atom + "(\\." + atom +")*$");

/*var blank=" "; */

/* Finally, let's start trying to figure out if the supplied address is valid. */

/* Begin with the coarse pattern to simply break up user@domain into
different pieces that are easy to analyze. */

var matchArray=emailStr.match(emailPat);

if (emailStr.length==0) {return true;} 

else if (matchArray==null) {

 

  /*if (matchArray != blank) { */

/* Too many/few @'s or something; basically, this address doesn't
even fit the general mould of a valid e-mail address. */

alert("Email address appears to be incorrect (check @ and .'s)");
return false;
} 

var user=matchArray[1];
var domain=matchArray[2];

// Start by checking that only basic ASCII characters are in the strings (0-127).

for (i=0; i<user.length; i++) {
if (user.charCodeAt(i)>127) {
alert("The username contains invalid characters.");
return false;
   }
}
for (i=0; i<domain.length; i++) {
if (domain.charCodeAt(i)>127) {
alert("The domain name contains invalid characters.");
return false;
   }
}

// See if "user" is valid 

if (user.match(userPat)==null) {

// user is not valid

alert("The username doesn't seem to be valid.");
return false;
}

/* if the e-mail address is at an IP address (as opposed to a symbolic
host name) make sure the IP address is valid. */

var IPArray=domain.match(ipDomainPat);
if (IPArray!=null) {

// this is an IP address

for (var i=1;i<=4;i++) {
if (IPArray[i]>255) {
alert("Destination IP address is invalid!");
return false;
   }
}
return true;
}

// Domain is symbolic name.  Check if it's valid.
 
var atomPat=new RegExp("^" + atom + "$");
var domArr=domain.split(".");
var len=domArr.length;
for (i=0;i<len;i++) {
if (domArr[i].search(atomPat)==-1) {
alert("The domain name of your email address does not seem to be valid.");
return false;
   }
}

/* domain name seems valid, but now make sure that it ends in a
known top-level domain (like com, edu, gov) or a two-letter word,
representing country (uk, nl), and that there's a hostname preceding 
the domain or country. */

if (checkTLD && domArr[domArr.length-1].length!=2 && 
domArr[domArr.length-1].search(knownDomsPat)==-1) {
alert("The email address must end in a well-known domain or two letter " + "country.");
return false;
}

// Make sure there's a host name preceding the domain.

if (len<2) {
alert("This email address is missing a hostname!");
return false;
}

// If we've gotten this far, everything's valid!
return true;
}

//  End -->

function isDateAfterToday(){
	
	//alert(my_dt_choice);
	   var dt2test='';
		switch(my_dt_choice){
			case 1:
			 dt2test=enc_mm+'/'+'12'+'/'+enc_yyyy
			 break;
			case 2:
			 dt2test='09'+'/'+'12'+'/'+enc_yyyy
			 break;
			case 3:
			 dt2test='09'+'/'+'12'+'/'+enc_yyyy
			 break;
			case 4:
			 return 0;
			 break;
			case 5:
			 return 0;
			 break;
			default:
			 dt2test=document.enc_rec.p_date.value;
			 if ( myenc_date.indexOf("-")>2 ){	
			 var yf = dt2test.split("-")[0];
             var mf = dt2test.split("-")[1];
  			 var df = dt2test.split("-")[2];
			 dt2test=mf+"/"+df+"/"+yf ;
			 }
		
		}
		
		if (dt2test>'' && compareDate( "09/12/2020", dt2test )>0) return 1;
		
	return 0;
}


Array.prototype.contains = function(obj) {
	var i = this.length;     
		while (i--) {         
			if (this[i] == obj) {             
				return true;         
			}     
		}     
		return false; 
} 


function Formverification(){
	var errmsg=""; 
	var tab2go=0;
	//alert("in Formverification");
    //setWhoReported();
	if (document.hidden_form.p_who.value==""){
		errmsg+="\nMissing Who Reported";
		tab2go=(tab2go==0)?1:tab2go;
		document.getElementById("lbl6").className="invalidInput";
	} else {
		document.getElementById("lbl6").className="validInput";
	    if(document.hidden_form.p_who.value=="23" && document.enc_rec.p_permit.value.trim()!="" && ! /\d{5}/.test(document.enc_rec.p_permit.value)){
		errmsg+='\nInvalid Permit Number. It must be 5 digits.';
		tab2go=(tab2go==0)?1:tab2go;
		 document.getElementById("permit_dv").className="invalidInput";
	    } else {
		 document.getElementById("permit_dv").className="validInput";	
		}
	
	}
	
	
	//alert( document.hidden_form.p_band.value.replace(/[^\d]/g ,"") );
	
	if (document.hidden_form.p_band.value.length!=9 && ! document.getElementById("page_choice3").checked ){
		errmsg+="\nInvalid or missing Federal Band Number";
		document.getElementById("lbl1").className="invalidInput";
	} else {
		document.getElementById("lbl1").className="validInput";
	}
	
	if (document.hidden_form.p_second_band.value.length!=9 && document.getElementById("was_sec_bnd_chk").checked ){
		errmsg+="\nInvalid or missing Second Federal Band Number";
		document.getElementById("lblsb").className="invalidInput";
	} else {
		document.getElementById("lblsb").className="validInput";
	}
	
	if (document.hidden_form.p_second_band.value.length>0 && document.hidden_form.p_second_band.value==document.hidden_form.p_band.value){
      	errmsg+="\nFirst and second federal band numbers cannot be the same";
		document.getElementById("lblsb").className="invalidInput";
	}
		
		
	if (document.hidden_form.p_species.value==""){
		if ( ! document.getElementById("sp_knownN").checked && ! document.getElementById("sp_knownY").checked ){
			errmsg+="\nMissing Species or Species Type";
		   document.getElementById("lbl_spn").className="invalidInput";
		   document.getElementById("lbl3a").className="invalidInput";
		   document.getElementById("lbl3b").className="invalidInput";
		} else {
		   if (document.getElementById("sp_knownY").checked){
		 	 	errmsg+="\nMissing Species";
		  		document.getElementById("lbl3b").className="invalidInput";
		   } else {
			   errmsg+="\nMissing Species Type";
		  	   document.getElementById("lbl3a").className="invalidInput";
		   }
		}
	} else {
		//document.getElementById("lbl3").className="validInput";
		document.getElementById("lbl_spn").className="validInput";
		document.getElementById("lbl3a").className="validInput";
		document.getElementById("lbl3b").className="validInput";
	}
	
	if (document.hidden_form.p_rwrd.value.length>0 && (document.hidden_form.p_rwrd.value.length<5 || document.hidden_form.p_rwrd.value.length>6)){
		errmsg+="\nInvalid Reward Band Number";
		document.getElementById("lbl2").className="invalidInput";
	} else {
		document.getElementById("lbl2").className="validInput";
	}
	
	if (document.hidden_form.p_how.value==""){
		errmsg+="\nInvalid or missing How Obtained"; 
		document.getElementById("lbl5").className="invalidInput";
	} else {
		if ( ["53","99","89","66"].contains(document.hidden_form.p_how.value) && document.hidden_form.p_who.value!="23" ){
			errmsg+="\nHow Obtained selected should only be used by banders";
			document.getElementById("lbl5").className="invalidInput";
		} else {
			document.getElementById("lbl5").className="validInput";
			
		}
	}
	
	if (document.hidden_form.p_how.value=="OT" && document.hidden_form.p_remarks.value==""){
		errmsg+="\nExplain how obtained in comments"; 
		document.getElementById("lbl23z").className="invalidInput";
	} else {
		document.getElementById("lbl23z").className="validInput";
	}
	if (document.hidden_form.p_pc.value==""){
		if ( document.enc_rec.p_bandcond.value=="X"){
		  document.getElementById("lbl7_1").className="invalidInput";
		  errmsg+="\nMissing Condition of the Band"; 
		} else {
		  document.getElementById("lbl7_1").className="validInput";	
		}
		if ( document.enc_rec.p_birdcond.value=="X"){
		  document.getElementById("lbl7_2").className="invalidInput";
		  errmsg+="\nMissing Condition of the Bird"; 
		} else {
		  document.getElementById("lbl7_2").className="validInput";	
		}
		//errmsg+="\nInvalid or missing Condition of the Band/Bird"; 
	} else {
	    if (["00","10", "01", "30", "17", "50", "51"].contains(document.hidden_form.p_how.value) && mypc.indexOf(' dead')<0 ){
			document.getElementById("lbl7_2").className="invalidInput";
			errmsg+="\nHow Obtained does not match the Bird Condition";
		} else {
			document.getElementById("lbl7_2").className="validInput";
		}
		if ((["66","53"].contains(document.hidden_form.p_how.value) && document.hidden_form.p_pc.value!="07" && document.hidden_form.p_pc.value!="08") ||   ( document.hidden_form.p_how.value=="70" && document.hidden_form.p_pc.value!="02" && document.hidden_form.p_pc.value!="05") || (document.hidden_form.p_how.value=="98" && document.hidden_form.p_pc.value!="02" && document.hidden_form.p_pc.value!="05" && document.hidden_form.p_pc.value!="00")){
			document.getElementById("lbl7_2").className="invalidInput";
			errmsg+="\nHow Obtained does not match the Bird/Band Condition";
		} else {
			document.getElementById("lbl7_2").className="validInput";
		}
		document.getElementById("lbl7_1").className="validInput";
	}
	if (document.hidden_form.p_enc_date.value.length!=8){
		errmsg+="\nInvalid or missing Encounter Date";
		document.getElementById("lbl8").className="invalidInput";
	} else {
		if (document.hidden_form.p_enc_date.value=="99999999" && ! document.getElementById('dt_option5').checked ){
			document.getElementById("lbl8").className="invalidInput";
			errmsg+="\nInvalid or missing Encounter Date"; 
	    } else {
			if (isDateAfterToday()){
																							   
				errmsg+="\nEncounter Date is greater than today's date.";
				document.getElementById("lbl8").className="invalidInput";
			} else {
				if (document.hidden_form.p_enc_date.value.substr(4,4)<"1914"){
					errmsg+="\nEncounter Year prior to 1914 cannot be accepted.";
				    document.getElementById("lbl8").className="invalidInput";
				} else {
				document.getElementById("lbl8").className="validInput";
				}
			}
			
		}
	}
	
	
	if (document.hidden_form.p_how.value=="53" && document.hidden_form.p_remarks.value.length==0){
		document.getElementById("lbl23").className="invalidInput";
		errmsg+="\nHow Obtained shows the status of the bird was changed. Please explain how in the Comments field";
	} else {
		document.getElementById("lbl23").className="validInput";
	}
	
	if (errmsg!="" && tab2go==0)tab2go=3;
	
																															  
	
	if (document.hidden_form.p_lat.value=="" || document.hidden_form.p_lat.value<-90 || document.hidden_form.p_lat.value>90)errmsg+="\nInvalid Latitude";
	if (document.hidden_form.p_lon.value=="" || document.hidden_form.p_lon.value<-180 || document.hidden_form.p_lon.value>180)errmsg+="\nInvalid Longitude";
	if (document.hidden_form.p_enctr_country.value.length!=2){
		document.getElementById("lbl9").className="invalidInput";
		errmsg+="\nInvalid or missing Country"; 
	} else {
		document.getElementById("lbl9").className="validInput";
	}
	if (document.hidden_form.p_enctr_state.value.length!=2){
		document.getElementById("lbl10").className="invalidInput";
		errmsg+="\nInvalid or missing State"; 
	} else {
		document.getElementById("lbl10").className="validInput";
	}
	
	if (document.hidden_form.p_enctr_town.value=="" && document.hidden_form.p_loc_choice.value!="w" ){
		document.getElementById("lbl12").className="invalidInput";
		errmsg+="\nMissing Town"; 
	} else {
		document.getElementById("lbl12").className="validInput";
	}
	
	if (document.enc_rec.p_miles.value!="" && isNaN(Number(document.enc_rec.p_miles.value)) ){
				errmsg+="\nInvalid distance from town";  
			  }
	
	if (errmsg!="" && tab2go==0)tab2go=5;
	
	for (var i = 0; i<contact_list.length; i++){
	  if(contact_list[i].contact_first_name=="" || ! nmpat.test(contact_list[i].contact_first_name)){
		  document.getElementById("lbl_fname"+(i+1)).className="invalidInput";
		  errmsg+="\nMissing or Invalid First Name for contact #"+(i+1);
	  } else {
		  document.getElementById("lbl_fname"+(i+1)).className="validInput"; 
	  }
	  
	  if(contact_list[i].contact_last_name=="" || ! nmpat.test(contact_list[i].contact_last_name)){
		  document.getElementById("lbl_lname"+(i+1)).className="invalidInput";
		  errmsg+="\nMissing or Invalid Last Name for contact #"+(i+1); 
	  } else {
		 document.getElementById("lbl_lname"+(i+1)).className="validInput"; 
	  }
	  if(! emailCheck(contact_list[i].contact_email)){
		  errmsg+="\nInvalid or missing email for contact #"+(i+1);
		  document.getElementById("lbl_email"+(i+1)).className="invalidInput";
		  TabbedPanels1.showPanel(6);
		  document.getElementById("submit_btn").disabled=false;
		  document.getElementById("submit_btn1").disabled=false;
		  return false;
	  } else {
		 document.getElementById("lbl_email"+(i+1)).className="validInput"; 
	  }
	  document.getElementById("lbl20").className="validInput";
	  if(contact_list[i].contact_email=="" && contact_list[i].contact_phone=="" && (contact_list[i].contact_1street=="" || contact_list[i].contact_zip=="") ){
		  document.getElementById("lbl_cont"+(i+1)).className="invalidInput";
		  errmsg+="\nInvalid contact #"+(i+1)+".Please provide at least email, phone or address.";
	     } else {
		  document.getElementById("lbl_cont"+(i+1)).className="validInput";
		    if ( contact_list[i].contact_email=="" && document.hidden_form.p_cofa.value=="E" ){
				document.getElementById("lbl20").className="invalidInput";
			    errmsg+="\nUnknown email for contact #"+(i+1);
			  } 
		 }
	}
	
	if (errmsg!="" && tab2go==0)tab2go=6;
	
	if(document.getElementById("page_choice2").checked || document.getElementById("page_choice3").checked ){
		  if (!CheckMarker()){
			  errmsg+="\nInvalid or missing auxiliary marker";
			  document.getElementById("submit_btn").disabled=false;
			  document.getElementById("submit_btn1").disabled=false;
			  if (tab2go==0 || tab2go>4 )tab2go=4;
			   
			  //return false;
		  }
	}
	
	
	if (errmsg==""){
		
		 if (document.hidden_form.p_remarks.value.length>250){
			 if ( confirm("Comments are too long. Length is limited to 250 characters!\nActual length is "+document.hidden_form.p_remarks.value.length + "\nAre you \"OK\" to truncate comments?\nClick Cancel to shorten comments yourself.") ){
				document.hidden_form.p_remarks.value= document.hidden_form.p_remarks.value.substr(0,250);
			 } else {
				document.getElementById("submit_btn").disabled=false;
			    document.getElementById("submit_btn1").disabled=false;
			    return false;
			 }
			 
		 }
		document.hidden_form.submit();
	} else {
		alert("Please fix the following errors before submission:" +errmsg);
		document.getElementById("submit_btn").disabled=false;
		document.getElementById("submit_btn1").disabled=false;
		TabbedPanels1.showPanel(tab2go);
	}
}


function showMarkerTab(){

	if (document.getElementById("page_choice1").checked){
		document.getElementById("marker_tab").style.display="none";
		document.getElementById("nomarker_tab").style.display="block";
		mymarker=""
		document.hidden_form.p_marker.value="";
		document.getElementById("marker_comment_td").style.display="none";
		
	} else {
		document.getElementById("marker_tab").style.display="block";
		document.getElementById("nomarker_tab").style.display="none";
		mymarker="Y"
		document.hidden_form.p_marker.value="Y";
		document.getElementById("marker_comment_td").style.display="block";
	}
	
}

function showBandTab(){

	if (document.getElementById("page_choice3").checked){
		document.getElementById("band_div").style.display="none";
		document.getElementById("noband_div").style.display="block";
		//document.getElementById("rwrd_lbl_td").style.display="none";
		//document.getElementById("rwrd_td").style.display="none";
		document.getElementById("wornband_div").style.display="none";
		myband="Unknown";
		myrwrd="";
		mysecond_band="";
		document.enc_rec.p_prefix.value="";
		document.enc_rec.p_suffix.value="";
		document.enc_rec.p_reward.value="";
		document.hidden_form.p_band.value="";
		DupError="";
		document.getElementById("errm_div").innerHTML="";
		DupChkd=0;
		document.hidden_form.p_rwrd.value="";
	} else {
		document.getElementById("band_div").style.display="block";
		document.getElementById("noband_div").style.display="none";
		//document.getElementById("rwrd_lbl_td").style.display="block";
		//document.getElementById("rwrd_td").style.display="block";
		document.getElementById("wornband_div").style.display="block";
	}
	
}

function checkHummBd(){
	//alert(document.enc_rec.p_species.value)
	if( (document.enc_rec.aou_type.value.toUpperCase()=="HUMMINGBIRD" || document.enc_rec.p_species.value.toUpperCase().indexOf("HUMMINGBIRD")>=0 ) && ! document.getElementById("page_choice3").checked  ){
	   document.getElementById("humm_bd_div").style.display="block";
	} else {
	   document.getElementById("humm_bd_div").style.display="none";
	}
}


var orig_url=document.location.href;
orig_url=(orig_url.indexOf("#")<0)?orig_url:orig_url.substring(0, (orig_url.indexOf("#")-1));
var prev_tab=0;
window.onpopstate = function(event) {   
   //alert("location: " + document.location + ", state: " + JSON.stringify(event.state) );
   var cur_tb=TabbedPanels1.getCurrentTabIndex();
   TabbedPanels1.showPanel(prev_tab);

   var stateObj = { foo: prev_tab };
   //history.pushState(stateObj, "page "+prev_tab, orig_url); //orig_url+"?tab="+prev_tab
   History.pushState(stateObj, "Banded Bird Encounter Report "+prev_tab, orig_url);
   prev_tab=cur_tb;
   
 };

var DupChkd=0;
var isDup=0;
var DupError="";
var targetTab;
var prevParam1="";
var prevParam2="";
var prevParam3="";
var prevParam4="";
var prevParam5="";
var repl_asked=0;

function askReplaced(){
	setPC();
	setHowObt();
	//alert(document.hidden_form.p_who.value+" "+document.hidden_form.p_pc.value)
	if ( ["22","23"].contains(document.hidden_form.p_who.value) && ["08","14"].contains(document.hidden_form.p_pc.value) && repl_asked==0 ){
		alert("If the band was replaced, please report this in Bandit, not here,\nby including the replaced band in the data for the new band.\nIf the band was not replaced please proceed");
		repl_asked=1;
	}
}

function goAwayTab(tb){
	target_tab=tb;
	var cur_tb=TabbedPanels1.getCurrentTabIndex();
	var errmsg="";
	errm="";
	var fld2focus="";
	var fld2scroll="atopleft";//"tbp1";
	//alert(cur_tb);
	
	switch(tb){
		case 7:
		  showEncounter();
		  fld2focus="tbp7";
		  break;
		case 3:
		  showBandTab();
		  break;
		case 4:
		  showMarkerTab();
		  break;
		default:
		  null;
	}
	 
   	if (tb>cur_tb){
	   switch(cur_tb)
		{
		case 1://Who
		  setWhoReported();
		  if (document.hidden_form.p_who.value=="")errmsg+="\nMissing Who Reported.\nPlease select option(s) that applies to you first.";
		  if(document.hidden_form.p_who.value=="23" && document.enc_rec.p_permit.value.trim()!="" && ! /\d{5}/.test(document.enc_rec.p_permit.value)){
		     errmsg+='\nInvalid Permit Number. It must be 5 digits.';
		  }
		  fld2focus="fw_btn1_2";
		  break;
		case 2://What
		  if (!document.getElementById("page_choice3").checked ){
			   fld2focus="p_prefix";
		  } else {
			   fld2focus="sp_knownY";
		  }
		  break;
		case 3://About Band, Bird, and Date
		    document.getElementById( "fw_btn2").disabled=true;
			document.hidden_form.p_band.value=document.enc_rec.p_prefix.value.replace(/[^\d]/g ,"")+document.enc_rec.p_suffix.value.replace(/[^\d]/g ,"");
			
				if(document.getElementById( "was_sec_bnd_chk").checked){
				document.hidden_form.p_second_band.value=document.enc_rec.p_prefix2.value.replace(/[^\d]/g ,"")+document.enc_rec.p_suffix2.value.replace(/[^\d]/g ,"");
			    } else {
				document.hidden_form.p_second_band.value="";	
				}
			setSpecies();
			setPC();
			setHowObt();
			setEncDate();
			
			if (document.hidden_form.p_band.value.length!=9 && ! document.getElementById("page_choice3").checked )errmsg+="\nInvalid or missing Federal Band Number";
			if (document.hidden_form.p_second_band.value.length!=9 && document.getElementById("was_sec_bnd_chk").checked )errmsg+="\nInvalid or missing Second Federal Band Number";
			if (document.hidden_form.p_second_band.value.length>0 && document.hidden_form.p_second_band.value==document.hidden_form.p_band.value){
      	errmsg+="\nFirst and second federal band numbers cannot be the same";
	}
			if (document.hidden_form.p_rwrd.value.length<5 && document.getElementById("was_rwrd_bnd_chk").checked )errmsg+="\nInvalid or missing Reward Band Number";
				
			if (document.hidden_form.p_species.value=="")errmsg+="\nMissing Species"; 
			if (document.hidden_form.p_rwrd.value.length>0 && (document.hidden_form.p_rwrd.value.length<5 || document.hidden_form.p_rwrd.value.length>6))errmsg+="\nInvalid Reward Band Number";
			if (document.hidden_form.p_how.value==""){
				errmsg+="\nMissing How Obtained"; 
			} else {
				if ( ["53","99","66"].contains(document.hidden_form.p_how.value) && document.hidden_form.p_who.value!="23" )errmsg+="\nHow Obtained selected is to be used by bander only.";
			}
			if (document.hidden_form.p_how.value=="OT" && document.hidden_form.p_remarks.value=="")errmsg+="\nExplain how obtained in comments"; 
			
			if (document.hidden_form.p_pc.value==""){
				//errmsg+="\nInvalid or missing Condition of the Band/Bird"; 
				if ( document.enc_rec.p_bandcond.value=="X"){
				  //document.getElementById("lbl7_1").className="invalidInput";
				  errmsg+="\nMissing Condition of the Band"; 
				}/* else {
				  document.getElementById("lbl7_1").className="validInput";	
				}*/
				if ( document.enc_rec.p_birdcond.value=="X"){
				  //document.getElementById("lbl7_2").className="invalidInput";
				  errmsg+="\nMissing Condition of the Bird"; 
				}/* else {
				  document.getElementById("lbl7_2").className="validInput";	
				}*/
			} else {
				if (["00","10", "01", "30", "17", "50", "51"].contains(document.hidden_form.p_how.value) && mypc.indexOf(' dead')<0 )errmsg+="\nHow Obtained does not match the Bird Condition";
				if ((["66","53"].contains(document.hidden_form.p_how.value) && document.hidden_form.p_pc.value!="07" && document.hidden_form.p_pc.value!="08") ||   ( document.hidden_form.p_how.value=="70" && document.hidden_form.p_pc.value!="02" && document.hidden_form.p_pc.value!="05") || (document.hidden_form.p_how.value=="98" && document.hidden_form.p_pc.value!="02" && document.hidden_form.p_pc.value!="05" && document.hidden_form.p_pc.value!="00"))errmsg+="\nHow Obtained does not match the Bird/Band Condition";
			}
			if (document.hidden_form.p_enc_date.value.length!=8)errmsg+="\nInvalid or missing Encounter Date"; 
			if (document.hidden_form.p_enc_date.value=="99999999" && ! document.getElementById('dt_option5').checked )errmsg+="\nInvalid or missing Encounter Date"; 
			if (document.hidden_form.p_how.value=="53" && document.hidden_form.p_remarks.value.length==0)errmsg+="\nHow Obtained shows the status of the bird was changed. Please explain how in the Comments field"; 
			if (isDateAfterToday())errmsg+="\nEncounter Date is greater than today's date.";
			
		    
				if (document.hidden_form.p_enc_date.value.length==8 && document.hidden_form.p_enc_date.value.substr(4,4)<"1914"){
					errmsg+="\nEncounter Year prior to 1914 cannot be accepted.";
				 }
			
		  if (document.getElementById("page_choice1").checked ){
			   fld2focus="p_enc_cntry";
		  } else {
			   fld2focus="was_neck";
		  }
		  break;
		case 4://Marker
		  if(document.getElementById("page_choice2").checked || document.getElementById("page_choice3").checked ){
			  if (!CheckMarker()){
				  errmsg+="\nInvalid or missing auxiliary marker";
				  //document.getElementById("submit_btn").disabled=false;
				  fld2focus="was_neck";
				  return false;
			  }
			}
			
		  fld2focus="p_enc_cntry";
		  break;
		case 5://Encounter Location
		  getLocChoice();
		  if(tobemapped){ 
			  if(errm==""){
				   if (document.hidden_form.p_loc_choice.value=="" || document.hidden_form.p_loc_choice.value=="c"){
					 errmsg+='Please describe your encounter location by completing one of the options.';  
				   } else {
					   if (document.hidden_form.p_loc_choice.value=="m"){
						errmsg+="Please drag and drop the red marker on the map to where the encounter took place.";   
					   } else {
						//errmsg+="Please map your location first by clicking \"Map It\" button.";
						 //Freeze();
						 var ggc
						 
						 var mychoice=document.hidden_form.p_loc_choice.value;
						 //alert(mychoice)
						 switch(mychoice)
							{
							case "w":
							  ggc=5;
							  if (document.enc_rec.p_loc_desc_wma.value==""){
								 alert("Please provide Wildlife Refuge/Management Area first.");
								 //unFreeze();
								 return false;
							  }
							  //GetGeonamesRecs(ggc);
						      //if( errm!="") return false;
							  break;
							case "a":
							  ggc=2;
							  if (document.enc_rec.p_loc_desc_a.value==""){
								 alert("Please provide address first.");
								 return false;
							  }
							  break;
							case "d":
							  ggc=3;
							  break;
							case "c":
							  alert("Please describe your encounter location by completing one of the options.");
							  return false;  
							  break;
							default: //case "c1": case "c2": case "c3":
							  if (mylat=="" || mylon==""){
								alert("Please provide coordinates first.");
								return false;  
							  }
							  ggc=1;
																										
							  errmsg+="Please map your location first by clicking \"Map It\" button.";
							  alert(errmsg);
								 unFreeze();
								 return false;
							}

					   }
				   }
			  } else {
				errmsg+=errm+"\nFix error(s), then map your location by clicking \"Map It\" button.";  
			  }
		  }
		  fld2focus="p_first_name";
		  break;
		case 6://Contact Info
		  if (document.getElementById('cofaY').checked){
				document.hidden_form.p_cofa.value="E";
				mycofa="Yes"
			} else {
				document.hidden_form.p_cofa.value="N";
				mycofa="No"
			}
		
			getAllContacts();
		  for (var i = 0; i<contact_list.length; i++){
			  if(contact_list[i].contact_first_name=="" || ! nmpat.test(contact_list[i].contact_first_name))errmsg+="\nMissing or Invalid First Name for contact #"+(i+1); 
			  if(contact_list[i].contact_last_name=="" || ! nmpat.test(contact_list[i].contact_last_name))errmsg+="\nMissing or Invalid Last Name for contact #"+(i+1); 
			  if(! emailCheck(contact_list[i].contact_email)){
				  errmsg+="\nInvalid or missing email for contact #"+(i+1);
				  TabbedPanels1.showPanel(6);
				  //document.getElementById("submit_btn").disabled=false;
				  return false;
			  }
			  
			  if(contact_list[i].contact_email=="" && contact_list[i].contact_phone=="" && (contact_list[i].contact_1street=="" || contact_list[i].contact_zip=="") ){
				  errmsg+="\nInvalid contact #"+(i+1)+".Please provide at least email, phone or address.";
				 } else {
					if ( contact_list[i].contact_email=="" && document.hidden_form.p_cofa.value=="E" ){
					  errmsg+="\nUnknown email for contact #"+(i+1);
					  }
				 }
			}
		  break;
		//default:// Intoduction or Verification, just move to the selected page
		  
		}
   	} else {
	      prev_tab=cur_tb;
		  var stateObj = { foo: cur_tb };
		  //history.pushState(stateObj, "page "+cur_tb, orig_url); 
		  History.pushState(stateObj, "Banded Bird Encounter Report "+cur_tb, orig_url);
		  TabbedPanels1.showPanel(tb);
		  document.getElementById(fld2scroll).scrollIntoView();
		  if ( ! fld2focus=="" ){
			   //alert(fld2focus);
			    document.getElementById(fld2focus).focus();
			  } 
		  return true;
	}
	
	if (errmsg==""){
		if (cur_tb==3 && tb>cur_tb && ! document.hidden_form.p_band.value==""){
	     showEncounter();
		 var p1=document.hidden_form.p_band.value;
		 var p2=document.hidden_form.p_enc_date.value;
		 //var p3=encodeURIComponent(document.hidden_form.p_species.value);
		 var p3=document.hidden_form.p_species.value;
		 var p4=document.hidden_form.p_how.value;
		 var p5=document.hidden_form.p_pc.value;
		 var p6=document.hidden_form.p_second_band.value;
		 //alert(prevParam1+prevParam2+prevParam3+prevParam4+prevParam5);
		 //alert(p1+p2+p3+p4+p5);
			if ( prevParam1 != p1 ){ prevParam1=p1; DupChkd=0; }
			if ( prevParam2 != p2 ){ prevParam2=p2; DupChkd=0; }
			if ( prevParam3 != p3 ){ prevParam3=p3; DupChkd=0; }
			if ( prevParam4 != p4 ){ prevParam4=p4; DupChkd=0; }
			if ( prevParam5 != p5 ){ prevParam5=p5; DupChkd=0; }
		//alert(prevParam1+prevParam2+prevParam3+prevParam4+prevParam5);
		if ( DupChkd==0 ){
		  DupError="";
		  document.getElementById("errm_div").innerHTML="";
		  
		  DWREngine._execute( _cfscriptGeon_func,null,"vldtEncounter_plus", p1, p2, p3, p4, p5, "E", p6, function postvalidateEnc(p_result){
		  //alert(p1+p2+p3+p4+p5);

		  document.getElementById( "fw_btn2").disabled=false;
		  DupChkd=1;
		  //alert(p_result[2]);
		  if (p_result[0].length==0){
			  isDup=0;
			  
			  if (p_result[1].length==0){
				  DupError="";
				 document.getElementById("errm_div").innerHTML=((p_result[2]=="")?"":"Warning! Potential problems were detected with this report:<br />"+p_result[2]+"<br />Please be advised we will be able to provide banding data only after it is reported to us by bander.");
			  	TabbedPanels1.showPanel(tb);
			  	prev_tab=cur_tb;
			  	var stateObj = { foo: cur_tb };
			  	//history.pushState(stateObj, "page "+cur_tb, orig_url);
			  	History.pushState(stateObj, "Banded Bird Encounter Report "+cur_tb, orig_url);
				
			  } else {
				 alert("Potential problems were detected with this report:\n"+p_result[1].replace(/<br \/>/g,"\n") +'\nPlease recheck your data, correct it if needed,\nand include any important remarks in the comments field.\n IF NO CHANGES ARE NEEDED PRESS CONTINUE.');
				 document.getElementById("errm_div").innerHTML="Warning! Potential problems were detected with this report:<br />"+p_result[1] + ((p_result[2]=="")?"":"<br />"+p_result[2])+"<br />Please recheck your data, correct it if needed, include any important remarks in the comments field above. IF NO CHANGES ARE NEEDED SUBMIT YOUR REPORT.";
			  }
			  if ( ! fld2focus=="" ){
				document.getElementById(fld2scroll).scrollIntoView();
			    document.getElementById(fld2focus).focus();
			  } 
			  return true;
		  } else {
			isDup=1;
			DupError=p_result[0]+((p_result[1]=="")?"":"<br />"+p_result[1]) + ((p_result[2]=="")?"":"<br />"+p_result[2]);
			document.getElementById("errm_div").innerHTML="Warning! Potential problems were detected with this report:<br />"+DupError+"<br />Please recheck your data, correct it if needed, include any important remarks in the comments field above. If no changes are needed submit your report.";
			if ( confirm("Potential problems were detected with this report:\n"+p_result[0]+"\nAre you sure you want to continue entering this band report?\nClick OK if yes.")){
			  TabbedPanels1.showPanel(tb);
			  prev_tab=cur_tb;
			  var stateObj = { foo: cur_tb };
			  //history.pushState(stateObj, "page "+cur_tb, orig_url);
			  History.pushState(stateObj, "Banded Bird Encounter Report "+cur_tb, orig_url);
			  if ( ! fld2focus=="" ){
				document.getElementById(fld2scroll).scrollIntoView();
			    document.getElementById(fld2focus).focus();
			  } 
			  return true;
			} else {
			 // document.location="WEP_new_dup_rep.cfm?p_band="+p1+"&p_enc_date="+p2+"&p_species="+p3+"&p_how="+p4+"&p_pc="+p5 ;
			  document.hidden_form.action="WEP_dup_rep_mob.cfm";
			  document.hidden_form.submit();
			  return false;
			   
			}
		  }
		});
		} else {
		   
		   document.getElementById( "fw_btn2").disabled=false;
		  TabbedPanels1.showPanel(tb);
		  if (tb==5 && document.getElementById('mapCanvas').style.display == 'block'){
			  google.maps.event.trigger(map, 'resize');
			  map.setCenter(latLng);
		      }
			  
		   prev_tab=cur_tb;
		  var stateObj = { foo: cur_tb };
		  //history.pushState(stateObj, "page "+cur_tb, orig_url); 
		  History.pushState(stateObj, "Banded Bird Encounter Report "+cur_tb, orig_url);
		  if ( ! fld2focus=="" ){
			    document.getElementById(fld2scroll).scrollIntoView();
			    document.getElementById(fld2focus).focus();
			  } 
		  return true;
		}
	  } else {
	 	if (cur_tb==5 && tobemapped ){
			Freeze();
			GetGeonamesRecs(ggc);
			
		    return true;
		  
		} else {
		  document.getElementById( "fw_btn2").disabled=false;
		  TabbedPanels1.showPanel(tb);
		  if (tb==5 && document.getElementById('mapCanvas').style.display == 'block'){
			  google.maps.event.trigger(map, 'resize');
			  map.setCenter(latLng);
		      }
			  
		   prev_tab=cur_tb;
		  var stateObj = { foo: cur_tb };
		  //history.pushState(stateObj, "page "+cur_tb, orig_url); 
		  History.pushState(stateObj, "Banded Bird Encounter Report "+cur_tb, orig_url);
		  if ( ! fld2focus=="" ){
			    document.getElementById(fld2scroll).scrollIntoView();
			    document.getElementById(fld2focus).focus();
			  } 
		  return true;
		}
		 
	  }
	  
	} else {
	  alert(errmsg);
	  	  
	  TabbedPanels1.showPanel(cur_tb);
	  if (cur_tb==5 && document.getElementById('mapCanvas').style.display == 'block'){
		  google.maps.event.trigger(map, 'resize');
		  map.setCenter(latLng);
	  }
	  document.getElementById( "fw_btn2").disabled=false;
	  return false;
	}
}

function setHow2(t){
	 var el=document.getElementById('how2_dv');
	  var how2htm="";
	document.enc_rec.p_birdcond.value="X";
    document.enc_rec.p_bandcond.value="X";
	
	 switch(t)
		{
			case "--": case "70": case "04":  case "44":  case "98": case "60": case "59":
		  el.style.display="none"
		  document.enc_rec.p_how2.value="--";
				if ( t=="98" || t=="70" ){
				 document.enc_rec.p_birdcond.value=5;
		  		 document.enc_rec.p_bandcond.value=1;
				}
		  break;
		 case "29": 
		  el.style.display="none"
		  document.enc_rec.p_how2.value="--";
		  document.enc_rec.p_birdcond.value=2;
		  document.enc_rec.p_bandcond.value=2;
		  if ( document.getElementById("page_choice1").checked ) document.getElementById("page_choice2").checked=true;
		  break;
		 case "52":
		  el.style.display="none"
		  document.enc_rec.p_how2.value="--";
		  document.enc_rec.p_birdcond.value=2;//0;
		  document.enc_rec.p_bandcond.value=2;
		  break;
		 case "01":
		      document.enc_rec.p_birdcond.value=1;
		      //document.enc_rec.p_bandcond.value=3;
		   	  how2htm+="<label for=\"p_how2\">Shot during: </label> <select name=\"p_how2\" id=\"p_how2\" title=\"How obtained details\" onchange=\"setHowObt();\">";
		      how2htm+="<option value=\"--\" selected=\"selected\">Unknown</option>";
		      how2htm+="<option value=\"01\" >Hunting</option>";
			  how2htm+="<option value=\"44\" >Control operation (using depredation permit)</option>";
			  el.innerHTML=how2htm;
		   	  el.style.display="block";
			 // el.style.display="none"
		     //document.enc_rec.p_how2.value="--";
		  break;
		 case "66":
		 	  how2htm+="<label for=\"p_how2\">Was the status of the bird changed?: </label> <select name=\"p_how2\" id=\"p_how2\" title=\"How obtained details\" onchange=\"setHowObt();\">";
		      how2htm+="<option value=\"--\" selected=\"selected\">No</option>";
		      how2htm+="<option value=\"53\" >Status changed</option>";
			  el.innerHTML=how2htm;
		   	  el.style.display="block";
			  document.enc_rec.p_birdcond.value=2;
		  break;
		 case "00":
		      how2htm+="<label for=\"p_how2\">Cause of death (if known): </label> <select name=\"p_how2\" id=\"p_how2\" title=\"How obtained details\" onchange=\"setHowObt();\">";
		     /* how2htm+="<option value=\"--\" selected=\"selected\">Please select</option>";
			  how2htm+="<option value=\"00\" >Unknown cause</option>";
			  how2htm+="<option value=\"14\" >Hit by car, truck, or other road vehicle</option>";
			  how2htm+="<option value=\"45\" >Found on a road or a highway</option>";
			  how2htm+="<option value=\"27\" >Hit by train</option>";
			  how2htm+="<option value=\"39\" >Hit by aircraft</option>";
			  how2htm+="<option value=\"23\" >Oil or tar</option>";
			  how2htm+="<option value=\"61\" >Disease</option>";
			  how2htm+="<option value=\"62\" >Poisoning</option>";
			  how2htm+="<option value=\"63\" >Struck wind turbine</option>";
			  how2htm+="<option value=\"54\" >Struck tower or wires</option>";
			  how2htm+="<option value=\"13\" >Struck a building (including windows)</option>";
			  how2htm+="<option value=\"12\" >Killed by a cat</option>";
			  how2htm+="<option value=\"64\" >Killed by a predator other than a cat</option>";
			  how2htm+="<option value=\"30\" >Died in nest</option>";
																						
																								   
																								  
																									
			  how2htm+="<option value=\"50\" >Found band on bone or skeleton only</option>";
			  how2htm+="<option value=\"10\" >Banding mortality</option>";
			  how2htm+="<option value=\"21\" >In building or enclosure</option>";
			  how2htm+="<option value=\"26\" >Entanglement in fishing gear</option>";
			  how2htm+="<option value=\"24\" >Fall from nest</option>";
			  how2htm+="<option value=\"\" >Other (please explain in comments)</option>";*/
			  how2htm+="<option value=\"00\" selected=\"selected\">Unknown cause</option>";
			  how2htm+="<option value=\"60\" >Dead on road</option>";
			  how2htm+="<option value=\"50\" >Band with skeleton or bone only</option>";
			  how2htm+="<option value=\"26\" >Entangled in fishing gear</option>";
			  how2htm+="<option value=\"13\" >Struck building or window</option>";
			  how2htm+="<option value=\"54\" >Struck wire or tower</option>";
			  how2htm+="<option value=\"63\" >Struck wind turbine</option>";
			  how2htm+="<option value=\"64\" >Caught by predator other than a cat</option>";
			  how2htm+="<option value=\"12\" >Caught by cat</option>";
			  how2htm+="<option value=\"39\" >Hit by aircraft or found dead on runway</option>";
			  how2htm+="<option value=\"61\" >Disease</option>";
			  how2htm+="<option value=\"23\" >Oil or tar</option>";
			  how2htm+="<option value=\"10\" >Banding mortality</option>";
			  //how2htm+="<option value=\"\" >Other (please explain in comments)</option>";
		   el.innerHTML=how2htm;
		   el.style.display="block";
		   document.enc_rec.p_birdcond.value=1;
		  break;
		 /*case "28": case "03":
		      how2htm+="<label for=\"p_how2\">"+ ((t=="28")?"Caught due to":"Cause of injury (if known)" )+": &nbsp;</label> <select name=\"p_how2\" id=\"p_how2\" >";
		      how2htm+="<option value=\"--\" selected=\"selected\">Please select</option>";
			  how2htm+="<option value=\""+t+"\" >Unknown cause</option>";
			  how2htm+="<option value=\"14\" >Hit by car, truck, or other road vehicle</option>";
			  how2htm+="<option value=\"27\" >Hit by train</option>";
			  how2htm+="<option value=\"39\" >Hit by aircraft</option>";
			  how2htm+="<option value=\"23\" >Oil or tar</option>";
			  how2htm+="<option value=\"61\" >Disease</option>";
			  how2htm+="<option value=\"62\" >Poisoning</option>";
			  how2htm+="<option value=\"63\" >Struck wind turbine</option>";
			  how2htm+="<option value=\"54\" >Struck tower or wires</option>";
			  how2htm+="<option value=\"13\" >Struck a building (including windows)</option>";
			  how2htm+="<option value=\"12\" >Caught by a cat</option>";
			  how2htm+="<option value=\"64\" >Caught by a predator other than a cat</option>";
			  //how2htm+="<option value=\"02\" >Starvation</option>";
			  how2htm+="<option value=\"21\" >Found in building or enclosure</option>";
			  how2htm+="<option value=\"24\" >Fall from nest</option>";
			  how2htm+="<option value=\"26\" >Entanglement in fishing gear</option>";
			  how2htm+="<option value=\"\" >Other (please explain in comments)</option>";
		   el.innerHTML=how2htm;
		   el.style.display="block";
		   break;*/
		 case "03":
		      how2htm+="<label for=\"p_how2\">Cause of injury (if known): &nbsp;</label> <select name=\"p_how2\" id=\"p_how2\" onchange=\"setHowObt();\">";
		      how2htm+="<option value=\""+t+"\" selected=\"selected\">Unknown cause</option>";
			  how2htm+="<option value=\"26\" >Entangled in fishing gear</option>";
			  how2htm+="<option value=\"13\" >Struck building or window</option>";
			  how2htm+="<option value=\"54\" >Struck wire or tower</option>";
			  how2htm+="<option value=\"60\" >Hit by car or found injured on road</option>";
			  how2htm+="<option value=\"64\" >Caught by predator other than a cat</option>";
			  how2htm+="<option value=\"12\" >Caught by cat</option>";
			  how2htm+="<option value=\"23\" >Oil or tar</option>";
			  //how2htm+="<option value=\"\" >Other (please explain in comments)</option>";
		   el.innerHTML=how2htm;
		   el.style.display="block";
		   break;
		 default:
		      /*how2htm+="<label for=\"p_how2\">Additional options: </label><select name=\"p_how2\" id=\"p_how2\"  title=\"How obtained details\">";
		      how2htm+="<option value=\"04\" >Trapped or snared (not part of banding operation)</option>";
			  how2htm+="<option value=\"16\" >Collected for a scientific project</option>";
			  how2htm+="<option value=\"33\" >Observed at nest</option>";
			  how2htm+="<option value=\"44\" >Taken using depredation permit (control operation)</option>";
			  how2htm+="<option value=\"53\" >Captured by bander, status of bird changed</option>";
			  how2htm+="<option value=\"10\" >Banding mortality</option>";
			  how2htm+="<option value=\"62\" >Poisoning</option>";
			  how2htm+="<option value=\"63\" >Struck wind turbine</option>";
			  how2htm+="<option value=\"12\" >Killed or caught by a cat</option>";
			  how2htm+="<option value=\"64\" >Killed or caught by a predator other than a cat</option>";
			  how2htm+="<option value=\"54\" >Struck tower or wires</option>";
			  how2htm+="<option value=\"13\" >Struck a building (including windows)</option>";
			  how2htm+="<option value=\"21\" >Found in building or enclosure</option>";
			  how2htm+="<option value=\"24\" >Fall from nest</option>";
			  how2htm+="<option value=\"23\" >Affected or killed by oil or tar</option>";
			  how2htm+="<option value=\"26\" >Caught, entangled in, or killed by fishing gear</option>";
			  how2htm+="<option value=\"36\" >Exhaustion</option>";
			  how2htm+="<option value=\"98\" >Found band only while metal detecting</option>";
			  how2htm+="<option value=\"--\" selected=\"selected\">Choose one (or explain in comments)</option>";
			  how2htm+="<option value=\"OT\" >Other (please explain in comments)</option>";*/
			  how2htm+="<label for=\"p_how2\">Additional options:&nbsp;</label><select name=\"p_how2\" id=\"p_how2\"  title=\"How obtained more options\" onchange=\"setHowObt();\">";
			  how2htm+="<option value=\"\" selected=\"selected\">Choose one (or explain in comments)</option>";
		      how2htm+="<option value=\"04\" >Trapped or snared (not for banding operation)</option>";
			  how2htm+="<option value=\"26\" >Entangled in fishing gear</option>";
			  how2htm+="<option value=\"13\" >Struck building or window</option>";
			  how2htm+="<option value=\"16\" >Captured or collected for scientific project (not for banding operations)</option>";
			  how2htm+="<option value=\"10\" >Banding mortality</option>";
			  how2htm+="<option value=\"61\" >Caught due to disease</option>";
			  how2htm+="<option value=\"OT\" >Other (please explain in comments)</option>";
		   el.innerHTML=how2htm;
		  el.style.display="block";
		}
	 setHowObt();
}

function trimTxt(fld){
	
	var trmd=fld.value.trim();
	
	if( fld.value!=trmd ) document.getElementById(fld.id).value=trmd ;

}

function contin2loc(){
	if(document.getElementById('p_enc_state').options.length>1 && (document.enc_rec.p_enc_state.value=="" || document.enc_rec.p_enc_state.value=="00")){
		alert("Please select the state/province of your encounter location.");
		return;
	}
	
    document.getElementById('all_loc_flds_dv').style.display='block'; 
	document.getElementById('fw_btn41').style.display='none';
	document.getElementById('bk_btn41').style.display='none'; 
	ShowMap();	
}

</script>
<style>
html, body {
    height:100%;
}
	
  #mapCanvas {
    width: 100%;
    height: 400px;
	 float:left;
	 border:thick; 
	 border-color:#30F;
  }
  
.container {
	width: 100%;
	/*max-width: 1287px; a max-width may be desirable to keep this layout from getting too wide on a large monitor. This keeps line length more readable. IE6 does not respect this declaration. */
	/*min-width: 1044px;*//* a min-width may be desirable to keep this layout from getting too narrow. This keeps line length more readable in the side columns. IE6 does not respect this declaration. */
	background:#337ab7;
	/*margin: 0 auto;  the auto value on the sides, coupled with the width, centers the layout. It is not needed if you set the .container's width to 100%. */
	
	
	background-color:#337ab7;
	background-repeat: no-repeat;
	height:120px;
	color:#FFF;
}

.invalidInput {
	/*color:#F00;*/
	background:#FFC
}
.validInput {
	/*color:;*/
	background:
}

#blanket {
background-color:#111;
opacity: 0.65;
filter:alpha(opacity=65);
position:absolute;
z-index: 9001;
top:0;
left:0;
height:100%;
width:100%;
alignment-adjust:central;
vertical-align:middle;
	
}

#popUpDiv {
position:absolute;
background-color:#eeeeee;
 
margin-left:auto;
margin-right:auto;
margin-bottom:auto;
margin-top:auto;
alignment-adjust:central;
vertical-align:middle;
width:300px;
height:auto;
text-align:center;
z-index: 9002;
 
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
	
}

#wait_para
{
background-color:#CCC;
opacity: 0.35;
filter:alpha(opacity=35);
position:absolute;
z-index: 9001;
top: 50%;
left: 50%;
/*width:100%;
height:100vh;
*/	transform: translate(-50%, -50%);
}

#p_date {
	  KeyboardType: UIKeyboardType.NumberPad;  
  }
#PopupText{
	 background: #FFFFFF;
	 color: #000000;
	 font-size: small;
	}
	
#bckgrnd {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url(/BBL/images/2000px-north_america_blanksvg2.png);
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: 100%;
    opacity: 0.1;
	z-index: -1;
	backface-visibility:hidden;
}
  
@media (max-width: 400px) {
  
  #ttl_div{
	font-size:large;
}
  #div2hide {
	display: none;  
  }
  #popUpDiv {
     background-color: #CFF;
	 margin-left:auto;
     margin-right:auto;
	 height:auto;
	 alignment-adjust:central;
	  position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);

	}
  
  #mapCanvas {
    width: 100%;
    height: 300px;
	float:left; 
	 border:thick; 
	 border-color:#30F;
  }
  
  .container h4{
	  font-size:smaller;
  }
} 
@media (min-width: 401px) {
  
#ttl_div{
	font-size:x-large;
}  

}
</style>


<script type="text/javascript">/* <![CDATA[ */
	if (window.ColdFusion) ColdFusion.required['p_prefix']=true;
/* ]]> */</script>

<script type="text/javascript">/* <![CDATA[ */
	if (window.ColdFusion) ColdFusion.required['p_suffix']=true;
/* ]]> */</script>

<script type="text/javascript">/* <![CDATA[ */
	ColdFusion.Ajax.importTag('CFINPUT-DATEFIELD');
/* ]]> */</script>

		<script type="text/javascript">/* <![CDATA[ */
			var _cf_DATEFIELD_init_139917023195810=function()
			{
				ColdFusion.Calendar.setUpCalendar("p_date", "MM/DD/YYYY", 0, ["S","M","T","W","T","F","S"], ["January","February","March","April","May","June","July","August","September","October","November","December"], 'enc_rec', null);
			};ColdFusion.Event.registerOnLoad(_cf_DATEFIELD_init_139917023195810);
		/* ]]> */</script>
		
<script type="text/javascript">/* <![CDATA[ */
	if (window.ColdFusion) ColdFusion.required['p_enc_cntry']=true;
/* ]]> */</script>

<script type="text/javascript">/* <![CDATA[ */
	if (window.ColdFusion) ColdFusion.required['p_enc_town']=true;
/* ]]> */</script>
<script type="text/javascript">
<!--
    _CF_checkenc_rec = function(_CF_this)
    {
        //reset on submit
        _CF_error_exists = false;
        _CF_error_messages = new Array();
        _CF_error_fields = new Object();
        _CF_FirstErrorField = null;

        //form element p_prefix required check
        if( _CF_hasValue(_CF_this['p_prefix'], "TEL", false ) )
        {
            //form element p_prefix 'INTEGER' validation checks
            if (!_CF_checkinteger(_CF_this['p_prefix'].value, true,true))
            {
                _CF_onError(_CF_this, "p_prefix", _CF_this['p_prefix'].value, "Prefix of band number is required");
                _CF_error_exists = true;
            }

        }else {
            _CF_onError(_CF_this, "p_prefix", _CF_this['p_prefix'].value, "Prefix of band number is required");
            _CF_error_exists = true;
        }

        //form element p_suffix required check
        if( _CF_hasValue(_CF_this['p_suffix'], "TEL", false ) )
        {
            //form element p_suffix 'INTEGER' validation checks
            if (!_CF_checkinteger(_CF_this['p_suffix'].value, true,true))
            {
                _CF_onError(_CF_this, "p_suffix", _CF_this['p_suffix'].value, "Suffix of band number is required");
                _CF_error_exists = true;
            }

        }else {
            _CF_onError(_CF_this, "p_suffix", _CF_this['p_suffix'].value, "Suffix of band number is required");
            _CF_error_exists = true;
        }

        //form element p_prefix2 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['p_prefix2'].value, false,true))
        {
            _CF_onError(_CF_this, "p_prefix2", _CF_this['p_prefix2'].value, "Error in p_prefix2 text.");
            _CF_error_exists = true;
        }

        //form element p_suffix2 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['p_suffix2'].value, false,true))
        {
            _CF_onError(_CF_this, "p_suffix2", _CF_this['p_suffix2'].value, "Error in p_suffix2 text.");
            _CF_error_exists = true;
        }

        //form element p_reward 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['p_reward'].value, false,true))
        {
            _CF_onError(_CF_this, "p_reward", _CF_this['p_reward'].value, "Error in p_reward text.");
            _CF_error_exists = true;
        }

        //form element p_enc_cntry required check
        if( !_CF_hasValue(_CF_this['p_enc_cntry'], "SELECT", false ) )
        {
            _CF_onError(_CF_this, "p_enc_cntry", _CF_this['p_enc_cntry'].value, "Please provide the name of the Country where band was encountered.");
            _CF_error_exists = true;
        }

        //form element p_enc_town required check
        if( !_CF_hasValue(_CF_this['p_enc_town'], "TEXT", false ) )
        {
            _CF_onError(_CF_this, "p_enc_town", _CF_this['p_enc_town'].value, "Please provide the name of the nearest city or town.");
            _CF_error_exists = true;
        }

        //form element p_miles 'FLOAT' validation checks
        if (!_CF_checknumber(_CF_this['p_miles'].value, false,true))
        {
            _CF_onError(_CF_this, "p_miles", _CF_this['p_miles'].value, "Error in p_miles text.");
            _CF_error_exists = true;
        }

        //form element lat_dms_degrees 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['lat_dms_degrees'].value, 0.0,90.0, false))
        {
            _CF_onError(_CF_this, "lat_dms_degrees", _CF_this['lat_dms_degrees'].value, "Latitude Degrees must be a whole number and value must be between 0 and 90");
            _CF_error_exists = true;
        }

        //form element lat_dms_degrees 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['lat_dms_degrees'].value, false,true))
        {
            _CF_onError(_CF_this, "lat_dms_degrees", _CF_this['lat_dms_degrees'].value, "Latitude Degrees must be a whole number and value must be between 0 and 90");
            _CF_error_exists = true;
        }

        //form element lat_dms_minutes 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['lat_dms_minutes'].value, 0.0,59.0, false))
        {
            _CF_onError(_CF_this, "lat_dms_minutes", _CF_this['lat_dms_minutes'].value, "Latitude Minutes must be a whole number and value must be between 0 and 59");
            _CF_error_exists = true;
        }

        //form element lat_dms_minutes 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['lat_dms_minutes'].value, false,true))
        {
            _CF_onError(_CF_this, "lat_dms_minutes", _CF_this['lat_dms_minutes'].value, "Latitude Minutes must be a whole number and value must be between 0 and 59");
            _CF_error_exists = true;
        }

        //form element lat_dms_seconds 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['lat_dms_seconds'].value, 0.0,59.0, false))
        {
            _CF_onError(_CF_this, "lat_dms_seconds", _CF_this['lat_dms_seconds'].value, "Latitude Seconds must be a whole number and value must be between 0 and 59");
            _CF_error_exists = true;
        }

        //form element lat_dms_seconds 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['lat_dms_seconds'].value, false,true))
        {
            _CF_onError(_CF_this, "lat_dms_seconds", _CF_this['lat_dms_seconds'].value, "Latitude Seconds must be a whole number and value must be between 0 and 59");
            _CF_error_exists = true;
        }

        //form element long_dms_degrees 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['long_dms_degrees'].value, 0.0,180.0, false))
        {
            _CF_onError(_CF_this, "long_dms_degrees", _CF_this['long_dms_degrees'].value, "Longitude Degrees must be a whole number and value must be between 0 and 180");
            _CF_error_exists = true;
        }

        //form element long_dms_degrees 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['long_dms_degrees'].value, false,true))
        {
            _CF_onError(_CF_this, "long_dms_degrees", _CF_this['long_dms_degrees'].value, "Longitude Degrees must be a whole number and value must be between 0 and 180");
            _CF_error_exists = true;
        }

        //form element long_dms_minutes 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['long_dms_minutes'].value, 0.0,59.0, false))
        {
            _CF_onError(_CF_this, "long_dms_minutes", _CF_this['long_dms_minutes'].value, "Longitude Minutes must be a whole number and value must be between 0 and 59");
            _CF_error_exists = true;
        }

        //form element long_dms_minutes 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['long_dms_minutes'].value, false,true))
        {
            _CF_onError(_CF_this, "long_dms_minutes", _CF_this['long_dms_minutes'].value, "Longitude Minutes must be a whole number and value must be between 0 and 59");
            _CF_error_exists = true;
        }

        //form element long_dms_seconds 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['long_dms_seconds'].value, 0.0,59.0, false))
        {
            _CF_onError(_CF_this, "long_dms_seconds", _CF_this['long_dms_seconds'].value, "Longitude Seconds must be a whole number and value must be between 0 and 59");
            _CF_error_exists = true;
        }

        //form element long_dms_seconds 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['long_dms_seconds'].value, false,true))
        {
            _CF_onError(_CF_this, "long_dms_seconds", _CF_this['long_dms_seconds'].value, "Longitude Seconds must be a whole number and value must be between 0 and 59");
            _CF_error_exists = true;
        }

        //form element lat_ddm_degrees 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['lat_ddm_degrees'].value, 0.0,89.0, false))
        {
            _CF_onError(_CF_this, "lat_ddm_degrees", _CF_this['lat_ddm_degrees'].value, "Latitude Degrees must be a whole number and value must be between 0 and 89");
            _CF_error_exists = true;
        }

        //form element lat_ddm_degrees 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['lat_ddm_degrees'].value, false,true))
        {
            _CF_onError(_CF_this, "lat_ddm_degrees", _CF_this['lat_ddm_degrees'].value, "Latitude Degrees must be a whole number and value must be between 0 and 89");
            _CF_error_exists = true;
        }

        //form element lat_ddm_minutes 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['lat_ddm_minutes'].value, 0.0,59.99999, false))
        {
            _CF_onError(_CF_this, "lat_ddm_minutes", _CF_this['lat_ddm_minutes'].value, "The standard format for latitude decimal minutes is xx.xxxxx for this form and value must be between 0 and 59.99999--Please correct");
            _CF_error_exists = true;
        }

        //form element lat_ddm_minutes 'REGULAR_EXPRESSION' validation checks
        if (!_CF_checkregex(_CF_this['lat_ddm_minutes'].value, /^([0-9]?[0-9]\.[0-9]?[0-9]?[0-9]?[0-9]?[0-9])$/, false))
        {
            _CF_onError(_CF_this, "lat_ddm_minutes", _CF_this['lat_ddm_minutes'].value, "The standard format for latitude decimal minutes is xx.xxxxx for this form and value must be between 0 and 59.99999--Please correct");
            _CF_error_exists = true;
        }

        //form element long_ddm_degrees 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['long_ddm_degrees'].value, 0.0,179.0, false))
        {
            _CF_onError(_CF_this, "long_ddm_degrees", _CF_this['long_ddm_degrees'].value, "Longitude Degrees must be a whole number and value must be between 0 and 179");
            _CF_error_exists = true;
        }

        //form element long_ddm_degrees 'INTEGER' validation checks
        if (!_CF_checkinteger(_CF_this['long_ddm_degrees'].value, false,true))
        {
            _CF_onError(_CF_this, "long_ddm_degrees", _CF_this['long_ddm_degrees'].value, "Longitude Degrees must be a whole number and value must be between 0 and 179");
            _CF_error_exists = true;
        }

        //form element long_ddm_minutes 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['long_ddm_minutes'].value, 0.0,59.99999, false))
        {
            _CF_onError(_CF_this, "long_ddm_minutes", _CF_this['long_ddm_minutes'].value, "The standard format for longitude decimal minutes is xx.xxxxx for this form and value must be between 0 and 59.99999--Please correct");
            _CF_error_exists = true;
        }

        //form element long_ddm_minutes 'REGULAR_EXPRESSION' validation checks
        if (!_CF_checkregex(_CF_this['long_ddm_minutes'].value, /^([0-9]?[0-9]\.[0-9]?[0-9]?[0-9]?[0-9]?[0-9])$/, false))
        {
            _CF_onError(_CF_this, "long_ddm_minutes", _CF_this['long_ddm_minutes'].value, "The standard format for longitude decimal minutes is xx.xxxxx for this form and value must be between 0 and 59.99999--Please correct");
            _CF_error_exists = true;
        }

        //form element lat_dd 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['lat_dd'].value, 0.0,89.99999, false))
        {
            _CF_onError(_CF_this, "lat_dd", _CF_this['lat_dd'].value, "The standard format for latitude decimal degrees is xx.xxxxx for this form and value must be between 0 and 89.99999--Please correct");
            _CF_error_exists = true;
        }

        //form element lat_dd 'REGULAR_EXPRESSION' validation checks
        if (!_CF_checkregex(_CF_this['lat_dd'].value, /^([0-9]?[0-9]\.[0-9]?[0-9]?[0-9]?[0-9]?[0-9])$/, false))
        {
            _CF_onError(_CF_this, "lat_dd", _CF_this['lat_dd'].value, "The standard format for latitude decimal degrees is xx.xxxxx for this form and value must be between 0 and 89.99999--Please correct");
            _CF_error_exists = true;
        }

        //form element long_dd 'RANGE' validation checks
        if  (!_CF_checkrange(_CF_this['long_dd'].value, 0.0,179.99999, false))
        {
            _CF_onError(_CF_this, "long_dd", _CF_this['long_dd'].value, "The standard format for longitude decimal degrees is -xxx.xxxxx for this form and value must be between 0 and 179.99999--Please correct");
            _CF_error_exists = true;
        }

        //form element long_dd 'REGULAR_EXPRESSION' validation checks
        if (!_CF_checkregex(_CF_this['long_dd'].value, /^([0-9]?[0-9]?[0-9]\.[0-9]?[0-9]?[0-9]?[0-9]?[0-9])$/, false))
        {
            _CF_onError(_CF_this, "long_dd", _CF_this['long_dd'].value, "The standard format for longitude decimal degrees is -xxx.xxxxx for this form and value must be between 0 and 179.99999--Please correct");
            _CF_error_exists = true;
        }


        //display error messages and return success
        if( _CF_error_exists )
        {
            if( _CF_error_messages.length > 0 )
            {
                // show alert() message
                _CF_onErrorAlert(_CF_error_messages);
                // set focus to first form error, if the field supports js focus().
                if( _CF_this[_CF_FirstErrorField].type == "text" )
                { _CF_this[_CF_FirstErrorField].focus(); }

            }
            return false;
        }else {
            // run userdefined onSubmit javascript. 
            return false;
            return true;
        }
    }
//-->
</script>
<script type="text/javascript">
<!--
    _CF_checkhidden_form = function(_CF_this)
    {
        //reset on submit
        _CF_error_exists = false;
        _CF_error_messages = new Array();
        _CF_error_fields = new Object();
        _CF_FirstErrorField = null;


        //display error messages and return success
        if( _CF_error_exists )
        {
            if( _CF_error_messages.length > 0 )
            {
                // show alert() message
                _CF_onErrorAlert(_CF_error_messages);
                // set focus to first form error, if the field supports js focus().
                if( _CF_this[_CF_FirstErrorField].type == "text" )
                { _CF_this[_CF_FirstErrorField].focus(); }

            }
            return false;
        }else {
            // run userdefined onSubmit javascript. 
            return false;
            return true;
        }
    }
//-->
</script>
</head>


  <body onload="init();document.hidden_form.reset();document.enc_rec.reset();" oncontextmenu="return false;">
  
<div id="blanket" style="display:none;"></div>

 
<a href="#" id="atopleft">top</a>
<!-- BEGIN USGS Applications Header Template -->
<header id="navbar" class="header-nav"  role="banner" style="top:0px; position:absolute; width:100%;">
  <div class="tmp-container">
      <!-- primary navigation bar -->
  		<!-- search bar-->
      <div class="header-search">
       <a class="logo-header" href="https://www.usgs.gov/" title="Home">
          <img src="/BBL/images/logo.png" alt="Home" class="img" border="0" />
        </a>
        <!--<form action="https://www.usgs.gov/science-explorer-results" method="GET" id="search-box">
         <div class="fa-wrapper"><label for="se_search" class="only">Search</label>
          <input id="se_search" type="search" name="es" placeholder="Search">
          <button class="fa fa-search" type="submit">
            <span class="only">Search</span>
			 </button></div>
        </form>-->
      </div>
      <!-- end search bar-->
	</div> 
	<!-- end header-container-->
</header>
<p></p>
<!-- END USGS Applications Header Template -->

<div id="popUpDiv" class="alert alert-info img-responsive" style="display:none; vertical-align:middle; align-content: center;"><a class="close"  aria-label="close" onclick="popup('popUpDiv');">&times;</a>
	<div id="PopupText" class="alert" align="left" style="vertical-align:middle; align-content: center; top:50%;vertical-align:50%;">
Please select this option if you encountered this bird or were provided encounter details about this bird while on official duty.
	</div><a class="close" aria-label="close" onclick="popup('popUpDiv');" style="float:left">&times;</a>
</div>



<div style="display:none;width: 100%; height: 100%; z-index: 1000; position:absolute; " id="wait_para">
<center>
<p style="font-size:30pt;color:red;float:inherit;" ><br /><br /><br /><b>SYSTEM PROCESSING.<br />PLEASE WAIT</b></p>
	<br />
	<br />
	<br />
<p style="font-size:30pt;color:red; float:inherit;" ><br /><br /><br /><b>SYSTEM PROCESSING.<br />PLEASE WAIT</b></p>
	<br />
	<br />
	<br />
<p style="font-size:30pt;color:red; float:inherit;" ><br /><br /><br /><b>SYSTEM PROCESSING.<br />PLEASE WAIT</b></p>
	<br />
	<br />
	<br />
<p style="font-size:30pt;color:red; float:inherit;" ><br /><br /><br /><b>SYSTEM PROCESSING.<br />PLEASE WAIT</b></p>
</center>
</div>
	  
<div class="container">
<div style="height:70px; background-color: #337ab7"></div>
<h4>Patuxent Wildlife Research Center Bird Banding Laboratory</h4>
</div>        





<div class="container-fluid">
<form name="enc_rec" id="enc_rec" action="&#x2f;BBL&#x2f;bblretrv&#x2f;index.cfm" method="post" role="form" autocomplete="off" onsubmit="return _CF_checkenc_rec(this)"><input name="csrftoken" id="csrftoken"  type="hidden" value="5506717F60200B18845B25E8DA4DF3E1156C20BF" />

	<div id="TabbedPanels1" class="TabbedPanels" >
    
		<ul class="TabbedPanelsTabGroup">
		<li class="TabbedPanelsTab" id="tbp1" title="Introduction" onclick="goAwayTab(0)"><a name="Introduction">Start</a></li>
		<li class="TabbedPanelsTab" id="tbp2" title="Who" onclick="goAwayTab(1)"><a name="Who">Who</a></li>
        <li class="TabbedPanelsTab" id="tbp22" title="What" onclick="goAwayTab(2)"><a name="What">What</a></li>
		<li class="TabbedPanelsTab" id="tbp3" title="About Band, Bird, and Date" onclick="goAwayTab(3)"><a name="AboutBand">About Band, Bird, and Date</a></li>
		<li class="TabbedPanelsTab" id="tbp4" title="Color Marker Info" onclick="goAwayTab(4)"><a name="MarkerInfo">Color Marker Info</a></li>
		<li class="TabbedPanelsTab" id="tbp5" title="Encounter Location" onclick="goAwayTab(5)"><a name="LocationInfo">Encounter Location</a></li>
		<li class="TabbedPanelsTab" id="tbp6" title="Contact Info" onclick="goAwayTab(6)"><a name="ContactInfo">Contact Info</a></li>
		<li class="TabbedPanelsTab" id="tbp7" title="Verification" onclick="goAwayTab(7)" ><a name="Verification">Verification</a></li>
		</ul>
	
		<div class="TabbedPanelsContentGroup">
   			<div class="TabbedPanelsContent" >
				<div class="row">
		  			<div class="col-sm-12">
		 				<div id="ttl_div" style="alignment-adjust:central;font-weight:bold;">Report a bird with a federal band or color marker</div>
		 				<p style="font-size:9px; float:right">OMB Control #_1028-0082<br />
							Approval expires:03/31/2019</p>

						

         			</div>
       			</div>
       			<div class="row">
         			<div class="col-sm-4">
			 			<button type="button" class="btn btn-primary" name="fw_btn0" id="fw_btn01" onclick="goAwayTab(1)" tabindex="1" title="Continue">Continue&nbsp;&gt;&gt;</button>
					</div>
        			<div class="col-sm-1">&nbsp;
        			</div>
        			<div class="col-sm-7">
          				<div class="row">
            				<div class="col-sm-12">
             					<button type="button" class="btn btn-default" name="fw_french" id="fw_french1" onclick="document.location.href='index_v_fr.cfm'"  tabindex="2" title="French version">En&nbsp;Franais&nbsp;&gt;&gt;</button>
		      
			 					<button type="button" class="btn btn-default" name="fw_spanish" id="fw_spanish1" onclick="document.location.href='index_v_sp.cfm'" tabindex="3" title="Spanish version" >En&nbsp;Espaol&nbsp;&gt;&gt;</button>
             				</div>
           				</div>
			 
																																																																																																																																																			   
																																																																																															  
				  
			   
			 
									 
				   
																					
		  
					 
																																																																													
				  
		  
					 
					</div>
				</div>
				<div class="row">
            		<div class="col-sm-12">
                    <br />
						<font style="font-weight:bold;">
                        <p>
							Examples of <a onclick='javascript: window.open("https://www.usgs.gov/centers/pwrc/science/about-federal-bird-bands?qt-science_center_objects=0#qt-science_center_objects","_blank","titlebar=0, menubar=0, status=0, width=800, height=800, resizable=1, scrollbars=1",true)' href="#Introduction">federal bands</a> and <a onclick='javascript: window.open("https://www.usgs.gov/centers/pwrc/science/about-color-and-auxiliary-markers?qt-science_center_objects=0#qt-science_center_objects","_blank","titlebar=0, menubar=0, status=0, width=800, height=800, resizable=1, scrollbars=1",true)' href="#Introduction">color markers</a> 
						</p>	 
							
							<p>If you have already reported your federal band or color marker and want another copy of your <a href="CofA_request.cfm">Certificate of Appreciation click here</a></p>
							
                            <p> Please contact us at <a href="mailto: bandreports@usgs.gov">bandreports@usgs.gov</a> if you experience any problems with this site.<br /></p>
							<p> To learn more about the USGS <a href="https://www.usgs.gov/centers/pwrc/science/bird-banding-laboratory">Bird Banding Lab, click here.</a> </p>
						</font>
					</div>
				</div>
				<div class="row" id="div2hide">
					
				</div>
	 
				<div class="row">
					<div class="col-sm-12" style="font-size:9px">
						<p>&nbsp;</p>
						<p>PAPERWORK REDUCTION ACT STATEMENT: In accordance with the Paperwork Reduction Act (44 U.S.C. 3501), please note the following. This information collection is authorized by The Migratory Bird Treaty Act, 16 U.S.C. 703-712. Your response is voluntary. We estimate that it will take approximately 2  minutes to prepare and submit the recovery report. An agency may not conduct or sponsor and a person is not required to respond to a collection of information  unless it displays a currently valid Office of Management and Budget control number. OMB has reviewed and approved this information collection and assigned OMB Control Number 1028-0082. You may submit comments on any aspect of this  information collection, including the accuracy of the estimated burden hours  and suggestions to reduce this burden. Send your comments to: Information Collection Clearance Officer, U.S. Geological Survey, 12201 Sunrise Valley  Drive, MS 807, Reston, VA 20192.</p>
						
					</div>
				</div>			
			</div>
			<div class="TabbedPanelsContent" >
					<div id="lbl6">
						<h4>Please select all the options that apply to you:</h4>
					</div>
					  
					<div class="row">
						<div class="col-sm-12"><label for="who2"><div class="btn-default"><input type="checkbox" id="who2" name="p_who"  value="finder" onclick="setWhoReported();" />&nbsp;  I am the finder or am reporting on behalf of the finder.</div></label>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12"><label for="who3"><div class="btn-default"><input type="checkbox" id="who3" name="p_who"  value="bander" onclick="setWhoReported();askReplaced();" />&nbsp;  I am a bird bander or a bander's assistant.</div></label>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12" id="permit_dv" style="display:none">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label for="p_prmt">Permit #: </label><input id="p_prmt" name="p_permit" maxlength="5" size="5" onchange="SinchComment(1);" type="tel" title="US banding permit number" pattern="\d{5}" /> (US or Canada permit only, leave it blank otherwise)
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12"><label for="who4"><div class="btn-default"><input type="checkbox" id="who4" name="p_who"  value="official" onclick="setWhoReported();askReplaced();" />&nbsp; I am federal, state, or provincial official.</div></label>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">&nbsp;
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12"><button type="button" class="btn btn-default" name="bk_btn1" id="bk_btn1" onclick="goAwayTab(0)" title="Go Back">&lt;&lt;&nbsp;Go Back</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<button type="button" class="btn btn-primary" name="fw_btn1" id="fw_btn1" onclick="goAwayTab(2)" title="Continue">Continue&nbsp;&gt;&gt;</button>
						</div>
					</div>
			</div>
			<div class="TabbedPanelsContent" >        
				<div class="row">
					<div class="col-sm-12"><h4>I am reporting a:</h4>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12"><label for="page_choice1"><div class="btn-default"><input type="radio" id="page_choice1" name="p_page_choice"  value="b" onclick="showMarkerTab();showBandTab();" checked="checked" /> Federal band (metal band with 8 or 9 digits).</div>
						<!--<img src="/BBL/images/bands_rita.jpg" alt="Federal Bands Examples" />-->
						</label>
					</div>
					<br />
				</div>
				<div class="row">
					<div class="col-sm-12"><label for="page_choice2"><div class="btn-default"><input type="radio" id="page_choice2" name="p_page_choice"  value="a" onclick="showMarkerTab();showBandTab();" /> Federal band and color marker from the same bird.</div>
						<!--<img src="/BBL/images/BRPE_Mississippi_12_Apr_2017_Holly_Cox.jpg" alt="Example 1: Federal Band and Color Marker on the same bird" height="150" title="Brown pelican with coded color leg band and federal band (Courtesy: Holly Cox)" />
						<img src="/BBL/images/Sloane_ScrubJay.jpg" alt="Example 2: Federal Band and Color Marker on the same bird" height="150" title="Scrub jay with uncoded color leg band and federal band (Courtesy: Margaret Sloane)" />-->
						</label>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12"><label for="page_choice3"><div class="btn-default"><input type="radio" id="page_choice3" name="p_page_choice"  value="m" onclick="showMarkerTab();showBandTab();" /> Color marker only (neck collar, wing tag, colored leg band, etc.).</div></label><img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg1"  onclick="popup('popUpDiv',1)" />
					
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">&nbsp;
					</div>
				</div>
				   
				<div class="row">
					<div class="col-sm-12"><button type="button" class="btn btn-default" name="bk_btn1_2" id="bk_btn1_2" onclick="goAwayTab(1)" title="Go Back">&lt;&lt;&nbsp;Go Back</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<button type="button" class="btn btn-primary" name="fw_btn1_2" id="fw_btn1_2" onclick="goAwayTab(3)" title="Continue">Continue&nbsp;&gt;&gt;</button>
					</div>
				</div>
			</div>
			<div class="TabbedPanelsContent">
				<div class="row">
					<div class="col-sm-2"><label for="p_prefix" id="lbl1">Federal Band Number</label>
					</div>
					<div class="col-sm-10">
						<div id="band_div">
						<input name="p_prefix" type="tel" maxlength="4"  onmouseover="checkHummBd();"  onchange="check_prefix(this);DupChkd=0;"  autocomplete="new_p_prefix"  size="5"  title="Band Number Prefix"  id="p_prefix"  onkeyup="return autoTab(this, 4, event);"  placeholder="Prefix"  />
						<b>-</b>
						<input name="p_suffix" type="tel" maxlength="5"  onchange="check_suffix(this);DupChkd=0;"  autocomplete="new_p_suffix"  size="6"  title="Band Number Suffix"  id="p_suffix"  onkeyup="return autoTab(this, 5, event);"  placeholder="Suffix"  />
							<img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg4" onclick="popup('popUpDiv',4)" />
							
						<br />
					<div id="second_band_div">
					<label for="was_sec_bnd_chk">There was a second federal band on this bird&nbsp;<input type="checkbox" name="was_sec_bnd_chk"  id="was_sec_bnd_chk" onClick=" if (this.checked){document.getElementById('sband_div').style.display='block';}else{document.getElementById('sband_div').style.display='none';};" /></label> 
					 <div id="sband_div" style="display: none;"><label for="p_prefix2" id="lblsb"> Second federal band number: </label>
						<input name="p_prefix2" type="tel" maxlength="4"  onchange="if(this.value.length==3){this.value='0'+this.value;}DupChkd=0;"  autocomplete="new_p_prefix2"  size="4"  title="Band Number Prefix"  id="p_prefix2"  onkeyup="return autoTab(this, 4, event);"  placeholder="Prefix"  />
						<b>-</b>
						<input name="p_suffix2" type="tel" maxlength="5"  onchange="check_suffix2nd(this);DupChkd=0;"  autocomplete="new_p_suffix2"  size="5"  title="Band Number Suffix"  id="p_suffix2"  onkeyup="return autoTab(this, 5, event);"  placeholder="Suffix"  />
							</div>
					</div>
					<div id="rwrd_band_div">
						<label for="was_rwrd_bnd_chk">There was a reward band on this bird&nbsp;<input type="checkbox" name="was_rwrd_bnd_chk"  id="was_rwrd_bnd_chk" onClick=" if (this.checked){document.getElementById('rwrdband_div').style.display='block';}else{document.getElementById('rwrdband_div').style.display='none';};" /></label> 
						<div id="rwrdband_div" style="display: none;">
							 
								 <label for="p_reward" id="lbl2">Reward Band Number: </label>
								 
							 
								 <input name="p_reward" type="tel" maxlength="6"  id="p_reward"  onchange="reward_check(this)"  autocomplete="new_p_reward"  size="6"  />
								 
						</div>
							
							
					</div>
						</div>
																	  
						<div id="noband_div" style="display:none">Unknown
						</div>
						<div id="wornband_div">If you do not know the band number and only want to report the color marker, please <a href="javascript: document.getElementById('page_choice3').click();"> click here.</a><br />
							If you are not sure about digits or the band is too worn to read <a onclick='javascript: window.open("https://www.usgs.gov/centers/pwrc/science/etching-worn-bands?qt-science_center_objects=0#qt-science_center_objects","_blank","titlebar=0, menubar=0, status=0, width=800, height=800, resizable=1, scrollbars=1",true)' href="javascript:;">click here.</a><br />
							
						</div>
					</div>
				</div>
					
					
					
					
                <div id="pigeon_dv" style="display:none" class="alert-info">
                  If the band has the letters "AU", "IF", "CU" "NPA" or "IPB" it is probably a captive pigeon band. Please do not report captive pigeon bands to the BBL, we do not keep a database of these birds.  You can find more information at: <a href="http://www.pigeon.org/lostbirdinfo.htm">http://www.pigeon.org/lostbirdinfo.htm</a>
                </div>
							<br />
				<div class="row">
					<div class="col-sm-12"><label id="lbl_spn">Do you know the species?</label><label for="sp_knownY"><div class="btn-default">&nbsp;<input type="radio" name="sp_known" id="sp_knownY" value="Yes" onclick="document.getElementById('species_dv').style.display='block'; document.getElementById('species_gr_dv').style.display='none'; document.enc_rec.p_species.value=(document.enc_rec.p_species.value=='Unknown')?'':document.enc_rec.p_species.value;document.enc_rec.aou_type.value='';" />&nbsp;Yes&nbsp;</div></label>&nbsp;
						<label for="sp_knownN"><div class="btn-default">&nbsp;<input type="radio" name="sp_known" id="sp_knownN" value="No" onclick="document.getElementById('species_dv').style.display='none';document.getElementById('species_gr_dv').style.display='block'; document.enc_rec.p_species.value='Unknown';" />&nbsp;No&nbsp;</div></label>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12" id="lbl3" >
					  <div id="species_gr_dv" style="display:none">
						<div class="row">
							 <div class="col-sm-2" ><label for="aou_type" id="lbl3a" >Try to select general type of bird </label></div>
							 <div class="col-sm-10">
								<select name="aou_type" onchange="document.enc_rec.p_species.value='';specieslookup.clearCache();checkHummBd();DupChkd=0;"  autocomplete="new_aou_type"  title="Species type"  id="aou_type"  class="form-control form-control-sm" >
    <option value=""></option>
    <option value="Unknown">Unknown</option>
    <option value="Albatross">Albatross</option>
    <option value="Anhinga">Anhinga</option>
    <option value="Ani">Ani</option>
    <option value="Auklet">Auklet</option>
    <option value="Bananaquit">Bananaquit</option>
    <option value="Becard">Becard</option>
    <option value="Bittern">Bittern</option>
    <option value="Blackbird">Blackbird</option>
    <option value="Bluebird">Bluebird</option>
    <option value="Booby">Booby</option>
    <option value="Bunting">Bunting</option>
    <option value="Bushtit">Bushtit</option>
    <option value="Cardinal">Cardinal</option>
    <option value="Catbird">Catbird</option>
    <option value="Chickadee">Chickadee</option>
    <option value="Condor">Condor</option>
    <option value="Coot">Coot</option>
    <option value="Cormorant">Cormorant</option>
    <option value="Crane">Crane</option>
    <option value="Creeper">Creeper</option>
    <option value="Crow">Crow</option>
    <option value="Cuckoo">Cuckoo</option>
    <option value="Dipper">Dipper</option>
    <option value="Dove">Dove</option>
    <option value="Duck">Duck</option>
    <option value="Eagle">Eagle</option>
    <option value="Egret">Egret</option>
    <option value="Exotic Bird">Exotic Bird</option>
    <option value="Finch">Finch</option>
    <option value="Flamingo">Flamingo</option>
    <option value="Flycatcher">Flycatcher</option>
    <option value="Frigatebird">Frigatebird</option>
    <option value="Fulmar">Fulmar</option>
    <option value="Gallinule">Gallinule</option>
    <option value="Gannet">Gannet</option>
    <option value="Gnatcatcher">Gnatcatcher</option>
    <option value="Goose">Goose</option>
    <option value="Grassquit">Grassquit</option>
    <option value="Grebe">Grebe</option>
    <option value="Grosbeak">Grosbeak</option>
    <option value="Guillemot">Guillemot</option>
    <option value="Gull">Gull</option>
    <option value="Hawaiian Endemic">Hawaiian Endemic</option>
    <option value="Hawk">Hawk</option>
    <option value="Heron">Heron</option>
    <option value="Hummingbird">Hummingbird</option>
    <option value="Hyb Nonpasserine">Hyb Nonpasserine</option>
    <option value="Hybrid Passerine">Hybrid Passerine</option>
    <option value="Ibis">Ibis</option>
    <option value="Island Endemic">Island Endemic</option>
    <option value="Jaeger">Jaeger</option>
    <option value="Jay">Jay</option>
    <option value="Junco">Junco</option>
    <option value="Kingfisher">Kingfisher</option>
    <option value="Kinglet">Kinglet</option>
    <option value="Lark">Lark</option>
    <option value="Limpkin">Limpkin</option>
    <option value="Loon">Loon</option>
    <option value="Magpie">Magpie</option>
    <option value="Martin">Martin</option>
    <option value="Meadowlark">Meadowlark</option>
    <option value="Mockingbird">Mockingbird</option>
    <option value="Moorhen">Moorhen</option>
    <option value="Murre">Murre</option>
    <option value="Murrelet">Murrelet</option>
    <option value="Myna">Myna</option>
    <option value="Nightjar">Nightjar</option>
    <option value="Nuthatch">Nuthatch</option>
    <option value="Oriole">Oriole</option>
    <option value="Owl">Owl</option>
    <option value="Parakeet">Parakeet</option>
    <option value="Parrot">Parrot</option>
    <option value="Pelican">Pelican</option>
    <option value="Penguin">Penguin</option>
    <option value="Petrel">Petrel</option>
    <option value="Phainopepla">Phainopepla</option>
    <option value="Pigeon">Pigeon</option>
    <option value="Pipit">Pipit</option>
    <option value="Prion">Prion</option>
    <option value="Puffin">Puffin</option>
    <option value="Rail">Rail</option>
    <option value="Raven">Raven</option>
    <option value="Roadrunner">Roadrunner</option>
    <option value="Robin">Robin</option>
    <option value="Seedeater">Seedeater</option>
    <option value="Shearwater">Shearwater</option>
    <option value="Sheathbill">Sheathbill</option>
    <option value="Shorebird">Shorebird</option>
    <option value="Shrike">Shrike</option>
    <option value="Skimmer">Skimmer</option>
    <option value="Skua">Skua</option>
    <option value="Sparrow">Sparrow</option>
    <option value="Spoonbill">Spoonbill</option>
    <option value="Stork">Stork</option>
    <option value="Storm-Petrel">Storm-Petrel</option>
    <option value="Swallow">Swallow</option>
    <option value="Swan">Swan</option>
    <option value="Swift">Swift</option>
    <option value="Tanager">Tanager</option>
    <option value="Tern">Tern</option>
    <option value="Thrasher">Thrasher</option>
    <option value="Thrush">Thrush</option>
    <option value="Titmouse">Titmouse</option>
    <option value="Towhee">Towhee</option>
    <option value="Trogon">Trogon</option>
    <option value="Tropicbird">Tropicbird</option>
    <option value="Verdin">Verdin</option>
    <option value="Vireo">Vireo</option>
    <option value="Vulture">Vulture</option>
    <option value="Wagtail">Wagtail</option>
    <option value="Warbler">Warbler</option>
    <option value="Waxwing">Waxwing</option>
    <option value="Woodpecker">Woodpecker</option>
    <option value="Wren">Wren</option>
    <option value="Wrentit">Wrentit</option>
</select><img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg2" onclick="popup('popUpDiv',2)" />
							 </div>
							</div>
					  </div>
					  <div id="species_dv" style="display:none"  class="row">
							 <div class="col-sm-2"><label for="p_species" id="lbl3b" >Species Name </label>
							 </div>
							 <div class="col-sm-10">
                               <div><input name="p_species" type="text" maxlength="50"  onchange="DupChkd=0;"  autocomplete="new_p_species"  id="p_species"  class="form-control form-control-sm"  onfocus="onSuggestFieldFocus(specieslookup);"  /> <img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg3" onclick="popup('popUpDiv',3)" />
                               </div>
							 </div>
						   </div>
					  </div>
				</div>
				<div class="row" id="humm_bd_div" style="display:none; color:#00F; font-weight:bold" >
					<div class="col-sm-12"> 
					   If your hummingbird band contains an alpha character as the band number prefix,<br />please use the following chart for conversion of the prefix:<font style="color:#F00;">
					   <div class="table-responsive"><table width="100%" border="1">
						<tr>
						   <td nowrap="nowrap">Y = 3000</td>
						   <td nowrap="nowrap">R = 4000</td>
						   <td nowrap="nowrap">N = 5000</td>
						   <td nowrap="nowrap">C = 6000</td>
						   <td nowrap="nowrap">X = 7000</td>
						   <td nowrap="nowrap">T = 8000</td>
						   <td nowrap="nowrap">E = 9000</td>
						 </tr>
						  <tr>
						   <td nowrap="nowrap">H = 3100</td>
						   <td nowrap="nowrap">L = 4100</td>
						   <td nowrap="nowrap">J = 5100</td>
						   <td nowrap="nowrap">K = 6100</td>
						   <td nowrap="nowrap">M = 7100</td>
						   <td nowrap="nowrap">U = 8100</td>
						   <td nowrap="nowrap">P = 9100</td>
						  </tr>
						</table>
					   </div></font>
						 
					</div>
					  
				</div>
				
				<br />
				<div class="row">
					<div class="col-sm-2"><div id="lbl5"><label for="p_how1">How obtained?</label></div></div>
					<div class="col-sm-10">
						
						<select name="p_how1" id="p_how1"  class="form-control form-control-sm"  onchange="setHow2(this.value);DupChkd=0;"  autocomplete="new_p_how1" >
								<option value="--" selected="selected"> Please select how the bird/band was obtained</option>
								<option value="01">Shot</option>
								<option value="00">Found dead bird</option>
								<option value="44">Taken during control operations (including shot or relocated)</option>						
								<option value="29">Saw or photographed neck collar, color band, or other marker (not a federal band) while bird was free</option>
								<option value="52">Saw or photographed federal band number while bird was free</option>
								<option value="60">Hit by car or other motor vehicle </option>
								<option value="03">Caught due to injury</option>
								<option value="66">Recaptured and released during banding operation</option>
								<option value="59">Caught uninjured bird by hand</option>
								<option value="70">Purchased, e-Bay, traded or received band from someone else</option>
								<option value="98">Found band or band number only (including metal detecting)</option>
								<option value="">See more options</option>
							</select>
						
						<img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg5" onclick="popup('popUpDiv',5)" />
						<div id="how2_dv" style="display:none"> 
							
							<select name="p_how2" title="How obtained details"  id="p_how2"  autocomplete="new_p_how2" >
    							<option value="--" selected="selected"> Please select</option>
    							<option value="04">Trapped or snared (not for banding operations)</option>
								<option value="26">Entangled in fishing gear</option>
								<option value="13">Struck building or window</option>
								<option value="16">Captured or collected for scientific project (not for banding operations)</option>
								<option value="10">Banding mortality</option>
								<option value="61">Caught due to disease</option>
								<option value="OT">Other (describe in comments) </option>
     
							</select>
						</div>
					</div>
				</div>
				<br />			
				<div class="row">
					<div class="col-sm-2"><label for="p_bandcond" id="lbl7_1">Condition of the band</label></div>
					<div class="col-sm-10"> <select name="p_bandcond" id="p_bandcond"  onchange="DupChkd=0;askReplaced();"  autocomplete="new_p_bandcond" >
    <option value="1">Removed from Bird</option>
    <option value="2">Left on Bird</option>
    <option value="3">Unknown</option>
    <option value="X" selected="selected">Please select a band condition</option>
</select><img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg6" onclick="popup('popUpDiv',6)" />
					</div>
				</div>
				<div class="row">
					<div class="col-sm-2"><label for="p_birdcond" id="lbl7_2">Condition of the bird</label></div>
					<div class="col-sm-10"> <select name="p_birdcond" id="p_birdcond"  onchange="DupChkd=0;askReplaced();"  autocomplete="new_p_birdcond" >
    <option value="1">Dead</option>
    <option value="2">Alive Released</option>
    <option value="3">Alive In Captivity</option>
    <option value="0">Alive</option>
    <option value="5">Unknown</option>
    <option value="X" selected="selected">Please select a bird condition</option>
</select><img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg7" onclick="popup('popUpDiv',7)" />
					</div>
				</div>
				<br />
				<div class="row">
					<div class="col-sm-2"><label for="p_date" id="lbl8">Date of encounter</label></div>
					<div class="col-sm-10" id="exact_date" style="z-index:1;">
						<div  style="position:relative;float:left;">
	<div  style="float:left;">
		<input name="p_date" type="text" maxlength="10"  class="datefieldinput"  onchange="DupChkd=0; if (isDateAfterToday())alert('Encounter Date is greater than today\'s date.'); setEncDate();"  autocorrect="off"  autocomplete="new_p_date"  max="2020-09-12"  size="10"  inputmode="numeric"  min="1960-01-01"  novalidate="true"  id="p_date"  onkeyup="DateFormat(this,this.value,event,false,'1');"  onfocus="this.select();"  onblur="DateFormat(this,this.value,event,true,'1');" />
	 </div><div  id="p_dateenc_rec_cf_buttondiv" style="float:left;padding:3px;">
		
		<img id="p_dateenc_rec_cf_button" src="/cf_scripts/scripts/ajax/resources/cf/images/DateChooser.png" alt='Date Picker' />
		
	 </div><div  id="p_dateenc_rec_cf_container" style="display:none; position:absolute; font-size:12px;overflow:visible;float:left;z-index:9050;top:1.5em;">
		
	 </div>
 </div>&nbsp;mm/dd/yyyy
					  
						  <div id="mydttransl"></div>
                     </div>
				</div>
				<div class="row">
					<div class="col-sm-12"><div id="exact_dt_tr2">If you do not know the exact date you encountered the bird <a href="javascript: InexactDate(1); ">click here</a></div></div>
				
				</div>
				<div class="row">
					<div class="col-sm-12">
						<div id="inexact_date" style="display:none">
						  If you know the exact date you encountered the bird <a href="javascript: InexactDate(0);">click here</a><br /><label>Please select the most accurate option:</label>
							<div class="row">
								<div class="col-sm-2"></div>
								<div class="col-sm-10">
									<table>
										<tr>
											<td nowrap="nowrap"><label for="dt_option1"><div class="btn-default"><input name="dt_option" type="radio" value="mmyyyy" id="dt_option1"  onclick="DateChoice();"  />&nbsp;Only the month and year are known</div></label>
												<div class="row" id="dv_dt1" style="display:none;">
													<div class="col-sm-6"><label for="p_mm">Select month:</label> 
													  <select name="p_mm" id="p_mm"  onchange="DupChkd=0;"  autocomplete="new_p_mm" >

														<option value=""></option>
															
															<option value='01'>
															January</option>
															
															<option value='02'>
															February</option>
															
															<option value='03'>
															March</option>
															
															<option value='04'>
															April</option>
															
															<option value='05'>
															May</option>
															
															<option value='06'>
															June</option>
															
															<option value='07'>
															July</option>
															
															<option value='08'>
															August</option>
															
															<option value='09'>
															September</option>
															
															<option value='10'>
															October</option>
															
															<option value='11'>
															November</option>
															
															<option value='12'>
															December</option>
															</select>
													</div>
													<div class="col-sm-6">
													   <label for="p_yyyy"> Select year:</label>
													   <select name="p_yyyy" id="p_yyyy"  onchange="DupChkd=0;"  autocomplete="new_p_yyyy" >

															<option value=""></option>
															
															<option value="2020">
															2020</option>
															
															<option value="2019">
															2019</option>
															
															<option value="2018">
															2018</option>
															
															<option value="2017">
															2017</option>
															
															<option value="2016">
															2016</option>
															
															<option value="2015">
															2015</option>
															
															<option value="2014">
															2014</option>
															
															<option value="2013">
															2013</option>
															
															<option value="2012">
															2012</option>
															
															<option value="2011">
															2011</option>
															
															<option value="2010">
															2010</option>
															
															<option value="2009">
															2009</option>
															
															<option value="2008">
															2008</option>
															
															<option value="2007">
															2007</option>
															
															<option value="2006">
															2006</option>
															
															<option value="2005">
															2005</option>
															
															<option value="2004">
															2004</option>
															
															<option value="2003">
															2003</option>
															
															<option value="2002">
															2002</option>
															
															<option value="2001">
															2001</option>
															
															<option value="2000">
															2000</option>
															
															<option value="1999">
															1999</option>
															
															<option value="1998">
															1998</option>
															
															<option value="1997">
															1997</option>
															
															<option value="1996">
															1996</option>
															
															<option value="1995">
															1995</option>
															
															<option value="1994">
															1994</option>
															
															<option value="1993">
															1993</option>
															
															<option value="1992">
															1992</option>
															
															<option value="1991">
															1991</option>
															
															<option value="1990">
															1990</option>
															
															<option value="1989">
															1989</option>
															
															<option value="1988">
															1988</option>
															
															<option value="1987">
															1987</option>
															
															<option value="1986">
															1986</option>
															
															<option value="1985">
															1985</option>
															
															<option value="1984">
															1984</option>
															
															<option value="1983">
															1983</option>
															
															<option value="1982">
															1982</option>
															
															<option value="1981">
															1981</option>
															
															<option value="1980">
															1980</option>
															
															<option value="1979">
															1979</option>
															
															<option value="1978">
															1978</option>
															
															<option value="1977">
															1977</option>
															
															<option value="1976">
															1976</option>
															
															<option value="1975">
															1975</option>
															
															<option value="1974">
															1974</option>
															
															<option value="1973">
															1973</option>
															
															<option value="1972">
															1972</option>
															
															<option value="1971">
															1971</option>
															
															<option value="1970">
															1970</option>
															</select>
													</div> 
												</div>
											</td>
										</tr>
										<tr>
											<td><label for="dt_option2"><div class="btn-default"><input name="dt_option" type="radio" value="yyyy" id="dt_option2"  onclick="DateChoice();"  />&nbsp;Only the year is known</div></label>
												<div id="dv_dt2" style="display:none">&nbsp;&nbsp;&nbsp;&nbsp;<label for="p_yyyy2">Select year:</label>
													   <select name="p_yyyy2" id="p_yyyy2"  onchange="DupChkd=0;"  autocomplete="new_p_yyyy2" >

															<option value=""></option>
															
															<option value="2020">
															2020</option>
															
															<option value="2019">
															2019</option>
															
															<option value="2018">
															2018</option>
															
															<option value="2017">
															2017</option>
															
															<option value="2016">
															2016</option>
															
															<option value="2015">
															2015</option>
															
															<option value="2014">
															2014</option>
															
															<option value="2013">
															2013</option>
															
															<option value="2012">
															2012</option>
															
															<option value="2011">
															2011</option>
															
															<option value="2010">
															2010</option>
															
															<option value="2009">
															2009</option>
															
															<option value="2008">
															2008</option>
															
															<option value="2007">
															2007</option>
															
															<option value="2006">
															2006</option>
															
															<option value="2005">
															2005</option>
															
															<option value="2004">
															2004</option>
															
															<option value="2003">
															2003</option>
															
															<option value="2002">
															2002</option>
															
															<option value="2001">
															2001</option>
															
															<option value="2000">
															2000</option>
															
															<option value="1999">
															1999</option>
															
															<option value="1998">
															1998</option>
															
															<option value="1997">
															1997</option>
															
															<option value="1996">
															1996</option>
															
															<option value="1995">
															1995</option>
															
															<option value="1994">
															1994</option>
															
															<option value="1993">
															1993</option>
															
															<option value="1992">
															1992</option>
															
															<option value="1991">
															1991</option>
															
															<option value="1990">
															1990</option>
															
															<option value="1989">
															1989</option>
															
															<option value="1988">
															1988</option>
															
															<option value="1987">
															1987</option>
															
															<option value="1986">
															1986</option>
															
															<option value="1985">
															1985</option>
															
															<option value="1984">
															1984</option>
															
															<option value="1983">
															1983</option>
															
															<option value="1982">
															1982</option>
															
															<option value="1981">
															1981</option>
															
															<option value="1980">
															1980</option>
															
															<option value="1979">
															1979</option>
															
															<option value="1978">
															1978</option>
															
															<option value="1977">
															1977</option>
															
															<option value="1976">
															1976</option>
															
															<option value="1975">
															1975</option>
															
															<option value="1974">
															1974</option>
															
															<option value="1973">
															1973</option>
															
															<option value="1972">
															1972</option>
															
															<option value="1971">
															1971</option>
															
															<option value="1970">
															1970</option>
															</select>
												</div>
											</td>
										</tr>
										<tr>
											<td nowrap="nowrap"><label for="dt_option3"><div class="btn-default"><input name="dt_option" type="radio" value="chs" id="dt_option3"  onclick="DateChoice();"  />&nbsp;Only season and year are known</div></label>
												<div class="row" id="dv_dt3" style="display:none">
													<div class="col-sm-8"><label for="p_mm3">Select season:</label>
														<select name="p_mm3" id="p_mm3"  onchange="DupChkd=0;"  autocomplete="new_p_mm3" >

														<option value=""> </option>
														<option value="92">Winter (12/21/YY-1 thru 03/19/YY)</option>
														<option value="83">Spring (03/20/YY thru 06/20/YY)</option>
														<option value="82">Summer (06/21/YY thru 09/21/YY)</option>
														<option value="93">Fall (09/22/YY thru 12/20/YY)</option>
														</select>
													</div>
													<div class="col-sm-4">
													   <label for="p_yyyy3">Select year:</label>
														<select name="p_yyyy3" id="p_yyyy3"  onchange="DupChkd=0;"  autocomplete="new_p_yyyy3" >

															<option value=""> </option>
															
															<option value="2020">2020</option>
															
															<option value="2019">2019</option>
															
															<option value="2018">2018</option>
															
															<option value="2017">2017</option>
															
															<option value="2016">2016</option>
															
															<option value="2015">2015</option>
															
															<option value="2014">2014</option>
															
															<option value="2013">2013</option>
															
															<option value="2012">2012</option>
															
															<option value="2011">2011</option>
															
															<option value="2010">2010</option>
															
															<option value="2009">2009</option>
															
															<option value="2008">2008</option>
															
															<option value="2007">2007</option>
															
															<option value="2006">2006</option>
															
															<option value="2005">2005</option>
															
															<option value="2004">2004</option>
															
															<option value="2003">2003</option>
															
															<option value="2002">2002</option>
															
															<option value="2001">2001</option>
															
															<option value="2000">2000</option>
															
															<option value="1999">1999</option>
															
															<option value="1998">1998</option>
															
															<option value="1997">1997</option>
															
															<option value="1996">1996</option>
															
															<option value="1995">1995</option>
															
															<option value="1994">1994</option>
															
															<option value="1993">1993</option>
															
															<option value="1992">1992</option>
															
															<option value="1991">1991</option>
															
															<option value="1990">1990</option>
															
															<option value="1989">1989</option>
															
															<option value="1988">1988</option>
															
															<option value="1987">1987</option>
															
															<option value="1986">1986</option>
															
															<option value="1985">1985</option>
															
															<option value="1984">1984</option>
															
															<option value="1983">1983</option>
															
															<option value="1982">1982</option>
															
															<option value="1981">1981</option>
															
															<option value="1980">1980</option>
															
															<option value="1979">1979</option>
															
															<option value="1978">1978</option>
															
															<option value="1977">1977</option>
															
															<option value="1976">1976</option>
															
															<option value="1975">1975</option>
															
															<option value="1974">1974</option>
															
															<option value="1973">1973</option>
															
															<option value="1972">1972</option>
															
															<option value="1971">1971</option>
															
															<option value="1970">1970</option>
															</select>
													</div>
												</div>
											</td>
										</tr>
										<tr>
											<td><label for="dt_option4"><div class="btn-default"><input name="dt_option" type="radio" value="phs" id="dt_option4"  onclick="DateChoice();"  />&nbsp;It was during a hunting season</div></label>
												<div id="dv_dt4" style="display:none"><label for="p_yyyy4">Select the hunting season:</label>
										  
														   <select name="p_yyyy4" id="p_yyyy4"  onchange="DupChkd=0;"  autocomplete="new_p_yyyy4" >

																			  
														   <option value=""></option>
																
																  <option value="2020">
																  Sept 2020 - March 2021</option>
																
																<option value="2019">
																Sept 2019 - March 2020</option>
																
																<option value="2018">
																Sept 2018 - March 2019</option>
																
																<option value="2017">
																Sept 2017 - March 2018</option>
																
																<option value="2016">
																Sept 2016 - March 2017</option>
																
																<option value="2015">
																Sept 2015 - March 2016</option>
																
																<option value="2014">
																Sept 2014 - March 2015</option>
																
																<option value="2013">
																Sept 2013 - March 2014</option>
																
																<option value="2012">
																Sept 2012 - March 2013</option>
																
																<option value="2011">
																Sept 2011 - March 2012</option>
																
																<option value="2010">
																Sept 2010 - March 2011</option>
																
																<option value="2009">
																Sept 2009 - March 2010</option>
																
																<option value="2008">
																Sept 2008 - March 2009</option>
																
																<option value="2007">
																Sept 2007 - March 2008</option>
																
																<option value="2006">
																Sept 2006 - March 2007</option>
																
																<option value="2005">
																Sept 2005 - March 2006</option>
																
																<option value="2004">
																Sept 2004 - March 2005</option>
																
																<option value="2003">
																Sept 2003 - March 2004</option>
																
																<option value="2002">
																Sept 2002 - March 2003</option>
																
																<option value="2001">
																Sept 2001 - March 2002</option>
																
																<option value="2000">
																Sept 2000 - March 2001</option>
																
																<option value="1999">
																Sept 1999 - March 2000</option>
																
																<option value="1998">
																Sept 1998 - March 1999</option>
																
																<option value="1997">
																Sept 1997 - March 1998</option>
																
																<option value="1996">
																Sept 1996 - March 1997</option>
																
																<option value="1995">
																Sept 1995 - March 1996</option>
																
																<option value="1994">
																Sept 1994 - March 1995</option>
																
																<option value="1993">
																Sept 1993 - March 1994</option>
																
																<option value="1992">
																Sept 1992 - March 1993</option>
																
																<option value="1991">
																Sept 1991 - March 1992</option>
																
																<option value="1990">
																Sept 1990 - March 1991</option>
																
																<option value="1989">
																Sept 1989 - March 1990</option>
																
																<option value="1988">
																Sept 1988 - March 1989</option>
																
																<option value="1987">
																Sept 1987 - March 1988</option>
																
																<option value="1986">
																Sept 1986 - March 1987</option>
																
																<option value="1985">
																Sept 1985 - March 1986</option>
																
																<option value="1984">
																Sept 1984 - March 1985</option>
																
																<option value="1983">
																Sept 1983 - March 1984</option>
																
																<option value="1982">
																Sept 1982 - March 1983</option>
																
																<option value="1981">
																Sept 1981 - March 1982</option>
																
																<option value="1980">
																Sept 1980 - March 1981</option>
																
																<option value="1979">
																Sept 1979 - March 1980</option>
																
																<option value="1978">
																Sept 1978 - March 1979</option>
																
																<option value="1977">
																Sept 1977 - March 1978</option>
																
																<option value="1976">
																Sept 1976 - March 1977</option>
																
																<option value="1975">
																Sept 1975 - March 1976</option>
																
																<option value="1974">
																Sept 1974 - March 1975</option>
																
																<option value="1973">
																Sept 1973 - March 1974</option>
																
																<option value="1972">
																Sept 1972 - March 1973</option>
																
																<option value="1971">
																Sept 1971 - March 1972</option>
																
																<option value="1970">
																Sept 1970 - March 1971</option>
																</select>
												</div>
											</td>
										</tr>
										<tr>
											<td><label for="dt_option5">
												<div class="btn-default"><input name="dt_option" type="radio" value="unknown" id="dt_option5"  onclick="DateChoice();"  />&nbsp;The date is entirely unknown
												</div></label>
											</td>
										</tr>
									</table>
								</div>
							</div>
						</div>
					</div> 
				</div>
				<br />
				<div class="row">
					<div class="col-sm-2"><div id="lbl23"><label for="p_comments1" id="lbl23z" >Comments (optional)</label></div></div>
					<div class="col-sm-10">
                    <div>
					<textarea name="p_comments1" onchange="SinchComment(1);" autocomplete="new_p_comments1" id="p_comments1" class="form-control form-control-sm" rows="3" ></textarea>
						<p class="form-control-static"><img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg8" onclick="popup('popUpDiv',8)" />Maximum 250 characters</p>
                        </div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12"><button type="button" class="btn btn-default" name="bk_btn2" id="bk_btn2" onclick="goAwayTab(2)"  title="Go Back">&lt;&lt;&nbsp;Go Back</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<button type="button" class="btn btn-primary" name="fw_btn2" value="" id="fw_btn2" onclick="if( document.getElementById('page_choice1').checked ){ goAwayTab(5); } else { goAwayTab(4); }" title="Continue">Continue&nbsp;&gt;&gt;</button>
					</div>
				</div>
			</div>
			<div class="TabbedPanelsContent">
				<div class="row">
					<div class="col-sm-12">
						<div id="marker_tab">
						<h4 align="center" class="style2">Please complete only those fields which describe the markers seen on the bird <img src="../images/helpBBL.png" title="Bird marker types" width="15" height="15" alt="Help" id="hpimg22" onclick="popup('popUpDiv',14)" /></h4>
						

<div class="row">
	<div class="col-sm-6">
    <table width="100%" border="0">
      <tr>
        <td width="10%" align="right" bgcolor="#FFF8C6" ><label for="was_neck" class="btn-default" style="color: RED; font-weight: bold; font-size: 16px;">&nbsp;&nbsp;1&nbsp;&nbsp;</label></td>
        <td  width="90%" bgcolor="#FFF8C6" align="left"><div class="btn-default">&nbsp;<input id="was_neck" type="checkbox" value="Y"  onclick="document.getElementById('neckInputs').style.display = 'block';  if (!this.checked) {p_code_neck.value=''; p_mk_color_neck.value=''; p_code_color_neck.value=''; document.getElementById('neckInputs').style.display = 'none'; }" /><label for="was_neck">&nbsp;Neck Collar&nbsp;</label></div>
        </td>
      </tr>
      <tr>
        <td colspan="2"><div id="neckInputs" class="style15">
          <table width="100%">
            <tr>
              <td width="28%"><label for="p_code_neck">Code (if any):</label></td>
              <td width="72%"><input name="p_code_neck" id="p_code_neck" type="text" autocomplete="off" size="7" maxlength="7" />
              <img src="../images/helpBBL.png" title="Code patterns examples" width="15" height="15" alt="Help" id="hpimg23" onclick="popup('popUpDiv',13)" />
              </td>
            </tr>
            <tr>
              <td nowrap="nowrap"><label for="p_mk_color_neck">Color of Marker:</label></td>
              <td colspan="2"><select name="p_mk_color_neck" autocomplete="off"  id="p_mk_color_neck" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select></td>
            </tr>
            <tr>
              <td><label for="p_code_color_neck">Color of Code:</label></td>
              <td>
              <select name="p_code_color_neck" autocomplete="off"  id="p_code_color_neck" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select>
              </td>
            </tr>
            
          </table></div>
       </td>
       </tr>
     </table>
	</div>
    <div class="col-sm-6">
       <table width="100%" border="0">
      <tr>
      <td width="10%" align="right" bgcolor="#FFF8C6" ><label for="was_legflag" class="btn-default"  style="color: RED; font-weight: bold; font-size: 16px;">&nbsp;&nbsp;2&nbsp;&nbsp;</label></td>
        <td  width="90%" bgcolor="#FFF8C6" align="left">
          <div class="btn-default">&nbsp;<input name="was_legflag" id="was_legflag" type="checkbox" value="Y"  onclick="document.getElementById('legflagInputs').style.display = 'block'; if (!this.checked) {p_code_legflag.value=''; p_mk_color_legflag.value=''; p_code_color_legflag.value=''; p_legflag_side.value=''; document.getElementById('legflagInputs').style.display = 'none'; }" /><label for="was_legflag">&nbsp;Leg Flag&nbsp;</label></div>
         </td>
      </tr>
      <tr>
        <td colspan="2"><div id="legflagInputs" class="style15">
          <table width="100%">
            <tr>
              <td width="28%"><label for="p_code_legflag">Code (if any):</label></td>
              <td width="72%"><input name="p_code_legflag" id="p_code_legflag" type="text" autocomplete="off" size="7" maxlength="7" /></td>
            </tr>
            <tr>
              <td width="28%"><label for="p_legflag_side">Which Leg:</label></td>
              <td width="72%"><select id="p_legflag_side" name="p_legflag_side" size="1">
                <option value="" selected="selected">Choose One</option>
                <option value="L">Left</option>
                <option value="R">Right</option>
                <option value="U">Unknown</option>
              </select></td>
            </tr>
            <tr>
              <td nowrap="nowrap"><label for="p_mk_color_legflag">Color of Marker:</label></td>
              <td colspan="2">
                <select name="p_mk_color_legflag" autocomplete="off"  id="p_mk_color_legflag" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select></td>
            </tr>
            <tr>
              <td><label for="p_code_color_legflag">Color of Code: </label></td>
              <td> 
              <select name="p_code_color_legflag" autocomplete="off"  id="p_code_color_legflag" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select>
              </td>
            </tr>
          </table>
        </div></td>
      </tr>
    </table>
	</div>
</div>
<div class="row">
	<div class="col-sm-6">
       <table width="100%" border="0">
      <tr><td width="10%" align="right" bgcolor="#FFF8C6"><label for="was_wing" class="btn-default" style="color: RED; font-weight: bold; font-size: 16px;" >&nbsp;&nbsp;3&nbsp;&nbsp;</label></td>
        <td width="90%" bgcolor="#FFF8C6"><div class="btn-default">&nbsp;<input name="was_wing" id="was_wing" type="checkbox" value="Y"  onclick="document.getElementById('wingInputs').style.display = 'block'; if (!this.checked) {p_code_wing.value=''; p_mk_color_wing.value=''; p_code_color_wing.value=''; p_wing_side.value=''; document.getElementById('wingInputs').style.display = 'none'; }" /><label for="was_wing">&nbsp;Wing Tag&nbsp;</label></div>
         </td>
        
      </tr>
      <tr>
        <td colspan="2"><div id="wingInputs" class="style15">
          <table>
            <tr>
              <td width="28%"><label for="p_code_wing">Code (if any):</label></td>
              <td width="72%"><input name="p_code_wing" id="p_code_wing" type="text" autocomplete="off" size="7" maxlength="7" /></td>
            </tr>
            <tr>
              <td width="28%"><label for="p_wing_side">Which Wing:</label></td>
              <td width="72%"><select id="p_wing_side" name="p_wing_side" size="1">
                <option value="" selected="selected">Choose One</option>
                <option value="L">Left</option>
                <option value="R">Right</option>
                <option value="B">Both</option>
                <option value="U">Unknown</option>
              </select></td>
            </tr>
            <tr>
              <td nowrap="nowrap"><label for="p_mk_color_wing">Color of Marker:</label></td>
              <td colspan="2"><select name="p_mk_color_wing" autocomplete="off"  id="p_mk_color_wing" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select></td>
            </tr>
            <tr>
              <td><label for="p_code_color_wing">Color of Code: </label></td>
              <td>
              <select name="p_code_color_wing" autocomplete="off"  id="p_code_color_wing" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select>
                           </td>
            </tr>
          </table>
        </div></td>
      </tr>
    </table>
	</div>
    <div class="col-sm-6">
       <table width="100%" border="0">
        <tr>
        <td width="10%" align="right" bgcolor="#FFF8C6" ><label for="was_tail" class="btn-default" style="color: RED; font-weight: bold; font-size: 16px;" >&nbsp;&nbsp;4&nbsp;&nbsp;</label></td>
          <td width="90%" bgcolor="#FFF8C6"  align="left"><div class="btn-default">&nbsp;<input name="was_tail" id="was_tail" type="checkbox" value="Y"  onclick="document.getElementById('tailInputs').style.display = 'block'; if (!this.checked) {p_mk_color_tail.value=''; document.getElementById('tailInputs').style.display = 'none'; }" /><label for="was_tail">&nbsp;Tail Streamer&nbsp;</label></div>
          </td>
          
        </tr>
        <tr>
          <td colspan="2" ><div id="tailInputs" class="style15">
            <table>
              <tr>
                <td width="28%" nowrap="nowrap"><label for="p_mk_color_tail">Color of Marker:</label></td>
                <td colspan="2">
                  <select name="p_mk_color_tail" autocomplete="off"  id="p_mk_color_tail" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select></td>
              </tr>
            </table>
          </div></td>
        </tr>
      </table>
	</div>
</div>
<div class="row">
	<div class="col-sm-6">
      <table width="100%" border="0" >
        <tr><td width="10%" align="right" bgcolor="#FFF8C6" ><label for="was_nose" class="btn-default" style="color: RED; font-weight: bold; font-size: 16px;">&nbsp;&nbsp;5&nbsp;&nbsp;</label></td>
          <td  width="90%"  bgcolor="#FFF8C6" nowrap="nowrap">
            <div class="btn-default">&nbsp;<input name="was_nose" id="was_nose" type="checkbox" value="Y"  onclick="document.getElementById('noseInputs').style.display = 'block'; if (!this.checked) {p_code_nose.value=''; p_mk_color_nose.value=''; p_code_color_nose.value=''; p_nose_shape.value=''; document.getElementById('noseInputs').style.display = 'none'; }" /><label for="was_nose">&nbsp;Nasal Saddle/Disk Nasal Marker&nbsp;</label></div></td>
          
        </tr>
        <tr>
          <td colspan="2"><div id="noseInputs" class="style15">
            <table width="100%">
              <tr>
                <td width="28%" align="left"><label for="p_code_nose">Code (if any):</label></td>
                <td width="72%" align="left"><input name="p_code_nose" id="p_code_nose" type="text" autocomplete="off" size="7" maxlength="7" /></td>
              </tr>
              <tr align="left">
                <td><label for="p_nose_shape">Marker Shape:</label></td>
                <td><select id="p_nose_shape" name="p_nose_shape" size="1">
                  <option value="" selected="selected">Choose One</option>
                  <option value="Saddle">Saddle</option>
                  <option value="Disk">Disk</option>
                  <option value="Triangle">Triangle</option>
                  <option value="Square">Square</option>
                  <option value="Star">Star</option>
                  <option value="Cross">Cross</option>
                  <option value="Other">Other explain in comments</option>
                </select></td>
              </tr>
              <tr>
                <td align="left" nowrap="nowrap"><label for="p_mk_color_nose">Color of Marker:</label></td>
                <td align="left" colspan="2"><select name="p_mk_color_nose" autocomplete="off"  id="p_mk_color_nose" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select></td>
              </tr>
              <tr align="left">
                <td><label for="p_code_color_nose">Color of Code: </label></td>
                <td><select name="p_code_color_nose" autocomplete="off"  id="p_code_color_nose" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select></td>
              </tr>
            </table>
          </div></td>
        </tr>
    </table>
	</div>
    <div class="col-sm-6">
     <table width="100%" border="0">
        <tr align="left">
        <td width="10%" align="right" bgcolor="#FFF8C6" ><label for="was_webtoe" class="btn-default"  style="color: red; font-weight: bold; font-size: 16px;">&nbsp;&nbsp;6&nbsp;&nbsp;</label></td>
          <td bgcolor="#FFF8C6"  valign="top" align="left" width="90%"><div class="btn-default">&nbsp;<input name="was_webtoe" id="was_webtoe" type="checkbox" value="Y"  onclick="document.getElementById('webtoeInputs').style.display = 'block'; if (!this.checked) {p_code_web.value=''; p_web_side.value=''; document.getElementById('webtoeInputs').style.display = 'none'; }" /><label for="was_webtoe">&nbsp;Web/Toe Tag&nbsp;</label></div>
           </td>
          
        </tr>
        <tr align="left">
          <td  colspan="2"><div id="webtoeInputs" class="style15">
            <table width="100%">
              <tr>
                <td width="34%" ><label for="p_code_web">Code (if any):</label></td>
                <td  width="66%"><input name="p_code_web" id="p_code_web" type="text" autocomplete="off" size="7" maxlength="7" /></td>
              </tr>
              <tr align="left">
                <td  ><label for="p_web_side">Which Leg:</label></td>
                <td ><select id="p_web_side" name="p_web_side" size="1">
                  <option value="" selected="selected">Choose One</option>
                  <option value="L">Left</option>
                  <option value="R">Right</option>
                  <option value="U">Unknown</option>
                </select></td>
              </tr>
            </table>
          </div></td>
        </tr>
      </table>
	</div>
</div>
<div class="row">
	<div class="col-sm-6">
      <div class="row">
	    <div class="col-sm-12">
          <table width="100%" border="0">
          <tr><td width="10%" align="right" bgcolor="#FFF8C6"  ><label for="was_ll1" class="btn-default" style="color: blue; font-weight: bold; font-size: 16px;">&nbsp;&nbsp;7a&nbsp;</label></td>
            <td  width="90%" bgcolor="#FFF8C6" ><div class="btn-default">&nbsp;<input name="was_ll1" id="was_ll1" type="checkbox" value="Y"  onclick="document.getElementById('ll1Inputs').style.display = 'block';  if (!this.checked) {p_code_ll1.value=''; p_mk_color_ll1.value=''; p_code_color_ll1.value=''; document.getElementById('ll1Inputs').style.display = 'none'; }" /><label for="was_ll1">&nbsp;Color Leg Band (Left or Unknown Leg) #1&nbsp;</label></div></td>
            
          </tr>
          <tr><td colspan="2"><div id="ll1Inputs" class="style15"><table><tr>
            <td width="28%"><label for="p_code_ll1">Code (if any):</label></td>
            <td width="72%"><input name="p_code_ll1" id="p_code_ll1" type="text" autocomplete="off" size="7" maxlength="7" />
            <img src="../images/helpBBL.png" title="Code patterns examples" width="15" height="15" alt="Help" id="hpimg24" onclick="popup('popUpDiv',13)" /></td>
          </tr>
          <tr>
            <td nowrap="nowrap"><label for="p_mk_color_ll1">Color of Marker:</label></td>
            <td colspan="2">
            <select name="p_mk_color_ll1" autocomplete="off"  id="p_mk_color_ll1" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
                          </td>
          </tr>
          <tr>
            <td><label for="p_code_color_ll1">Color of Code: </label></td>
            <td><select name="p_code_color_ll1" autocomplete="off"  id="p_code_color_ll1" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select>
            </td></tr></table></div></td>
          </tr>
        </table>
       </div>
      </div>
      <div class="row">
       <div class="col-sm-12">
         <table width="100%" border="0">
          <tr><td width="10%" align="right" bgcolor="#FFF8C6"  ><label for="was_ll2" class="btn-default" style="color: blue; font-weight: bold; font-size: 16px;">&nbsp;&nbsp;7b&nbsp;</label></td>
            <td  width="90%" bgcolor="#FFF8C6"><div class="btn-default">&nbsp;<input name="was_ll2" id="was_ll2" type="checkbox" value="Y"  onclick="document.getElementById('ll2Inputs').style.display = 'block'; if (!this.checked) {p_code_ll2.value=''; p_mk_color_ll2.value=''; p_code_color_ll2.value=''; document.getElementById('ll2Inputs').style.display = 'none'; }" /><label for="was_ll2">&nbsp;Color Leg Band (Left Leg) #2&nbsp;</label></div></td>
          </tr>
          <tr><td colspan="2"><div id="ll2Inputs" class="style15"><table><tr>
            <td width="28%"><label for="p_code_ll2">Code (if any):</label></td>
            <td width="72%"><input name="p_code_ll2" id="p_code_ll2" type="text" autocomplete="off" size="7" maxlength="7" />
            </td>
          </tr>
          <tr>
            <td nowrap="nowrap"><label for="p_mk_color_ll2">Color of Marker:</label></td>
            <td colspan="2">
            <select name="p_mk_color_ll2" autocomplete="off"  id="p_mk_color_ll2" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
            </td>
          </tr>
          <tr>
            <td><label for="p_code_color_ll2">Color of Code: </label></td>
            <td><select name="p_code_color_ll2" autocomplete="off"  id="p_code_color_ll2" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select>
            </td></tr></table></div></td>
          </tr>
        </table>
       </div>
      </div>
      <div class="row">
       <div class="col-sm-12">
         <table width="100%" border="0">
          <tr><td width="10%" align="right" bgcolor="#FFF8C6"  ><label for="was_ll3" class="btn-default" style="color: blue; font-weight: bold; font-size: 16px;">&nbsp;&nbsp;7c&nbsp;</label></td><td  width="90%"  bgcolor="#FFF8C6"><div class="btn-default">&nbsp;<input name="was_ll3" id="was_ll3" type="checkbox" value="Y"  onclick="document.getElementById('ll3Inputs').style.display = 'block'; if (!this.checked) {p_code_ll3.value=''; p_mk_color_ll3.value=''; p_code_color_ll3.value=''; document.getElementById('ll3Inputs').style.display = 'none'; }" /><label for="was_ll3">&nbsp;Color Leg Band (Left Leg) #3&nbsp;</label></div></td>
          </tr>
          <tr><td colspan="2"><div id="ll3Inputs" class="style15"><table><tr>
            <td width="28%"><label for="p_code_ll3">Code (if any):</label></td>
            <td width="72%"><input name="p_code_ll3" id="p_code_ll3" type="text" autocomplete="off" size="7" maxlength="7" />
            </td>
          </tr>
          <tr>
            <td nowrap="nowrap"><label for="p_mk_color_ll3">Color of Marker:</label></td>
            <td colspan="2"><select name="p_mk_color_ll3" autocomplete="off"  id="p_mk_color_ll3" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select></td>
          </tr>
          <tr>
            <td><label for="p_code_color_ll3">Color of Code: </label></td>
            <td><select name="p_code_color_ll3" autocomplete="off"  id="p_code_color_ll3" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select>
            </td></tr></table></div></td>
          </tr>
        </table>
       </div>
      </div>
	</div>
    <div class="col-sm-6">
      <div class="row">
	    <div class="col-sm-12">
          <table width="100%" border="0">
          <tr>
          <td width="10%" align="right" bgcolor="#FFF8C6"  ><label for="was_rl1" class="btn-default" style="color: green; font-weight: bold; font-size: 16px;">&nbsp;&nbsp;8a&nbsp;</label></td>
            <td  width="90%" bgcolor="#FFF8C6" align="left" nowrap="nowrap"><div class="btn-default">&nbsp;<input name="was_rl1" id="was_rl1" type="checkbox" value="Y"  onclick="document.getElementById('rl1Inputs').style.display = 'block';  if (!this.checked) {p_code_rl1.value=''; p_mk_color_rl1.value=''; p_code_color_rl1.value=''; document.getElementById('rl1Inputs').style.display = 'none'; }" /><label for="was_rl1">&nbsp;Color Leg Band (Right Leg) #1&nbsp;</label></div></td>
            
          </tr>
          <tr><td colspan="2"><div id="rl1Inputs" class="style15"><table width="100%"><tr>
            <td width="28%"><label for="p_code_rl1">Code (if any):</label></td>
            <td width="72%"><input name="p_code_rl1" id="p_code_rl1" type="text" autocomplete="off" size="7" maxlength="7" /><img src="../images/helpBBL.png" title="Code patterns examples" width="15" height="15" alt="Help" id="hpimg25" onclick="popup('popUpDiv',13)" />
            </td>
          </tr>
          <tr>
            <td nowrap="nowrap"><label for="p_mk_color_rl1">Color of Marker:</label></td>
            <td colspan="2">
            <select name="p_mk_color_rl1" autocomplete="off"  id="p_mk_color_rl1" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
            </td>
          </tr>
          <tr>
            <td><label for="p_code_color_rl1">Color of Code:</label></td>
            <td><select name="p_code_color_rl1" autocomplete="off"  id="p_code_color_rl1" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select>
            </td></tr></table></div></td>
          </tr>
        </table>
       </div>
      </div>
      <div class="row">
       <div class="col-sm-12">
          <table width="100%" border="0">
          <tr>
          <td width="10%" align="right" bgcolor="#FFF8C6"  ><label for="was_rl2" class="btn-default" style="color: green; font-weight: bold; font-size: 16px;">&nbsp;&nbsp;8b&nbsp;</label></td>
            <td  width="90%"  align="left" bgcolor="#FFF8C6" nowrap="nowrap"><div class="btn-default">&nbsp;<input name="was_rl2" id="was_rl2" type="checkbox" value="Y"  onclick="document.getElementById('rl2Inputs').style.display = 'block'; if (!this.checked) {p_code_rl2.value=''; p_mk_color_rl2.value=''; p_code_color_rl2.value=''; document.getElementById('rl2Inputs').style.display = 'none'; }" /><label for="was_rl2">&nbsp;Color Leg Band (Right Leg) #2&nbsp;</label></div></td>
            
          </tr>
          <tr><td colspan="2"><div id="rl2Inputs" class="style15"><table width="100%"><tr>
            <td width="28%"><label for="p_code_rl2">Code (if any):</label></td>
            <td width="72%"><input name="p_code_rl2" id="p_code_rl2" type="text" autocomplete="off" size="7" maxlength="7" />
            </td>
          </tr>
          <tr>
            <td nowrap="nowrap"><label for="p_mk_color_rl2">Color of Marker:</label></td>
            <td colspan="2">
            <select name="p_mk_color_rl2" autocomplete="off"  id="p_mk_color_rl2" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
                          </td>
          </tr>
          <tr>
            <td ><label for="p_code_color_rl2">Color of Code: </label></td>
            <td><select name="p_code_color_rl2" autocomplete="off"  id="p_code_color_rl2" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select>
            </td></tr></table></div></td>
          </tr>
        </table>
       </div>
      </div>
      <div class="row">
       <div class="col-sm-12">
         <table width="100%" border="0">
          <tr>
          <td width="10%" align="right" bgcolor="#FFF8C6" ><label for="was_rl3" class="btn-default" style="color: green; font-weight: bold; font-size: 16px;" >&nbsp;&nbsp;8c&nbsp;</label></td>
            <td width="90%"  align="left" valign="top" bgcolor="#FFF8C6" nowrap="nowrap"><label for="was_rl3"><div class="btn-default">&nbsp;<input name="was_rl3" id="was_rl3" type="checkbox" value="Y"  onclick="document.getElementById('rl3Inputs').style.display = 'block'; if (!this.checked) {p_code_rl3.value=''; p_mk_color_rl3.value=''; p_code_color_rl3.value=''; document.getElementById('rl3Inputs').style.display = 'none'; }" />&nbsp;Color Leg Band (Right Leg) #3&nbsp;</div></label></td>
            
          </tr>
          <tr><td colspan="2"><div id="rl3Inputs" class="style15"><table width="100%"><tr>
            <td width="28%"><label for="p_code_rl3">Code (if any):</label></td>
            <td width="72%"><input name="p_code_rl3" id="p_code_rl3" type="text" autocomplete="off" size="7" maxlength="7" />
            </td>
          </tr>
          <tr>
            <td nowrap="nowrap"><label for="p_mk_color_rl3">Color of Marker:</label></td>
            <td colspan="2">
            <select name="p_mk_color_rl3" autocomplete="off"  id="p_mk_color_rl3" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
                          </td>
          </tr>
          <tr>
            <td><label for="p_code_color_rl3">Color of Code: </label></td>
            <td><select name="p_code_color_rl3" autocomplete="off"  id="p_code_color_rl3" >
    <option value=""> Choose Color</option>
    <option value="5">White</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="13">Silver</option>
    <option value="1">Red</option>
    <option value="2">Yellow</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
</select>
            </td></tr></table></div></td>
          </tr>
        </table>
       </div>
      </div>
	</div>
</div>
<div class="row">
	<div class="col-sm-6">
    <table width="100%" border="0">
      <tr><td width="10%" align="right" bgcolor="#FFF8C6" style="color: RED; font-weight: bold; font-size: 16px;" >
    
      </td>
      <td width="90%" bgcolor="#FFF8C6"><div class="btn-default">&nbsp;<input name="was_dye" id="was_dye" type="checkbox" value="Y"  onclick="document.getElementById('dyeInputs').style.display = 'block'; if (!this.checked) {p_color_dye_head.value=''; p_color_dye_back.value=''; p_color_dye_tail.value=''; p_color_dye_breast.value=''; p_color_dye_wing.value=''; document.getElementById('dyeInputs').style.display = 'none'; }" />
       <label for="was_dye">&nbsp;There was a dye on this bird.&nbsp;</label></div>
      </td>
     </tr>
     <tr>
        <td colspan="2"><div id="dyeInputs" class="style15">
           <div class="row">
	         <div class="col-sm-4">
               <label for="p_color_dye_head">Head dye (if any):</label>
             </div>
             <div class="col-sm-8">
                <select name="p_color_dye_head" autocomplete="off"  id="p_color_dye_head" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
             </div>
           </div>
           <div class="row">
	         <div class="col-sm-4">
               <label for="p_color_dye_back">Back dye (if any):</label>
             </div>
             <div class="col-sm-8">
                <select name="p_color_dye_back" autocomplete="off"  id="p_color_dye_back" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
             </div>
           </div>
           <div class="row">
	         <div class="col-sm-4">
               <label for="p_color_dye_breast">Breast dye (if any):</label>
             </div>
             <div class="col-sm-8">
                <select name="p_color_dye_breast" autocomplete="off"  id="p_color_dye_breast" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
             </div>
           </div>
           <div class="row">
	         <div class="col-sm-4">
               <label for="p_color_dye_wing">Wing dye (if any):</label>
             </div>
             <div class="col-sm-8">
                <select name="p_color_dye_wing" autocomplete="off"  id="p_color_dye_wing" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
             </div>
           </div>
           <div class="row">
	         <div class="col-sm-4">
               <label for="p_color_dye_tail">Tail dye (if any):</label>
             </div>
             <div class="col-sm-8">
                <select name="p_color_dye_tail" autocomplete="off"  id="p_color_dye_tail" >
    <option value=""> Choose Color</option>
    <option value="25">Aqua</option>
    <option value="6">Black</option>
    <option value="3">Blue</option>
    <option value="12">Brown</option>
    <option value="19">Dark Blue</option>
    <option value="21">Dark Green</option>
    <option value="11">Gold</option>
    <option value="8">Gray</option>
    <option value="4">Green</option>
    <option value="23">Hot Pink</option>
    <option value="10">Lavender</option>
    <option value="18">Light Blue</option>
    <option value="20">Light Green</option>
    <option value="22">Light Pink</option>
    <option value="15">Magenta</option>
    <option value="16">Mauve</option>
    <option value="99">Multi-color &#x28;explain in comments&#x29;</option>
    <option value="7">Orange</option>
    <option value="17">Other &#x28;explain in comments&#x29;</option>
    <option value="14">Pink</option>
    <option value="9">Purple</option>
    <option value="1">Red</option>
    <option value="13">Silver</option>
    <option value="5">White</option>
    <option value="2">Yellow</option>
</select>
             </div>
           </div>
          </div>   
          </td>
          </tr>
          </table>
        
        
	</div>
    <div class="col-sm-6">
       <table border="0" width="100%">
  	    <tr>
          <td width="10%" align="right" bgcolor="#FFF8C6" style="color: RED; font-weight: bold; font-size: 16px;" >
    
          </td><td colspan="1" width="90%" valign="top"  bgcolor="#FFF8C6"><div class="btn-default">&nbsp;<input name="electronic_device" id="electronic_device" type="checkbox" value="Y"  onclick="document.getElementById('radioInputs').style.display = 'block'; if (!this.checked) {p_device_bodypart.value=''; p_device_type.value=''; document.getElementById('radioInputs').style.display = 'none'; }" /><label for="electronic_device">&nbsp;Electronic device (any)&nbsp;</label></div></td>
        </tr>
        <tr><td colspan="2" valign="top" align="center"><div id="radioInputs" class="style15">
               <div class="row">
                 <div class="col-sm-6">
                   <label for="p_device_type">Specify the device type:</label><br />
	<select id="p_device_type" name="p_device_type" size="5"  onchange="if ( ! this.value=='') electronic_device.checked=true;">
      <option value="PIT tag">PIT tag</option>
      <option value="Satellite/Cell/GPS Transmitter">Satellite/Cell/GPS Transmitter</option>
      <option value="Radio Transmitter">Radio Transmitter</option>
      <option value="Data Logger">Data Logger</option>
      <option value="">Undefined</option>
    </select>
                 </div>
                 <div class="col-sm-6">
                   <label for="p_device_bodypart">Where it was(is) attached: </label><br />
      <select id="p_device_bodypart" name="p_device_bodypart" size="7"  onchange="if ( ! this.value=='') electronic_device.checked=true;">
      <option value="Neck">Neck</option>
      <option value="Leg">Leg</option>
      <option value="Back">Back</option>
      <option value="Tail">Tail</option>
	  <option value="D">Surgical implant</option>
      <option value="E">Subcutaneous</option>
      <option value="">Undefined</option>
    </select>
                 </div>
               </div>
                </div></td>
  </tr>
       </table>
	</div>
</div>

 
						 <div class="alert-info">
                         The option to report additional marked birds will be available upon submission of this report. Please complete a separate report for each marked bird seen.
                         </div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12" style="alignment-adjust:central">
						<div id="nomarker_tab" style="display:none"><h3 align="center" class="style2">No auxiliary marker to be reported</h3>
						Click "Continue" to continue.<br> 
						If the bird did have an auxiliary marker <a href="javascript: document.getElementById('page_choice2').click(); "> click here</a>
						 
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<div id="marker_comment_td"><label for="p_comments2">Comments (optional)</label> 
					  <textarea name="p_comments2" id="p_comments2" class="form-control form-control-sm" rows="3" maxlength="250" onchange="SinchComment(2);" autocomplete="new_p_comments2"></textarea>Maximum 250 characters<br /> 
						If the bird did not have an auxiliary marker <a href="javascript: document.getElementById('page_choice1').click(); "> click here</a>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12"><button type="button" class="btn btn-default" name="bk_btn3" id="bk_btn3" onclick="goAwayTab(3)"  title="Go Back">&lt;&lt;&nbsp;Go Back</button> &nbsp;&nbsp;&nbsp;&nbsp;
					  <button type="button" class="btn btn-primary" name="fw_btn3" id="fw_btn3" onclick="goAwayTab(5)" title="Continue">Continue&nbsp;&gt;&gt;</button>
					 </div>
				</div>
			</div>
			<div class="TabbedPanelsContent">
	
				<div class="row">
					<div class="col-sm-12">
						 <label>Please select the country and state/province of your encounter</label>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						 <label for="p_enc_cntry" id="lbl9" >Country:&nbsp;&nbsp;</label>
						
								<select name="p_enc_cntry" id="p_enc_cntry"  class="form-control form-control-sm"  onchange="mycountycode='';mystatecode='';getStates(this.options[this.selectedIndex].value);document.enc_rec.p_enc_town.value='';citylookup.clearCache();WMAlookup.clearCache();document.enc_rec.p_miles.value=0;document.enc_rec.p_dir.value='';getCentroid(this.value,'00','000');tobemapped=true;"  autocomplete="new_enc_cntry" >
    <option value="US">United States</option>
    <option value="CA">Canada</option>
    <option value="MX">Mexico</option>
    <option value="AF">Afghanistan</option>
    <option value="AL">Albania</option>
    <option value="AG">Algeria</option>
    <option value="AN">Andorra</option>
    <option value="AO">Angola</option>
    <option value="AV">Anguilla</option>
    <option value="AY">Antarctica</option>
    <option value="AC">Antigua And Barbuda</option>
    <option value="AR">Argentina</option>
    <option value="AM">Armenia</option>
    <option value="AA">Aruba</option>
    <option value="AT">Ashmore and Cartier Islands</option>
    <option value="94">AT SEA</option>
    <option value="AS">Australia</option>
    <option value="AU">Austria</option>
    <option value="AJ">Azerbaijan</option>
    <option value="BF">Bahamas, The</option>
    <option value="BA">Bahrain</option>
    <option value="BG">Bangladesh</option>
    <option value="BB">Barbados</option>
    <option value="BS">Bassas da India</option>
    <option value="BO">Belarus</option>
    <option value="BE">Belgium</option>
    <option value="BH">Belize</option>
    <option value="BN">Benin</option>
    <option value="BD">Bermuda</option>
    <option value="BT">Bhutan</option>
    <option value="BL">Bolivia</option>
    <option value="BK">Bosnia and Herzegovina</option>
    <option value="BC">Botswana</option>
    <option value="BV">Bouvet Island</option>
    <option value="BR">Brazil</option>
    <option value="IO">British Indian Ocean Territory</option>
    <option value="VI">British Virgin Islands</option>
    <option value="BX">Brunei</option>
    <option value="BU">Bulgaria</option>
    <option value="UV">Burkina</option>
    <option value="BM">Burma</option>
    <option value="BY">Burundi</option>
    <option value="CB">Cambodia</option>
    <option value="CM">Cameroon</option>
    <option value="CV">Cape Verde</option>
    <option value="CJ">Cayman Islands</option>
    <option value="CT">Central African Republic</option>
    <option value="CD">Chad</option>
    <option value="CI">Chile</option>
    <option value="CH">China</option>
    <option value="KT">Christmas Island</option>
    <option value="IP">Clipperton Island</option>
    <option value="CK">Cocos &#x28;Keeling&#x29; Islands</option>
    <option value="CO">Colombia</option>
    <option value="CN">Comoros</option>
    <option value="CG">Congo</option>
    <option value="CW">Cook Islands</option>
    <option value="CR">Coral Sea Islands</option>
    <option value="CS">Costa Rica</option>
    <option value="IV">Cote D&#x27;Ivoire</option>
    <option value="HR">Croatia</option>
    <option value="CU">Cuba</option>
    <option value="CY">Cyprus</option>
    <option value="EZ">Czech Republic</option>
    <option value="DA">Denmark</option>
    <option value="DJ">Djibouti</option>
    <option value="DO">Dominica</option>
    <option value="DR">Dominican Republic</option>
    <option value="TT">East Timor</option>
    <option value="EC">Ecuador</option>
    <option value="EG">Egypt</option>
    <option value="ES">El Salvador</option>
    <option value="EK">Equatorial Guinea</option>
    <option value="ER">Eritrea</option>
    <option value="EN">Estonia</option>
    <option value="ET">Ethiopia</option>
    <option value="EU">Europa Island</option>
    <option value="FK">Falkland Islands &#x28;Islas Malvinas&#x29;</option>
    <option value="FO">Faroe Islands</option>
    <option value="FM">Federated States Of Micronesia</option>
    <option value="FJ">Fiji</option>
    <option value="FI">Finland</option>
    <option value="FR">France</option>
    <option value="FG">French Guiana</option>
    <option value="FP">French Polynesia</option>
    <option value="FS">French Southern and Antarctic Lands</option>
    <option value="GB">Gabon</option>
    <option value="GA">Gambia, The</option>
    <option value="GZ">Gaza Strip</option>
    <option value="GG">Georgia</option>
    <option value="GM">Germany</option>
    <option value="GH">Ghana</option>
    <option value="GI">Gibraltar</option>
    <option value="GO">Glorioso Islands</option>
    <option value="GR">Greece</option>
    <option value="GL">Greenland</option>
    <option value="GJ">Grenada</option>
    <option value="GP">Guadeloupe</option>
    <option value="GT">Guatemala</option>
    <option value="GK">Guernsey</option>
    <option value="GV">Guinea</option>
    <option value="PU">Guinea-Bissau</option>
    <option value="GY">Guyana</option>
    <option value="HA">Haiti</option>
    <option value="HM">Heard Island and Mcdonald Islands</option>
    <option value="HO">Honduras</option>
    <option value="HK">Hong Kong</option>
    <option value="HU">Hungary</option>
    <option value="IC">Iceland</option>
    <option value="IN">India</option>
    <option value="ID">Indonesia</option>
    <option value="IR">Iran</option>
    <option value="IZ">Iraq</option>
    <option value="EI">Ireland</option>
    <option value="IS">Israel</option>
    <option value="IT">Italy</option>
    <option value="JM">Jamaica</option>
    <option value="JN">Jan Mayen</option>
    <option value="JA">Japan</option>
    <option value="JE">Jersey</option>
    <option value="JQ">Johnston Atoll</option>
    <option value="JO">Jordan</option>
    <option value="JU">Juan de Nova Island</option>
    <option value="KZ">Kazakhstan</option>
    <option value="KE">Kenya</option>
    <option value="KR">Kiribati</option>
    <option value="KU">Kuwait</option>
    <option value="KG">Kyrgyzstan</option>
    <option value="LA">Laos</option>
    <option value="LG">Latvia</option>
    <option value="LE">Lebanon</option>
    <option value="LT">Lesotho</option>
    <option value="LI">Liberia</option>
    <option value="LY">Libya</option>
    <option value="LS">Liechtenstein</option>
    <option value="LH">Lithuania</option>
    <option value="LU">Luxembourg</option>
    <option value="MC">Macau</option>
    <option value="MK">Macedonia</option>
    <option value="MA">Madagascar</option>
    <option value="MI">Malawi</option>
    <option value="MY">Malaysia</option>
    <option value="MV">Maldives</option>
    <option value="ML">Mali</option>
    <option value="MT">Malta</option>
    <option value="IM">Man, Isle of</option>
    <option value="RM">Marshall Islands</option>
    <option value="MB">Martinique</option>
    <option value="MR">Mauritania</option>
    <option value="MP">Mauritius</option>
    <option value="MF">Mayotte</option>
    <option value="MD">Moldova</option>
    <option value="MN">Monaco</option>
    <option value="MG">Mongolia</option>
    <option value="MJ">Montenegro</option>
    <option value="MH">Montserrat</option>
    <option value="MO">Morocco</option>
    <option value="MZ">Mozambique</option>
    <option value="WA">Namibia</option>
    <option value="NR">Nauru</option>
    <option value="NP">Nepal</option>
    <option value="NL">Netherlands</option>
    <option value="NT">Netherlands Antilles</option>
    <option value="NC">New Caledonia</option>
    <option value="NZ">New Zealand</option>
    <option value="NU">Nicaragua</option>
    <option value="NG">Niger</option>
    <option value="NI">Nigeria</option>
    <option value="NE">Niue</option>
    <option value="NF">Norfolk Island</option>
    <option value="KN">North Korea</option>
    <option value="CQ">Northern Mariana Islands</option>
    <option value="NO">Norway</option>
    <option value="MU">Oman</option>
    <option value="PK">Pakistan</option>
    <option value="WE">Palestine</option>
    <option value="PM">Panama</option>
    <option value="PP">Papua New Guinea</option>
    <option value="PF">Paracel Islands</option>
    <option value="PA">Paraguay</option>
    <option value="PE">Peru</option>
    <option value="RP">Philippines</option>
    <option value="PC">Pitcairn Islands</option>
    <option value="PL">Poland</option>
    <option value="PO">Portugal</option>
    <option value="QA">Qatar</option>
    <option value="CF">Republic of the Congo</option>
    <option value="RE">Reunion</option>
    <option value="RO">Romania</option>
    <option value="RS">Russia</option>
    <option value="RW">Rwanda</option>
    <option value="SM">San Marino</option>
    <option value="TP">Sao Tome and Principe</option>
    <option value="SA">Saudi Arabia</option>
    <option value="SG">Senegal</option>
    <option value="RB">Serbia</option>
    <option value="YI">Serbia and Montenegro</option>
    <option value="SE">Seychelles</option>
    <option value="SL">Sierra Leone</option>
    <option value="SN">Singapore</option>
    <option value="LO">Slovakia</option>
    <option value="SI">Slovenia</option>
    <option value="BP">Solomon Islands</option>
    <option value="SO">Somalia</option>
    <option value="SF">South Africa</option>
    <option value="SX">South Georgia and The South Sandwich Islands</option>
    <option value="KS">South Korea</option>
    <option value="OD">South Sudan</option>
    <option value="SP">Spain</option>
    <option value="PG">Spratly Islands</option>
    <option value="CE">Sri Lanka</option>
    <option value="SH">St. Helena</option>
    <option value="SC">St. Kitts and Nevis</option>
    <option value="ST">St. Lucia</option>
    <option value="SB">St. Pierre And Miquelon</option>
    <option value="VC">St. Vincent and The Grenadines</option>
    <option value="SU">Sudan</option>
    <option value="NS">Suriname</option>
    <option value="SV">Svalbard</option>
    <option value="WZ">Swaziland</option>
    <option value="SW">Sweden</option>
    <option value="SZ">Switzerland</option>
    <option value="SY">Syria</option>
    <option value="TW">Taiwan</option>
    <option value="TI">Tajikistan</option>
    <option value="TZ">Tanzania</option>
    <option value="TH">Thailand</option>
    <option value="TO">Togo</option>
    <option value="TL">Tokelau</option>
    <option value="TN">Tonga</option>
    <option value="TD">Trinidad And Tobago</option>
    <option value="TE">Tromelin Island</option>
    <option value="PS">Trust Territory of the Pacific Islands &#x28;Palau&#x29;</option>
    <option value="TS">Tunisia</option>
    <option value="TU">Turkey</option>
    <option value="TX">Turkmenistan</option>
    <option value="TK">Turks and Caicos Islands</option>
    <option value="TV">Tuvalu</option>
    <option value="UG">Uganda</option>
    <option value="UP">Ukraine</option>
    <option value="AE">United Arab Emirates</option>
    <option value="UK">United Kingdom</option>
    <option value="00">UNKNOWN</option>
    <option value="UY">Uruguay</option>
    <option value="UZ">Uzbekistan</option>
    <option value="NH">Vanuatu</option>
    <option value="VT">Vatican City</option>
    <option value="VE">Venezuela</option>
    <option value="VM">Vietnam</option>
    <option value="WF">Wallis and Futuna</option>
    <option value="WI">Western Sahara</option>
    <option value="WS">Western Samoa</option>
    <option value="YM">Yemen</option>
    <option value="ZA">Zambia</option>
    <option value="ZI">Zimbabwe</option>
</select>
						   
					</div>
				</div>       
                    
				<div class="row">
					<div class="col-sm-12">
						<div id="lbl10"><label for="p_enc_state">State/Province:&nbsp;</label>
						
							<select name="p_enc_state" id="p_enc_state"  class="form-control form-control-sm"  onchange="mycountycode='';getCounties(document.enc_rec.p_enc_cntry.value,this.options[this.selectedIndex].value); document.enc_rec.p_enc_town.value='';citylookup.clearCache();WMAlookup.clearCache();document.enc_rec.p_miles.value=0;document.enc_rec.p_dir.value='';getCentroid(document.enc_rec.p_enc_cntry.value,this.options[this.selectedIndex].value,'000');tobemapped=true;"  autocomplete="new_p_enc_state" >

								<option value="00">--</option>
						   </select>
						 &nbsp;
						 <div>
						 <button type="button" class="btn btn-default"  name="bk_btn41" id="bk_btn41" onclick="if(document.getElementById('page_choice1').checked){goAwayTab(3);} else {goAwayTab(4);}"  title="Go Back">&lt;&lt;&nbsp;Go Back</button>&nbsp;&nbsp;&nbsp;&nbsp;
						<button type="button" class="btn btn-primary" onclick="contin2loc();" id="fw_btn41" title="Continue">Continue&nbsp;&gt;&gt;</button>
						</div>
						</div>
					</div>
				</div>
				<div id="loc_choices_div">        
					<div id="all_loc_flds_dv" style="display:none">        
						<div class="row">
							<div class="col-sm-12" id="lbl22">
												<div id="choose_loc_opt" class="alert-success" style="display:block">Please complete one of the following options to describe the encounter location:
												</div>
							
							</div>
						</div>     
						<div class="row">
							<div class="col-sm-12">
							   <div id="reset_loc_opt" style="display:none"><input type="button" class="btn btn-info" onclick="ResetLocOpt();" value="Show All Location Options" />
							   </div>
							</div>
						</div>     
						<div class="row">
							<div class="col-sm-12" id="lo2"><label for="loc_choice2" class="btn-default">&nbsp;<input type="radio" id="loc_choice2" name="loc_choice" value="w" onclick="LocInput(this.value);" />&nbsp;Wildlife Refuge/Management Area, Park, etc.&nbsp;</label>
							   <div id="WMA_dv" style="display:none">
									<div class="row">
										<div class="col-sm-12">Type the area name below, click "Map It" to place the marker on the map, then drag and drop the red marker to pinpoint the exact encounter location. Coordinates will be determined from the marker position on the map.
										</div>
									</div>
									<div class="row">
										<div class="col-sm-5">
										<div><input name="p_loc_desc_wma" type="text" maxlength="100"  onchange="removeInvalidChars(this);tobemapped=true;"  autocomplete="new_p_loc_wma"  size="70"  title="Wildlife Refuge/Management Area/Park Name"  id="p_loc_desc_wma"  class="form-control form-control-sm"  onfocus="onSuggestFieldFocus(WMAlookup);tobemapped=true;"  onblur="removeInvalidChars(this);tobemapped=true;" />    </div>
										</div>
										<div class="col-sm-7">
										
										<div><input type="button" id="geonames_btn5" onclick="target_tab=4; GetGeonamesRecs(5);" value="Map It" class="btn btn-info" /></div>
										</div>
									</div>
								</div>       
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<div id="lo3"><label for="loc_choice3" class="btn-default">&nbsp;<input type="radio" id="loc_choice3" name="loc_choice" value="a" onclick="LocInput(this.value);" />&nbsp;Street Address of Encounter Location&nbsp;</label>
								</div>
								<div id="loc_addr_tbl" style="display:none">
									<div class="row">
										<div class="col-sm-12">Type the address below, click "Map It" to place the marker on the map. You may drag and drop the red marker to pinpoint the exact encounter location. Coordinates will be determined from the marker position on the map.
										</div>
									</div>
									<div class="row">
										<div class="col-sm-5">   
										  <div> 
										  <input name="p_loc_desc_a" type="text" maxlength="100"  onchange="removeInvalidChars(this);tobemapped=true;"  autocomplete="new_p_loc_desc_a"  size="70"  title="Address, where you encoutered the bird"  id="p_loc_desc_a"  class="form-control form-control-sm"  /> </div>
										</div>
										<div class="col-sm-7">   
											<div><input type="button" id="geonames_btn6" onclick="target_tab=4; GetGeonamesRecs(2);" value="Map It" class="btn btn-info" /></div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<div id="lo4"><label for="loc_choice4" class="btn-default">&nbsp;<input type="radio" id="loc_choice4" name="loc_choice" value="d" onclick="LocInput(this.value);" />&nbsp;Description (town/place, county, etc.)&nbsp;</label>
								</div>
								<div class="row" id="city_dv" style="display:none">
									<div class="col-sm-12">
										<div class="row">
											<div class="col-sm-2" id="lbl11">
												<div id="cnty_td1"><label for="p_enc_cnty">County of nearest town:</label> 
												</div>
											</div>
											<div class="col-sm-10">
												<div id="cnty_td2"><select name="p_enc_cnty" id="p_enc_cnty"  onchange=" document.enc_rec.p_enc_town.value='';citylookup.clearCache();WMAlookup.clearCache();document.enc_rec.p_miles.value=0;document.enc_rec.p_dir.value='';getCentroid(document.enc_rec.p_enc_cntry.value,document.enc_rec.p_enc_state.value,this.options[this.selectedIndex].value);tobemapped=true;"  autocomplete="new_p_enc_cnty" >
 
														<option value="000">--</option>
													  </select>
												</div>
											</div>
										</div>
										<div class="row">
										   <div class="col-sm-2"><div id="lbl12"><label for="p_enc_town">Nearest Town:</label></div>
										   </div>
										   <div class="col-sm-10">
											 <div id="hpimg12"><input name="p_enc_town" type="text" maxlength="100"  onchange="trimTxt(this);tobemapped=true;"  autocomplete="new_p_enc_town"  size="25"  id="p_enc_town"  onfocus="onSuggestFieldFocus(citylookup);tobemapped=true;"  onblur="trimTxt(this);tobemapped=true;" />
												  <img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg9" onclick="popup('popUpDiv',9)" /></div>
										   </div>
										</div>
										<div class="row">
											<div class="col-sm-2"><div id="lbl13"><label for="p_miles">Distance from Town:</label> </div>
											</div>
											<div class="col-sm-10"><div>
                   <input name="p_miles" type="number" maxlength="5"  min="0"  onchange="tobemapped=true; if(this.value!='' && isNaN(Number(this.value)) ){
              alert('Please enter only whole or decimal values for the distance\n(for example, values like 3 or 3.5 are o.k. but 3 1/2 is not acceptable)'); this.focus(); this.select();}"  autocomplete="new_p_miles"  max="99.9"  size="5"  step="0.1"  id="p_miles"  onfocus="this.select();"  />
      
          <label for="miles_km1" class="btn-default">&nbsp;<input name="miles_km" id="miles_km1" type="radio" value="miles" checked="checked" onclick="tobemapped=true;">&nbsp;Miles&nbsp;</label>&nbsp;<label for="miles_km2" class="btn-default">&nbsp;<input name="miles_km" id="miles_km2" type="radio" value="km" onclick="tobemapped=true;">&nbsp;Kilometers&nbsp;</label></div>
    
											</div>
										</div>
                 
										<div class="row">
										   <div class="col-sm-2"><div id="lbl14"><label for="p_dir">Direction from Town:</label></div>
										   </div>
										   <div class="col-sm-10">
											<select name="p_dir" id="p_dir"  onchange="tobemapped=true;"  autocomplete="new_p_dir" >
    <option value="E">E</option>
    <option value="ENE">ENE</option>
    <option value="ESE">ESE</option>
    <option value="N">N</option>
    <option value="NE">NE</option>
    <option value="NNE">NNE</option>
    <option value="NNW">NNW</option>
    <option value="NW">NW</option>
    <option value="S">S</option>
    <option value="SE">SE</option>
    <option value="SSE">SSE</option>
    <option value="SSW">SSW</option>
    <option value="SW">SW</option>
    <option value="W">W</option>
    <option value="WNW">WNW</option>
    <option value="WSW">WSW</option>

												  <option value="" selected></option>
												  </select>
										   </div>
										</div>
                 
										<div class="row">
										   <div class="col-sm-2"><div id="lbl15">   
												  <label for="p_loc_desc">Location Description (optional):</label></div>
										   </div>
										   <div class="col-sm-10"><div>
										   <input name="p_loc_desc" type="text" maxlength="100"  class="form-control form-control-sm"  id="p_loc_desc"  onchange="removeInvalidChars(this);tobemapped=true;"  autocomplete="new_p_loc_desc"  />  <img src="../images/helpBBL.png" width="15" height="15" alt="Help" id="hpimg10" onclick="popup('popUpDiv',10)" /></div>
										  
										   </div>
										</div>
										<div class="row">
										   <div class="col-sm-12">
										   <div><input type="button" id="geonames_btn4" value="Map It"  onclick="target_tab=4; GetGeonamesRecs(3);" class="btn btn-info" /></div>
										   </div>
										</div>
                 
									</div>
								</div>
         	
							</div>
						</div>
					    <div class="row">
							<div class="col-sm-12">
								<div id="lo5"><label for="loc_choice5" class="btn-default">&nbsp;<input type="radio" id="loc_choice5" name="loc_choice" value="m" onclick="LocInput(this.value);document.getElementById('mapCanvas').style.display = 'block'; document.getElementById('gmap_disclaim').style.display='block';google.maps.event.trigger(map,'resize'); map.setCenter(latLng);infoWind.open(map,marker);" />&nbsp;Find it on a map&nbsp;</label>
								</div>
							</div>
					    </div> 
						<div class="row">
							<div class="col-sm-12">
								<div id="lo1"><label for="loc_choice1" class="btn-default">&nbsp;<input type="radio" id="loc_choice1" name="loc_choice" value="c" 
                                  onclick="LocInput(this.value);" />&nbsp;Coordinates&nbsp;</label>
								</div>     
								<div class="row">
									<div class="col-sm-12" id="loc_coord_tbl" style="display:none">
										<div id="reset_coord_opt" style="display:none"><input type="button" onclick="ResetCoordOpt();" value="Show All Coordinates options"  class="btn btn-info" />
										</div>
										<div class="alert-success" id="coord_infoPanel">Choose preferred format
										</div>
										<div id="co1"><label for="coord_option1" class="btn-default">&nbsp;<input name="coord_option" type="radio" value="1" id="coord_option1"  onclick="CoordInput(this.value);"  />&nbsp;Degrees, Minutes, Seconds&nbsp;</label>
										</div>
										<div id="coord_inputs_d1" class="table-responsive" style="display:none">
											<table border="1" cellpadding="2" cellspacing="4">
												<tr>
													<td nowrap="nowrap"><label for="lat_dms_degrees">Latitude</label><br />
														<table>
															<tr>
																<td>
																	<input name="lat_dms_degrees" type="text" maxlength="2"  onchange="CalculateCoord();"  autocomplete="new_lat_dms_degrees"  size="2"  length="2"  id="lat_dms_degrees"  onfocus="this.select()"  />&deg;
																</td>
																<td>
																	<input name="lat_dms_minutes" type="text" maxlength="2"  onchange="CalculateCoord();"  autocomplete="new_lat_dms_minutes"  size="2"  length="2"  id="lat_dms_minutes"  onfocus="this.select()"  />&prime;
																</td>
																<td>
																	<input name="lat_dms_seconds" type="text" maxlength="2"  onchange="CalculateCoord();"  autocomplete="new_lat_dms_seconds"  size="2"  length="2"  id="lat_dms_seconds"  onfocus="this.select()"  />&Prime;
																</td>
															</tr>
															<tr align="center">
																<td><label for="lat_dms_degrees">Deg</label></td>
																<td><label for="lat_dms_minutes">Min</label></td>
																<td><label for="lat_dms_seconds">Sec</label></td>
															</tr>
														</table>
													</td> 
													<td valign="top" align="center" nowrap="nowrap"><label for="lat_dir_dms1" class="btn-default">N<br>
														<input name="lat_dir_dms" type="radio" value="N" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="N"  id="lat_dir_dms1"  checked="checked"  />
														</label><br>
														<label for="lat_dir_dms2" class="btn-default"><input name="lat_dir_dms" type="radio" value="S" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="S"  id="lat_dir_dms2"  /><br />S</label>
													</td>
													<td nowrap="nowrap"><label for="long_dms_degrees">Longitude</label><br />
														<table>
															<tr>
																<td>
																	<input name="long_dms_degrees" type="text" maxlength="3"  onchange="CalculateCoord();"  autocomplete="new_long_dms_degrees"  size="3"  length="3"  id="long_dms_degrees"  onfocus="this.select()"  />&deg;
																</td>
																<td>
																	<input name="long_dms_minutes" type="text" maxlength="2"  onchange="CalculateCoord();"  autocomplete="new_long_dms_minutes"  size="2"  length="2"  id="long_dms_minutes"  onfocus="this.select()"  />&prime;
																</td>
																<td>
																	<input name="long_dms_seconds" type="text" maxlength="2"  onchange="CalculateCoord();"  autocomplete="new_long_dms_seconds"  size="2"  length="2"  id="long_dms_seconds"  onfocus="this.select()"  />&Prime;
																</td>
															</tr>
															<tr align="center">
																<td><label for="long_dms_degrees">Deg</label></td>
																<td><label for="long_dms_minutes">Min</label></td>
																<td><label for="long_dms_seconds">Sec</label></td>
															</tr>
														</table>
													</td>	
													<td valign="top" align="center" nowrap="nowrap"><label for="long_dir_dms1" class="btn-default">E<br>
														<input name="long_dir_dms" type="radio" value="E" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="E"  id="long_dir_dms1"  /></label><br><label for="long_dir_dms2" class="btn-default"><input name="long_dir_dms" type="radio" value="W" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="W"  id="long_dir_dms2"  checked="checked"  /><br />W</label>
													</td>
													<td align="center"><input type="button" id="geonames_btn1" value="Map It"  onclick="target_tab=4; GetGeonamesRecs(1);"  class="btn btn-info" />
													</td>
												</tr>
											</table>
										</div> 
										<div id="co2"><label for="coord_option2" class="btn-default">&nbsp;<input name="coord_option" type="radio" value="2" id="coord_option2"  onclick="CoordInput(this.value);"  /> &nbsp;Degrees, Decimal Minutes&nbsp;</label>
										</div>
										<div id="coord_inputs_d2" class="table-responsive" style="display:none">
											<table border="1" cellpadding="2" cellspacing="4">
												<tr>
													<td nowrap="nowrap"><label for="lat_ddm_degrees">Latitude</label><br />
														<table>
															<tr>
																<td>
														<input name="lat_ddm_degrees" type="text" maxlength="2"  onchange="CalculateCoord();"  autocomplete="new_lat_ddm_degrees"  size="2"  length="2"  id="lat_ddm_degrees"  onfocus="this.select()"  />&deg;
																</td>
																<td>
														<input name="lat_ddm_minutes" type="text" maxlength="8"  onchange="CalculateCoord();"  autocomplete="new_lat_ddm_minutes"  size="8"  length="8"  id="lat_ddm_minutes"  onfocus="this.select()"  />&prime;
																</td>
															</tr>
															<tr align="center">
																<td><label for="lat_ddm_degrees">Deg</label></td>
																<td><label for="lat_ddm_minutes">Min</label></td>
															</tr>
														</table>
													</td>	
													<td valign="top" align="center" nowrap="nowrap"><label for="lat_dir_ddm1" class="btn-default">N<br>
											<input name="lat_dir_ddm" type="radio" value="N" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="N"  id="lat_dir_ddm1"  checked="checked"  /></label><br /><label for="lat_dir_ddm2" class="btn-default"><input name="lat_dir_ddm" type="radio" value="S" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="S"  id="lat_dir_ddm2"  /><br />S</label>
													</td>					
													<td  nowrap="nowrap"><label for="long_ddm_degrees">Longitude</label><br />
														<table>
															<tr>
																<td>
														<input name="long_ddm_degrees" type="text" maxlength="3"  onchange="CalculateCoord();"  autocomplete="new_long_ddm_degrees"  size="3"  length="3"  id="long_ddm_degrees"  onfocus="this.select()"  />&deg;
																</td>
																<td>
											<input name="long_ddm_minutes" type="text" maxlength="8"  onchange="CalculateCoord();"  autocomplete="new_long_ddm_minutes"  size="8"  length="8"  id="long_ddm_minutes"  onfocus="this.select()"  />&prime;
																</td>
															</tr>
															<tr align="center">
																<td><label for="long_ddm_degrees">Deg</label></td>
																<td><label for="long_ddm_minutes">Min</label></td>
															</tr>
														</table>
													</td>
													<td valign="top" align="center" nowrap="nowrap"><label for="long_dir_ddm1" class="btn-default">E<br>
											<input name="long_dir_ddm" type="radio" value="E" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="E"  id="long_dir_ddm1"  /></label><br /><label for="long_dir_ddm2" class="btn-default">
											<input name="long_dir_ddm" type="radio" value="W" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="W"  id="long_dir_ddm2"  checked="checked"  /><br />W</label>
													</td>
													<td align="center"><input type="button" id="geonames_btn2" value="Map It"  onclick=" target_tab=4; GetGeonamesRecs(1);"  class="btn btn-info" />
													</td>
												</tr>
											</table>						
										</div>
										<div id="co3"><label for="coord_option3" class="btn-default">&nbsp;<input name="coord_option" type="radio" value="3" id="coord_option3"  onclick="CoordInput(this.value);"  />&nbsp;Decimal Degrees&nbsp;</label>
										</div>
										<div id="coord_inputs_d3" class="table-responsive" style="display:none">                
											<table border="1" cellpadding="2" cellspacing="4">
												<tr>
													<td nowrap="nowrap"><label for="lat_dd">Latitude</label><br />
											<input name="lat_dd" type="text" maxlength="8"  onchange="CalculateCoord();"  autocomplete="new_lat_dd"  size="8"  length="8"  id="lat_dd"  onfocus="this.select()"  />&deg;
													</td>
													<td valign="top" align="center" nowrap="nowrap"><label for="lat_dir1" class="btn-default">N<br>
											<input name="lat_dir" type="radio" value="N" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="N"  id="lat_dir1"  checked="checked"  /></label><br /><label for="lat_dir2" class="btn-default"><input name="lat_dir" type="radio" value="S" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="S"  id="lat_dir2"  /><br />S</label>
													</td>
													<td nowrap="nowrap"><label for="long_dd">Longitude</label><br />
											<input name="long_dd" type="text" maxlength="10"  onchange="CalculateCoord();"  autocomplete="new_long_dd"  size="10"  length="10"  id="long_dd"  onfocus="this.select()"  />&deg;
													</td>
													<td valign="top" align="center" nowrap="nowrap"><label for="long_dir1" class="btn-default">E<br>
											<input name="long_dir" type="radio" value="E" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="E"  id="long_dir1"  /></label><br /><label for="long_dir2" class="btn-default">
											<input name="long_dir" type="radio" value="W" maxlength="1"  onchange="CalculateCoord();"  size="1"  length="1"  title="W"  id="long_dir2"  checked="checked"  /><br>W</label>
													</td>
													<td align="center"><input type="button" id="geonames_btn3" value="Map It"  onclick=" target_tab=4; GetGeonamesRecs(1);"  class="btn btn-info" />
													</td>
												</tr>
											</table>
										</div>
									</div>
								</div>
							</div>
						</div>  
         				<div class="row">
							<div class="col-sm-12">
							   <div class="alert-info" id="map_expl"></div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12" style="border:thick">
								<div id="mapCanvas" style="display:none;">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
											<div id="gmap_disclaim" style="display:none">				
												<div id="legend_div">
												</div>
												<label>References to non-U.S. Department of the Interior (DOI) products do not constitute an endorsement by the DOI. By viewing the Google Maps API on this web site the user agrees to these <a href="http://code.google.com/apis/maps/terms.html" target="_blank">TERMS</a>
												of Service set forth by Google.</label>
											</div>
							</div>
						</div>

						<div class="row">
							<div class="col-sm-12">
								<div><label for="p_comments3">Comments (optional)</label>
								<textarea name="p_comments3" id="p_comments3" class="form-control form-control-sm" rows="3" maxlength="250" onchange="SinchComment(3);" autocomplete="new_p_comments3"></textarea>
								Maximum 250 characters</div>
							</div>
						</div> 
						<div class="row">
							<div class="col-sm-12"> 
						  <button type="button" class="btn btn-default"  name="bk_btn4" id="bk_btn4" onclick="if(document.getElementById('page_choice1').checked){goAwayTab(3);} else {goAwayTab(4);}"  title="Go Back">&lt;&lt;&nbsp;Go Back</button>&nbsp;&nbsp;&nbsp;&nbsp;
						  <button type="button" class="btn btn-primary" name="fw_btn4" id="fw_btn4" onclick="goAwayTab(6);" title="Continue">Continue&nbsp;&gt;&gt;</button>
							</div>
						</div>
					</div>
				</div>
			</div>
 
			<div class="TabbedPanelsContent">
				<h3>Please enter your contact information:</h3> 
				<div class="panel panel-default">
					<div class="panel-heading">
						<div class="row">
							<div class="col-sm-1"><div id="lbl_cont1"><label name="cont0">1</label></div>
							</div>
							<div class="col-sm-11">
								  <div> <button type="button" class="btn btn-default" name="bk_btn5" id="bk_btn52" onclick="goAwayTab(5)"  title="Go Back">&lt;&lt;&nbsp;Go Back</button>&nbsp;&nbsp;&nbsp;&nbsp;
							  <button type="button" class="btn btn-primary" name="fw_btn5" id="fw_btn52" onclick="goAwayTab(7);" title="Continue">Continue&nbsp;&gt;&gt;</button>
                              </div>
							</div>
						</div>
					</div>
					<div class="panel-body">
						<div class="row">
							<div class="col-sm-2"><div id="lbl_fname1"><label id="lb_first_name" for="p_first_name">First Name</label></div>
							</div>
							<div class="col-sm-10"><div><input name="p_first_name" type="text" maxlength="34"  title="First Name"  id="p_first_name"  onchange="nameCheck(this);"  size="34"  /></div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-2"><div id="lbl_lname1"><label id="lb_last_name" for="p_last_name">Last Name</label></div>
							</div>
							<div class="col-sm-10"><div><input name="p_last_name" type="text" maxlength="34"  title="Last Name"  id="p_last_name"  onchange="nameCheck(this);"  size="34"  /></div>
							</div>
						</div>
						<br />
						<div class="row">
							<div class="col-sm-2"><div id="lbl_email1"><label for="p_email">Email</label> 
							</div></div>
							<div class="col-sm-10">
                              <div><input name="p_email" type="email" maxlength="75"  title="email address"  id="p_email"  class="form-control form-control-sm"  onchange="emailCheck(this.value);"  />
                              </div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-2"><label for="p_phone">Daytime Phone</label>
							</div>
							<div class="col-sm-10"><div><input name="p_phone" type="tel" maxlength="22"  title="Phone number"  id="p_phone"  onkeypress="maskIt(this)"  size="22"  />(please enter digits only, it will be formatted automatically)</div>
							</div>
						</div>
						<br />
						<div class="row">
							<div class="col-sm-2"><label for="p_contact_cntry_code">Country</label>
							</div>
							<div class="col-sm-10" id="cont_cntry_td"><select name="p_contact_cntry_code" id="p_contact_cntry_code" >
    <option value="US">United States</option>
    <option value="CA">Canada</option>
    <option value="MX">Mexico</option>
    <option value="AF">Afghanistan</option>
    <option value="AL">Albania</option>
    <option value="AG">Algeria</option>
    <option value="AN">Andorra</option>
    <option value="AO">Angola</option>
    <option value="AV">Anguilla</option>
    <option value="AY">Antarctica</option>
    <option value="AC">Antigua And Barbuda</option>
    <option value="AR">Argentina</option>
    <option value="AM">Armenia</option>
    <option value="AA">Aruba</option>
    <option value="AT">Ashmore and Cartier Islands</option>
    <option value="AS">Australia</option>
    <option value="AU">Austria</option>
    <option value="AJ">Azerbaijan</option>
    <option value="BF">Bahamas, The</option>
    <option value="BA">Bahrain</option>
    <option value="BG">Bangladesh</option>
    <option value="BB">Barbados</option>
    <option value="BS">Bassas da India</option>
    <option value="BO">Belarus</option>
    <option value="BE">Belgium</option>
    <option value="BH">Belize</option>
    <option value="BN">Benin</option>
    <option value="BD">Bermuda</option>
    <option value="BT">Bhutan</option>
    <option value="BL">Bolivia</option>
    <option value="BK">Bosnia and Herzegovina</option>
    <option value="BC">Botswana</option>
    <option value="BV">Bouvet Island</option>
    <option value="BR">Brazil</option>
    <option value="IO">British Indian Ocean Territory</option>
    <option value="VI">British Virgin Islands</option>
    <option value="BX">Brunei</option>
    <option value="BU">Bulgaria</option>
    <option value="UV">Burkina</option>
    <option value="BM">Burma</option>
    <option value="BY">Burundi</option>
    <option value="CB">Cambodia</option>
    <option value="CM">Cameroon</option>
    <option value="CV">Cape Verde</option>
    <option value="CJ">Cayman Islands</option>
    <option value="CT">Central African Republic</option>
    <option value="CD">Chad</option>
    <option value="CI">Chile</option>
    <option value="CH">China</option>
    <option value="KT">Christmas Island</option>
    <option value="IP">Clipperton Island</option>
    <option value="CK">Cocos &#x28;Keeling&#x29; Islands</option>
    <option value="CO">Colombia</option>
    <option value="CN">Comoros</option>
    <option value="CG">Congo</option>
    <option value="CW">Cook Islands</option>
    <option value="CR">Coral Sea Islands</option>
    <option value="CS">Costa Rica</option>
    <option value="IV">Cote D&#x27;Ivoire</option>
    <option value="HR">Croatia</option>
    <option value="CU">Cuba</option>
    <option value="CY">Cyprus</option>
    <option value="EZ">Czech Republic</option>
    <option value="DA">Denmark</option>
    <option value="DJ">Djibouti</option>
    <option value="DO">Dominica</option>
    <option value="DR">Dominican Republic</option>
    <option value="TT">East Timor</option>
    <option value="EC">Ecuador</option>
    <option value="EG">Egypt</option>
    <option value="ES">El Salvador</option>
    <option value="EK">Equatorial Guinea</option>
    <option value="ER">Eritrea</option>
    <option value="EN">Estonia</option>
    <option value="ET">Ethiopia</option>
    <option value="EU">Europa Island</option>
    <option value="FK">Falkland Islands &#x28;Islas Malvinas&#x29;</option>
    <option value="FO">Faroe Islands</option>
    <option value="FM">Federated States Of Micronesia</option>
    <option value="FJ">Fiji</option>
    <option value="FI">Finland</option>
    <option value="FR">France</option>
    <option value="FG">French Guiana</option>
    <option value="FP">French Polynesia</option>
    <option value="FS">French Southern and Antarctic Lands</option>
    <option value="GB">Gabon</option>
    <option value="GA">Gambia, The</option>
    <option value="GZ">Gaza Strip</option>
    <option value="GG">Georgia</option>
    <option value="GM">Germany</option>
    <option value="GH">Ghana</option>
    <option value="GI">Gibraltar</option>
    <option value="GO">Glorioso Islands</option>
    <option value="GR">Greece</option>
    <option value="GL">Greenland</option>
    <option value="GJ">Grenada</option>
    <option value="GP">Guadeloupe</option>
    <option value="GT">Guatemala</option>
    <option value="GK">Guernsey</option>
    <option value="GV">Guinea</option>
    <option value="PU">Guinea-Bissau</option>
    <option value="GY">Guyana</option>
    <option value="HA">Haiti</option>
    <option value="HM">Heard Island and Mcdonald Islands</option>
    <option value="HO">Honduras</option>
    <option value="HK">Hong Kong</option>
    <option value="HU">Hungary</option>
    <option value="IC">Iceland</option>
    <option value="IN">India</option>
    <option value="ID">Indonesia</option>
    <option value="IR">Iran</option>
    <option value="IZ">Iraq</option>
    <option value="EI">Ireland</option>
    <option value="IS">Israel</option>
    <option value="IT">Italy</option>
    <option value="JM">Jamaica</option>
    <option value="JN">Jan Mayen</option>
    <option value="JA">Japan</option>
    <option value="JE">Jersey</option>
    <option value="JQ">Johnston Atoll</option>
    <option value="JO">Jordan</option>
    <option value="JU">Juan de Nova Island</option>
    <option value="KZ">Kazakhstan</option>
    <option value="KE">Kenya</option>
    <option value="KR">Kiribati</option>
    <option value="KU">Kuwait</option>
    <option value="KG">Kyrgyzstan</option>
    <option value="LA">Laos</option>
    <option value="LG">Latvia</option>
    <option value="LE">Lebanon</option>
    <option value="LT">Lesotho</option>
    <option value="LI">Liberia</option>
    <option value="LY">Libya</option>
    <option value="LS">Liechtenstein</option>
    <option value="LH">Lithuania</option>
    <option value="LU">Luxembourg</option>
    <option value="MC">Macau</option>
    <option value="MK">Macedonia</option>
    <option value="MA">Madagascar</option>
    <option value="MI">Malawi</option>
    <option value="MY">Malaysia</option>
    <option value="MV">Maldives</option>
    <option value="ML">Mali</option>
    <option value="MT">Malta</option>
    <option value="IM">Man, Isle of</option>
    <option value="RM">Marshall Islands</option>
    <option value="MB">Martinique</option>
    <option value="MR">Mauritania</option>
    <option value="MP">Mauritius</option>
    <option value="MF">Mayotte</option>
    <option value="MD">Moldova</option>
    <option value="MN">Monaco</option>
    <option value="MG">Mongolia</option>
    <option value="MJ">Montenegro</option>
    <option value="MH">Montserrat</option>
    <option value="MO">Morocco</option>
    <option value="MZ">Mozambique</option>
    <option value="WA">Namibia</option>
    <option value="NR">Nauru</option>
    <option value="NP">Nepal</option>
    <option value="NL">Netherlands</option>
    <option value="NT">Netherlands Antilles</option>
    <option value="NC">New Caledonia</option>
    <option value="NZ">New Zealand</option>
    <option value="NU">Nicaragua</option>
    <option value="NG">Niger</option>
    <option value="NI">Nigeria</option>
    <option value="NE">Niue</option>
    <option value="NF">Norfolk Island</option>
    <option value="KN">North Korea</option>
    <option value="CQ">Northern Mariana Islands</option>
    <option value="NO">Norway</option>
    <option value="MU">Oman</option>
    <option value="PK">Pakistan</option>
    <option value="WE">Palestine</option>
    <option value="PM">Panama</option>
    <option value="PP">Papua New Guinea</option>
    <option value="PF">Paracel Islands</option>
    <option value="PA">Paraguay</option>
    <option value="PE">Peru</option>
    <option value="RP">Philippines</option>
    <option value="PC">Pitcairn Islands</option>
    <option value="PL">Poland</option>
    <option value="PO">Portugal</option>
    <option value="QA">Qatar</option>
    <option value="CF">Republic of the Congo</option>
    <option value="RE">Reunion</option>
    <option value="RO">Romania</option>
    <option value="RS">Russia</option>
    <option value="RW">Rwanda</option>
    <option value="SM">San Marino</option>
    <option value="TP">Sao Tome and Principe</option>
    <option value="SA">Saudi Arabia</option>
    <option value="SG">Senegal</option>
    <option value="RB">Serbia</option>
    <option value="YI">Serbia and Montenegro</option>
    <option value="SE">Seychelles</option>
    <option value="SL">Sierra Leone</option>
    <option value="SN">Singapore</option>
    <option value="LO">Slovakia</option>
    <option value="SI">Slovenia</option>
    <option value="BP">Solomon Islands</option>
    <option value="SO">Somalia</option>
    <option value="SF">South Africa</option>
    <option value="SX">South Georgia and The South Sandwich Islands</option>
    <option value="KS">South Korea</option>
    <option value="OD">South Sudan</option>
    <option value="SP">Spain</option>
    <option value="PG">Spratly Islands</option>
    <option value="CE">Sri Lanka</option>
    <option value="SH">St. Helena</option>
    <option value="SC">St. Kitts and Nevis</option>
    <option value="ST">St. Lucia</option>
    <option value="SB">St. Pierre And Miquelon</option>
    <option value="VC">St. Vincent and The Grenadines</option>
    <option value="SU">Sudan</option>
    <option value="NS">Suriname</option>
    <option value="SV">Svalbard</option>
    <option value="WZ">Swaziland</option>
    <option value="SW">Sweden</option>
    <option value="SZ">Switzerland</option>
    <option value="SY">Syria</option>
    <option value="TW">Taiwan</option>
    <option value="TI">Tajikistan</option>
    <option value="TZ">Tanzania</option>
    <option value="TH">Thailand</option>
    <option value="TO">Togo</option>
    <option value="TL">Tokelau</option>
    <option value="TN">Tonga</option>
    <option value="TD">Trinidad And Tobago</option>
    <option value="TE">Tromelin Island</option>
    <option value="PS">Trust Territory of the Pacific Islands &#x28;Palau&#x29;</option>
    <option value="TS">Tunisia</option>
    <option value="TU">Turkey</option>
    <option value="TX">Turkmenistan</option>
    <option value="TK">Turks and Caicos Islands</option>
    <option value="TV">Tuvalu</option>
    <option value="UG">Uganda</option>
    <option value="UP">Ukraine</option>
    <option value="AE">United Arab Emirates</option>
    <option value="UK">United Kingdom</option>
    <option value="UY">Uruguay</option>
    <option value="UZ">Uzbekistan</option>
    <option value="NH">Vanuatu</option>
    <option value="VT">Vatican City</option>
    <option value="VE">Venezuela</option>
    <option value="VM">Vietnam</option>
    <option value="WF">Wallis and Futuna</option>
    <option value="WI">Western Sahara</option>
    <option value="WS">Western Samoa</option>
    <option value="YM">Yemen</option>
    <option value="ZA">Zambia</option>
    <option value="ZI">Zimbabwe</option>
</select> 
						   </div>
						</div>
						<div class="row">
							<div class="col-sm-2"><label for="p_street1">Street Address</label>
							</div>
							<div class="col-sm-10">
								<div class="row">
									<div class="col-sm-12"><div><input name="p_street1" type="text" maxlength="34"  title="Street address"  id="p_street1"  onkeyup="return autoTab(this, 34, event);"  size="34"  /></div> 
									</div>
								</div>
								<div class="row">
									<div class="col-sm-12"><div><input name="p_street2" type="text" maxlength="34"  title="Street Address continued"  id="p_street2"  size="34"  /></div>                  
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-2"><label for="p_zip">Zip/Postal Code</label>
							</div>
							<div class="col-sm-10"><div><input name="p_zip" type="text" maxlength="10"  title="Zip code"  id="p_zip"  onkeyup="getCityAndState()"  size="10"  /></div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-2"><label for="p_city">City</label>
							</div>
							<div class="col-sm-10"><div><input name="p_city" type="text" maxlength="34"  title="City"  id="p_city"  size="34"  /></div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-2"><label for="p_c_state">State</label>
							</div>
							<div class="col-sm-10"><div><input name="p_c_state" type="text" maxlength="25"  title="State"  id="p_c_state"  size="10"  /></div>
							</div>
						</div>
				 		<br />
						<div class="row">
							<div class="col-sm-12">
								<div id="lbl20"><label>Would you like to receive a certificate of the banding data via email?</label>&nbsp;&nbsp;
								<label for="cofaY" class="btn-default">&nbsp;<input name="p_cofa" type="radio" value="E" checked="checked"  id="cofaY"  />&nbsp;Yes&nbsp;</label>&nbsp;
								<label for="cofaN" class="btn-default">&nbsp;<input name="p_cofa" type="radio" value="N" id="cofaN"  />&nbsp;No&nbsp;</label>
								</div>
								 <p class="form-control-static">Your response will apply to any additional contacts as well.</p>
								 <p class="form-control-static">As of July 2011, we are issuing electronic certificates only. Once the report is processed, you will receive an email with the certificate if you requested it, or you may download the certificate from our website using the band number, first name, and last name.</p> 
							</div>
						</div> 
					</div>
				</div>
				<div id="extra_contact_div"> 
				</div>
				<div class="row">
					<div class="col-sm-12">
						<input type="button" id="add_cont_btn" name="add_cont_btn" value="Add Additional Contact" onclick="AddContact();">
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">&nbsp;
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<button type="button" class="btn btn-default" name="bk_btn5" id="bk_btn5" onclick="goAwayTab(5)"  title="Go Back">&lt;&lt;&nbsp;Go Back</button>&nbsp;&nbsp;&nbsp;&nbsp;
					  <button type="button" class="btn btn-primary" name="fw_btn5" id="fw_btn5" onclick="goAwayTab(7);" title="Continue">Continue&nbsp;&gt;&gt;</button>
					</div>
				</div>
			</div>   
       
			<div class="TabbedPanelsContent">
				<h4>Please review the information you have entered below</h4>
				<div class="row">
					<div class="col-sm-6">
						<div class="alert-info">If there are any errors, click "edit" next to it and make corrections.<br />
		If the information is correct, click "Send to BBL" button to complete your submission.
						</div>
					</div>
					<div class="col-sm-6">
						<button type="button" class="btn btn-success" name="submit_btn1" id="submit_btn1" onclick="this.disabled=true;document.getElementById('submit_btn').disabled=true;Formverification();">Send to BBL</button>
					</div>
				</div>
				<div class="row" >
					<div class="col-sm-6" id="conf_div">
				  
					</div>
					<div class="col-sm-6" id="show_cont_div">
				  
					</div>
				</div>
				<div class="row" >
					<div class="col-sm-12" id="conf_div2">
						<div id="errm_div" class="alert-danger">
						</div>
					</div>
				</div>
                <div class="row" >
					<div class="col-sm-12" id="conf_div2">
						<div id="errm_div2" class="alert-info" style="display:none">
                        After submitting your report you will have the ability to upload photos of the band and/or bird to further document your report.
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12"><button type="button" class="btn btn-default" name="bk_btn6" id="bk_btn6" onclick="goAwayTab(6)"  title="Go Back">&lt;&lt;&nbsp;Go Back</button>&nbsp;&nbsp;&nbsp;&nbsp;<button type="button" class="btn btn-success" name="submit_btn" id="submit_btn" onclick="this.disabled=true;document.getElementById('submit_btn1').disabled=true;Formverification();">Send to BBL</button> 
					</div>
				</div>
	
			</div>
		</div>

	
	</div>
    <script type="text/javascript">
var TabbedPanels1 = new Spry.Widget.TabbedPanels("TabbedPanels1");
</script>

<input type="hidden" name="__ncforminfo" value="JDOyCKHC-pGmfxH8JPijf5cp-SvnH3h4LuGC6s6inJcl4XOsY1Ryzu0RtYBKYBArpj9JcW1HL-2UBqL4NR_m8Y7BkL4PUSXeebAPRK1fjAhgG250kJ7u0LXPy6sgWm5ODecS2br-Gr_lNxzzHXvLYqmQUvySfA1zhpTPyRcG-YxgP7utVPC9PugoGNRFgA7NP3WsK7NpOGhhmRHugNYyO1yDrRXFdk1OKXZscHpQN6afrzPxVgPTkd-3DwyNuyshfH97cImQ8X1kiV76WdixeJ9Vija-8AdYKRJ7RhCYTHvDmKFMGN9poMzHHfKA1zAfjjxaR_niS5votCboONiZFxIJYfvXqsOIbjTKEXS5Qt5Mf9J0q_zY9V6Xe_R0Du8bE9g0Gfuk0ckdOXG6Kk07yFiui1KtCtVWmqLGD1jxVZDfhjVHaZoSzsVMxVgdAVUm9rwun5P9xc-44fXnQAvV0r5TD7iR_FAh4Tlg-jbFE8go3umw8QXS7xv9PmKv4fY7AwV3INIyYKqDYhCxLAnO8oyKTchNlsuBI0h8GlBFglBkYC8Mn-CLAHpr6rfAg_V-xXntmQkdAT_YwGGMBfKpSQwVLBszZ3EEPSPGviMoqNCE-ztT_AjJ0C544cM9yU-GOuUAMYZHGNoK0znw-zb-PdLP4J5Y3a-Y8k6FnKu9XDuoU30xXvc4oD4Dc1YCIL6SOaCdmzzXah9oX8DreCr9Cbi4-mmMjiFPVnVAOm-2teSKiG6dSbaBQ-NfwhvR3wHECfsUmRKtdnJ3O5myQlXsDmQLUgNj8OCbkDjbXvMZdLg5Vh8k-k9FmDrDrvrI27Po"/></form>

</div>
	
	<!-- Display the countdown timer in an element -->
<div id="timerdiv" class="alert-info"></div>

<script>
// Set the date we're counting down to
var countDownDate = new Date();
countDownDate = countDownDate.setHours(countDownDate.getHours() + 1);
//countDownDate = countDownDate.setMinutes(countDownDate.getMinutes() + 2);

// Update the count down every 1 second
var x = setInterval(function() {

  // Get todays date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  //var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);
  
  // Display the result in the element with id="timerdiv"
  document.getElementById("timerdiv").innerHTML ='This page will expire in ' + (hours>0?hours + "h ":"")
  + ((hours+minutes)>0?minutes + " min ":"") + seconds + " sec ";

  // If the count down is finished, write some text 
  if (distance < 60000){
	  document.getElementById("timerdiv").className="alert-danger";
  }
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("timerdiv").innerHTML = "The session has expired. Please refresh the page and re-enter your encounter information if it has not been submitted yet.";
	alert("The reportband.gov session has expired. Please refresh encounter reporting page and re-enter your encounter information if it has not been submitted yet.");
  }
}, 1000);
</script>

<form name="hidden_form" id="hidden_form" action="WEP_submit_mob.cfm" method="post" autocomplete="off" onsubmit="return _CF_checkhidden_form(this)"><input name="p_band" type="hidden" autocomplete="new_p_band"  id="p_band"  /><input name="p_second_band" type="hidden" autocomplete="new_p_secondband"  id="p_second_band"  /><input name="p_rwrd" type="hidden" autocomplete="new_p_rwrd"  id="p_rwrd"  /><input name="p_species" type="hidden" autocomplete="new_p_speciesh"  id="p_speciesh"  /><input name="p_marker" type="hidden" autocomplete="new_p_marker"  id="p_marker"  /><input name="p_how" type="hidden" autocomplete="new_p_how"  id="p_how"  /><input name="p_who" type="hidden" autocomplete="new_p_who"  id="p_who"  /><input name="p_pc" type="hidden" autocomplete="new_p_pc"  id="p_pc"  /><input name="p_enc_date" type="hidden" autocomplete="new_p_enc_dt"  id="p_enc_date"  /><input name="p_enctr_country" type="hidden" autocomplete="new_country"  id="p_enctr_country"  /><input name="p_enctr_state" type="hidden" autocomplete="new_state"  id="p_enctr_state"  /><input name="p_enctr_county" type="hidden" autocomplete="new_county"  id="p_enctr_county"  /><input name="p_enctr_town" type="hidden" autocomplete="new_town"  id="p_enctr_town"  /><input name="p_miles" type="hidden" autocomplete="new_milesh"  id="p_milesh"  /><input name="p_dir" type="hidden" autocomplete="new_dirh"  id="p_dirh"  /><input name="p_loc_desc" type="hidden" autocomplete="new_p_loc_desch"  id="p_loc_desch"  /><input name="p_lat" type="hidden" autocomplete="new_p_lat"  id="p_lat"  /><input name="p_lon" type="hidden" autocomplete="new_p_lon"  id="p_lon"  /><input name="p_zoom" type="hidden" autocomplete="new_p_zoom"  id="p_zoom"  /><input name="p_coord_prec" type="hidden" autocomplete="new_p_coord_prec"  id="p_coord_prec"  /><input name="p_cofa" type="hidden" value="E" autocomplete="off"  id="p_cofa"  /><input name="p_lang" type="hidden" value="E" autocomplete="off"  id="p_lang"  /><input name="p_loc_choice" type="hidden" autocomplete="new_loc_choice"  id="p_loc_choice"  /><input name="p_remarks" type="hidden" autocomplete="new_p_remarks"  id="p_remarks"  /><input name="map_used" type="hidden" autocomplete="new_map_used"  id="map_used"  /><input name="p_enc_permit" type="hidden" autocomplete="new_enc_permit"  id="p_enc_permit"  />

<div name="hd_marker_div" id="hd_marker_div">
        
</div>
<div name="hd_contact_div" id="hd_contact_div">
        
</div>
<div id="extra_hd_div">

</div>

<input name="csrftoken" type="hidden" value="5506717F60200B18845B25E8DA4DF3E1156C20BF" id="csrftoken2"  /><input type="hidden" name="__ncforminfo" value="JDOyCKHC-pGmfxH8JPijf5cp-SvnH3h4LuGC6s6inJdbzJyMhEU1wi29z3JcGnIwhwL6ct2dCKhudknCL9sSxOp4NJocpoCC1zk06sqigqTn77kSAM0FfvzZWi0TL8Ma3FOggl6VNfjmJPT95CSKWXNHqKQJNcrfgmFfLdvS8Nhfxtmj31owiGlPkphTFU8wDwrtlVSKIm3M2eU8PDasHeLascR3k-830UohvcQRC1pDq6BcMF6O4JV9sjRFZOy4k3xPveX0U5apP0BllMGXbwW6nM7BzdGyniUhOorRxeJWYcZNnyZGnTG4go27vYZTAs7E3WB5TesUbYUBmXBbJgEE_OJaM9hiu50gPtnHkV0rJPHfGf3-vg=="/></form>




<!-- BEGIN USGS Footer Template -->
<div style="height:55px; opacity: 0; position:relative;"></div>
	
<footer class="footer">
	<div class="tmp-container">
		<!-- .footer-wrap -->
			<!-- .footer-doi -->
			<div class="footer-doi">
				<!-- footer nav links -->
				<ul class="menu nav">
					<li class="first leaf menu-links menu-level-1"><a href="https://www.doi.gov/privacy">DOI Privacy Policy</a></li>
					<li class="leaf menu-links menu-level-1"><a href="https://www.usgs.gov/laws/policies_notices.html">Legal</a></li>
					<li class="leaf menu-links menu-level-1"><a href="https://www2.usgs.gov/laws/accessibility.html">Accessibility</a></li>
					<li class="leaf menu-links menu-level-1"><a href="https://www.usgs.gov/sitemap.html">Site Map</a></li>
					<li class="last leaf menu-links menu-level-1"><a href="https://answers.usgs.gov/">Contact USGS</a></li>
				</ul>
				<!--/ footer nav links -->      
			</div>
			<!-- /.footer-doi -->

			<hr>

		<!-- .footer-utl-links -->
		<div class="footer-doi">
			<ul class="menu nav">
				<li class="first leaf menu-links menu-level-1"><a href="https://www.doi.gov/">U.S. Department of the Interior</a></li>
				<li class="leaf menu-links menu-level-1"><a href="https://www.doioig.gov/">DOI Inspector General</a></li>
				<li class="leaf menu-links menu-level-1"><a href="https://www.whitehouse.gov/">White House</a></li>
				<li class="leaf menu-links menu-level-1"><a href="https://www.whitehouse.gov/omb/e-gov/">E-gov</a></li>
				<li class="leaf menu-links menu-level-1"><a href="https://www.whitehouse.gov/open">Open Government</a></li>
				<li class="leaf menu-links menu-level-1"><a href="https://www.doi.gov/pmb/eeo/no-fear-act">No Fear Act</a></li>
				<li class="last leaf menu-links menu-level-1"><a href="https://www2.usgs.gov/foia">FOIA</a></li>
			</ul>
			</div>			
		<!-- /.footer-utl-links -->
		<!-- .footer-social-links -->
		<div class="footer-social-links">
			<ul class="social">
				<li class="follow">Follow</li>
				<li class="twitter">
					<a href="https://twitter.com/usgs" target="_blank">
						<i class="fa fa-twitter-square"><span class="only">Twitter</span></i>
					</a>
				</li>
				<li class="facebook">
					<a href="https://facebook.com/usgeologicalsurvey" target="_blank">
						<i class="fa fa-facebook-square"><span class="only">Facebook</span></i>
					</a>
				</li>
				<li class="googleplus">
					<a href="https://plus.google.com/112624925658443863798/posts" target="_blank">
						<i class="fa fa-google-plus-square"><span class="only">Google+</span></i>
					</a>
				</li>
				<li class="github">
					<a href="https://github.com/usgs" target="_blank">
						<i class="fa fa-github"><span class="only">GitHub</span></i>
					</a>
				</li>
				<li class="flickr">
					<a href="https://flickr.com/usgeologicalsurvey" target="_blank">
						<i class="fa fa-flickr"><span class="only">Flickr</span></i>
					</a>
				</li>
				<li class="youtube">
					<a href="http://youtube.com/usgs" target="_blank">
						<i class="fa fa-youtube-play"><span class="only">YouTube</span></i>
					</a>
				</li>
				<li class="instagram">
					<a href="https://instagram.com/usgs" target="_blank">
						<i class="fa fa-instagram"><span class="only">Instagram</span></i>
					</a>
				</li>
			</ul>
		</div>
		<!-- /.footer-social-links -->
	</div>
		<!-- /.footer-wrap -->	
</footer>
<!-- END USGS Footer Template- -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKQR8KP"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

</body>
</html>